<!DOCTYPE html>
<!-- saved from url=(0051)http://neuralnetworksanddeeplearning.com/chap2.html -->
<html lang="en"><!-- Produced from a LaTeX source file.  Note that the production is done --><!-- by a very rough-and-ready (and buggy) script, so the HTML and other  --><!-- code is quite ugly!  Later versions should be better.                --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8">
    <meta name="citation_title" content="Neural Networks and Deep Learning">
    <meta name="citation_author" content="Nielsen, Michael A.">
    <meta name="citation_publication_date" content="2015">
    <meta name="citation_fulltext_html_url" content="http://neuralnetworksanddeeplearning.com">
    <meta name="citation_publisher" content="Determination Press">
    <link rel="icon" href="http://neuralnetworksanddeeplearning.com/nnadl_favicon.ICO">
    <title>Neural networks and deep learning</title>
    <script async="" src="./Neural networks and deep learning 2_files/analytics.js"></script><script src="./Neural networks and deep learning 2_files/jquery.min.js"></script>
    <script type="text/x-mathjax-config;executed=true">
      MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$','$']]},
        "HTML-CSS": 
          {scale: 92},
        TeX: { equationNumbers: { autoNumber: "AMS" }}});
    </script>
    <script type="text/javascript" src="./Neural networks and deep learning 2_files/MathJax.js"></script>


    <link href="http://neuralnetworksanddeeplearning.com/assets/style.css" rel="stylesheet">
    <link href="http://neuralnetworksanddeeplearning.com/assets/pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">

<style>
/* Adapted from */
/* https://groups.google.com/d/msg/mathjax-users/jqQxrmeG48o/oAaivLgLN90J, */
/* by David Cervone */

@font-face {
    font-family: 'MJX_Math';
    src: url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Math-Italic.eot'); /* IE9 Compat Modes */
    src: url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Math-Italic.eot?iefix') format('eot'),
    url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff')  format('woff'),
    url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf')  format('opentype'),
    url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/svg/MathJax_Math-Italic.svg#MathJax_Math-Italic') format('svg');
}

@font-face {
    font-family: 'MJX_Main';
    src: url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Main-Regular.eot'); /* IE9 Compat Modes */
    src: url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Main-Regular.eot?iefix') format('eot'),
    url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff')  format('woff'),
    url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf')  format('opentype'),
    url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/svg/MathJax_Main-Regular.svg#MathJax_Main-Regular') format('svg');
}
</style>

  <style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">.MathJax_Preview .MJXc-math {color: inherit!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXc-script {font-size: .8em}
.MJXc-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXc-bold {font-weight: bold}
.MJXc-italic {font-style: italic}
.MJXc-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-largeop {font-size: 150%}
.MJXc-largeop.MJXc-int {vertical-align: -.2em}
.MJXc-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXc-display {display: block; text-align: center; margin: 1em 0}
.MJXc-math span {display: inline-block}
.MJXc-box {display: block!important; text-align: center}
.MJXc-box:after {content: " "}
.MJXc-rule {display: block!important; margin-top: .1em}
.MJXc-char {display: block!important}
.MJXc-mo {margin: 0 .15em}
.MJXc-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXc-denom {display: inline-table!important; width: 100%}
.MJXc-denom > * {display: table-row!important}
.MJXc-surd {vertical-align: top}
.MJXc-surd > * {display: block!important}
.MJXc-script-box > *  {display: table!important; height: 50%}
.MJXc-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXc-script-box > *:last-child > * {vertical-align: bottom}
.MJXc-script-box > * > * > * {display: block!important}
.MJXc-mphantom {visibility: hidden}
.MJXc-munderover {display: inline-table!important}
.MJXc-over {display: inline-block!important; text-align: center}
.MJXc-over > * {display: block!important}
.MJXc-munderover > * {display: table-row!important}
.MJXc-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXc-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXc-mtr {display: table-row!important}
.MJXc-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXc-mtr > .MJXc-mtd:first-child {padding-left: 0}
.MJXc-mtr:first-child > .MJXc-mtd {padding-top: 0}
.MJXc-mlabeledtr {display: table-row!important}
.MJXc-mlabeledtr > .MJXc-mtd:first-child {padding-left: 0}
.MJXc-mlabeledtr:first-child > .MJXc-mtd {padding-top: 0}
.MJXc-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXc-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXc-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXc-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXc-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXc-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXc-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXc-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXc-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXc-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXc-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_CHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Main; src: url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff?rev=2.5.1') format('woff'), url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf?rev=2.5.1') format('opentype')}
@font-face {font-family: MathJax_Main-bold; src: url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff?rev=2.5.1') format('woff'), url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf?rev=2.5.1') format('opentype')}
@font-face {font-family: MathJax_Main-italic; src: url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff?rev=2.5.1') format('woff'), url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf?rev=2.5.1') format('opentype')}
@font-face {font-family: MathJax_Math-italic; src: url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff?rev=2.5.1') format('woff'), url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf?rev=2.5.1') format('opentype')}
@font-face {font-family: MathJax_Caligraphic; src: url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff?rev=2.5.1') format('woff'), url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf?rev=2.5.1') format('opentype')}
@font-face {font-family: MathJax_Size1; src: url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff?rev=2.5.1') format('woff'), url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf?rev=2.5.1') format('opentype')}
@font-face {font-family: MathJax_Size2; src: url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff?rev=2.5.1') format('woff'), url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf?rev=2.5.1') format('opentype')}
@font-face {font-family: MathJax_Size3; src: url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff?rev=2.5.1') format('woff'), url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf?rev=2.5.1') format('opentype')}
@font-face {font-family: MathJax_Size4; src: url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff?rev=2.5.1') format('woff'), url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf?rev=2.5.1') format('opentype')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">@font-face {font-family: MathJax_AMS; src: url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_AMS-Regular.woff?rev=2.5.1') format('woff'), url('http://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf?rev=2.5.1') format('opentype')}
</style></head>
  <body><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div><div class="header"><h1 class="chapter_number">
  <a href="">CHAPTER 2</a></h1>
  <h1 class="chapter_title"><a href="">How the backpropagation algorithm works</a></h1></div><div class="section"><div id="toc"> 
<p class="toc_title"><a href="http://neuralnetworksanddeeplearning.com/index.html">Neural Networks and Deep Learning</a></p><p class="toc_not_mainchapter"><a href="http://neuralnetworksanddeeplearning.com/about.html">What this book is about</a></p><p class="toc_not_mainchapter"><a href="http://neuralnetworksanddeeplearning.com/exercises_and_problems.html">On the exercises and problems</a></p><p class="toc_mainchapter"><a id="toc_using_neural_nets_to_recognize_handwritten_digits_reveal" class="toc_reveal" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><img id="toc_img_using_neural_nets_to_recognize_handwritten_digits" src="./Neural networks and deep learning 2_files/arrow.png" width="15px"></a><a href="http://neuralnetworksanddeeplearning.com/chap1.html">Using neural nets to recognize handwritten digits</a></p><div id="toc_using_neural_nets_to_recognize_handwritten_digits" style="display: none;"><p class="toc_section"></p><ul><a href="http://neuralnetworksanddeeplearning.com/chap1.html#perceptrons"><li>Perceptrons</li></a><a href="http://neuralnetworksanddeeplearning.com/chap1.html#sigmoid_neurons"><li>Sigmoid neurons</li></a><a href="http://neuralnetworksanddeeplearning.com/chap1.html#the_architecture_of_neural_networks"><li>The architecture of neural networks</li></a><a href="http://neuralnetworksanddeeplearning.com/chap1.html#a_simple_network_to_classify_handwritten_digits"><li>A simple network to classify handwritten digits</li></a><a href="http://neuralnetworksanddeeplearning.com/chap1.html#learning_with_gradient_descent"><li>Learning with gradient descent</li></a><a href="http://neuralnetworksanddeeplearning.com/chap1.html#implementing_our_network_to_classify_digits"><li>Implementing our network to classify digits</li></a><a href="http://neuralnetworksanddeeplearning.com/chap1.html#toward_deep_learning"><li>Toward deep learning</li></a></ul><p></p></div>
<script>
$('#toc_using_neural_nets_to_recognize_handwritten_digits_reveal').click(function() { 
   var src = $('#toc_img_using_neural_nets_to_recognize_handwritten_digits').attr('src');
   if(src == 'images/arrow.png') {
     $("#toc_img_using_neural_nets_to_recognize_handwritten_digits").attr('src', 'images/arrow_down.png');
   } else {
     $("#toc_img_using_neural_nets_to_recognize_handwritten_digits").attr('src', 'images/arrow.png');
   };
   $('#toc_using_neural_nets_to_recognize_handwritten_digits').toggle('fast', function() {});  
});</script><p class="toc_mainchapter"><a id="toc_how_the_backpropagation_algorithm_works_reveal" class="toc_reveal" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><img id="toc_img_how_the_backpropagation_algorithm_works" src="./Neural networks and deep learning 2_files/arrow.png" width="15px"></a><a href="./Neural networks and deep learning 2_files/Neural networks and deep learning 2.html">How the backpropagation algorithm works</a></p><div id="toc_how_the_backpropagation_algorithm_works" style="display: none;"><p class="toc_section"></p><ul><a href="http://neuralnetworksanddeeplearning.com/chap2.html#warm_up_a_fast_matrix-based_approach_to_computing_the_output_from_a_neural_network"><li>Warm up: a fast matrix-based approach to computing the output
  from a neural network</li></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#the_two_assumptions_we_need_about_the_cost_function"><li>The two assumptions we need about the cost function</li></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#the_hadamard_product_$s_\odot_t$"><li>The Hadamard product, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-1-Frame"><nobr><span class="math" id="MathJax-Span-1" role="math" style="width: 2.159em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.11em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.267em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-4" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="mi" id="MathJax-Span-5" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">t</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.148em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1">s \odot t</script></li></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#the_four_fundamental_equations_behind_backpropagation"><li>The four fundamental equations behind backpropagation</li></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#proof_of_the_four_fundamental_equations_(optional)"><li>Proof of the four fundamental equations (optional)</li></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#the_backpropagation_algorithm"><li>The backpropagation algorithm</li></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#the_code_for_backpropagation"><li>The code for backpropagation</li></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#in_what_sense_is_backpropagation_a_fast_algorithm"><li>In what sense is backpropagation a fast algorithm?</li></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#backpropagation_the_big_picture"><li>Backpropagation: the big picture</li></a></ul><p></p></div>
<script>
$('#toc_how_the_backpropagation_algorithm_works_reveal').click(function() { 
   var src = $('#toc_img_how_the_backpropagation_algorithm_works').attr('src');
   if(src == 'images/arrow.png') {
     $("#toc_img_how_the_backpropagation_algorithm_works").attr('src', 'images/arrow_down.png');
   } else {
     $("#toc_img_how_the_backpropagation_algorithm_works").attr('src', 'images/arrow.png');
   };
   $('#toc_how_the_backpropagation_algorithm_works').toggle('fast', function() {});  
});</script><p class="toc_mainchapter"><a id="toc_improving_the_way_neural_networks_learn_reveal" class="toc_reveal" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><img id="toc_img_improving_the_way_neural_networks_learn" src="./Neural networks and deep learning 2_files/arrow.png" width="15px"></a><a href="http://neuralnetworksanddeeplearning.com/chap3.html">Improving the way neural networks learn</a></p><div id="toc_improving_the_way_neural_networks_learn" style="display: none;"><p class="toc_section"></p><ul><a href="http://neuralnetworksanddeeplearning.com/chap3.html#the_cross-entropy_cost_function"><li>The cross-entropy cost function</li></a><a href="http://neuralnetworksanddeeplearning.com/chap3.html#overfitting_and_regularization"><li>Overfitting and regularization</li></a><a href="http://neuralnetworksanddeeplearning.com/chap3.html#weight_initialization"><li>Weight initialization</li></a><a href="http://neuralnetworksanddeeplearning.com/chap3.html#handwriting_recognition_revisited_the_code"><li>Handwriting recognition revisited: the code</li></a><a href="http://neuralnetworksanddeeplearning.com/chap3.html#how_to_choose_a_neural_network's_hyper-parameters"><li>How to choose a neural network's hyper-parameters?</li></a><a href="http://neuralnetworksanddeeplearning.com/chap3.html#other_techniques"><li>Other techniques</li></a></ul><p></p></div>
<script>
$('#toc_improving_the_way_neural_networks_learn_reveal').click(function() { 
   var src = $('#toc_img_improving_the_way_neural_networks_learn').attr('src');
   if(src == 'images/arrow.png') {
     $("#toc_img_improving_the_way_neural_networks_learn").attr('src', 'images/arrow_down.png');
   } else {
     $("#toc_img_improving_the_way_neural_networks_learn").attr('src', 'images/arrow.png');
   };
   $('#toc_improving_the_way_neural_networks_learn').toggle('fast', function() {});  
});</script><p class="toc_mainchapter"><a id="toc_a_visual_proof_that_neural_nets_can_compute_any_function_reveal" class="toc_reveal" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><img id="toc_img_a_visual_proof_that_neural_nets_can_compute_any_function" src="./Neural networks and deep learning 2_files/arrow.png" width="15px"></a><a href="http://neuralnetworksanddeeplearning.com/chap4.html">A visual proof that neural nets can compute any function</a></p><div id="toc_a_visual_proof_that_neural_nets_can_compute_any_function" style="display: none;"><p class="toc_section"></p><ul><a href="http://neuralnetworksanddeeplearning.com/chap4.html#two_caveats"><li>Two caveats</li></a><a href="http://neuralnetworksanddeeplearning.com/chap4.html#universality_with_one_input_and_one_output"><li>Universality with one input and one output</li></a><a href="http://neuralnetworksanddeeplearning.com/chap4.html#many_input_variables"><li>Many input variables</li></a><a href="http://neuralnetworksanddeeplearning.com/chap4.html#extension_beyond_sigmoid_neurons"><li>Extension beyond sigmoid neurons</li></a><a href="http://neuralnetworksanddeeplearning.com/chap4.html#fixing_up_the_step_functions"><li>Fixing up the step functions</li></a><a href="http://neuralnetworksanddeeplearning.com/chap4.html#conclusion"><li>Conclusion</li></a></ul><p></p></div>
<script>
$('#toc_a_visual_proof_that_neural_nets_can_compute_any_function_reveal').click(function() { 
   var src = $('#toc_img_a_visual_proof_that_neural_nets_can_compute_any_function').attr('src');
   if(src == 'images/arrow.png') {
     $("#toc_img_a_visual_proof_that_neural_nets_can_compute_any_function").attr('src', 'images/arrow_down.png');
   } else {
     $("#toc_img_a_visual_proof_that_neural_nets_can_compute_any_function").attr('src', 'images/arrow.png');
   };
   $('#toc_a_visual_proof_that_neural_nets_can_compute_any_function').toggle('fast', function() {});  
});</script><p class="toc_mainchapter"><a id="toc_why_are_deep_neural_networks_hard_to_train_reveal" class="toc_reveal" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><img id="toc_img_why_are_deep_neural_networks_hard_to_train" src="./Neural networks and deep learning 2_files/arrow.png" width="15px"></a><a href="http://neuralnetworksanddeeplearning.com/chap5.html">Why are deep neural networks hard to train?</a></p><div id="toc_why_are_deep_neural_networks_hard_to_train" style="display: none;"><p class="toc_section"></p><ul><a href="http://neuralnetworksanddeeplearning.com/chap5.html#the_vanishing_gradient_problem"><li>The vanishing gradient problem</li></a><a href="http://neuralnetworksanddeeplearning.com/chap5.html#what's_causing_the_vanishing_gradient_problem_unstable_gradients_in_deep_neural_nets"><li>What's causing the vanishing gradient problem?  Unstable gradients in deep neural nets</li></a><a href="http://neuralnetworksanddeeplearning.com/chap5.html#unstable_gradients_in_more_complex_networks"><li>Unstable gradients in more complex networks</li></a><a href="http://neuralnetworksanddeeplearning.com/chap5.html#other_obstacles_to_deep_learning"><li>Other obstacles to deep learning</li></a></ul><p></p></div>
<script>
$('#toc_why_are_deep_neural_networks_hard_to_train_reveal').click(function() { 
   var src = $('#toc_img_why_are_deep_neural_networks_hard_to_train').attr('src');
   if(src == 'images/arrow.png') {
     $("#toc_img_why_are_deep_neural_networks_hard_to_train").attr('src', 'images/arrow_down.png');
   } else {
     $("#toc_img_why_are_deep_neural_networks_hard_to_train").attr('src', 'images/arrow.png');
   };
   $('#toc_why_are_deep_neural_networks_hard_to_train').toggle('fast', function() {});  
});</script><p class="toc_mainchapter"><a id="toc_deep_learning_reveal" class="toc_reveal" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><img id="toc_img_deep_learning" src="./Neural networks and deep learning 2_files/arrow.png" width="15px"></a>Deep learning</p><div id="toc_deep_learning" style="display: none;"><p class="toc_section"></p><ul><li>Convolutional neural networks</li><li>Pretraining</li><li>Recurrent neural networks, Boltzmann machines, and other
  models</li><li>Is there a universal thinking algorithm?</li><li>On the future of neural networks</li></ul><p></p></div>
<script>
$('#toc_deep_learning_reveal').click(function() { 
   var src = $('#toc_img_deep_learning').attr('src');
   if(src == 'images/arrow.png') {
     $("#toc_img_deep_learning").attr('src', 'images/arrow_down.png');
   } else {
     $("#toc_img_deep_learning").attr('src', 'images/arrow.png');
   };
   $('#toc_deep_learning').toggle('fast', function() {});  
});</script><p class="toc_not_mainchapter"><a href="http://neuralnetworksanddeeplearning.com/acknowledgements.html">Acknowledgements</a></p><p class="toc_not_mainchapter"><a href="http://neuralnetworksanddeeplearning.com/faq.html">Frequently Asked Questions</a></p>
<hr>
<span class="sidebar_title">Sponsors</span>
<br>
<a href="http://www.ersatz1.com/"><img src="./Neural networks and deep learning 2_files/ersatz.png" width="140px" style="padding: 0px 0px 10px 8px; border-style: none;"></a>

<a href="http://gsquaredcapital.com/"><img src="./Neural networks and deep learning 2_files/gsquared.png" width="150px" style="padding: 0px 0px 10px 10px; border-style: none;"></a>

<a href="http://www.tineye.com/"><img src="./Neural networks and deep learning 2_files/tineye.png" width="150px" style="padding: 0px 0px 10px 8px; border-style: none;"></a>

<a href="http://www.visionsmarts.com/"><img src="./Neural networks and deep learning 2_files/visionsmarts.png" width="160px" style="padding: 0px 0px
0px 0px; border-style: none;"></a> <br> 

<p class="sidebar">Thanks to all the <a href="http://neuralnetworksanddeeplearning.com/supporters.html">supporters</a> who made the book possible.
Thanks also to all the contributors to the <a href="http://neuralnetworksanddeeplearning.com/bugfinder.html">Bugfinder Hall of Fame</a>.  </p>

<p class="sidebar">The book is currently a beta release, and is still
under active development.  Please send error reports to
mn@michaelnielsen.org.  For other enquiries, please see the <a href="http://neuralnetworksanddeeplearning.com/faq.html">FAQ</a> first.</p>

<hr>
<span class="sidebar_title">Resources</span>

<p class="sidebar">
<a href="https://github.com/mnielsen/neural-networks-and-deep-learning">Code repository</a></p>

<p class="sidebar">
<a href="http://eepurl.com/BYr9L">Mailing list for book announcements</a>
</p>

<p class="sidebar">
<a href="http://eepurl.com/0Xxjb">Michael Nielsen's project announcement mailing list</a>
</p>

<hr>
<a href="http://michaelnielsen.org/"><img src="./Neural networks and deep learning 2_files/Michael_Nielsen_Web_Small.jpg" width="160px" style="border-style: none;"></a>

<p class="sidebar">
By <a href="http://michaelnielsen.org/">Michael Nielsen</a> / Dec 2014
</p>
</div>
<p></p><p>
In the <a href="http://neuralnetworksanddeeplearning.com/chap1.html">last chapter</a> we saw how neural networks can
learn their weights and biases using the gradient descent algorithm.
There was, however, a gap in our explanation: we didn't discuss how to
compute the gradient of the cost function.  That's quite a gap!  In
this chapter I'll explain a fast algorithm for computing such
gradients, an algorithm known as <em>backpropagation</em>.  </p><p>The backpropagation algorithm was originally introduced in the 1970s,
but its importance wasn't fully appreciated until a
<a href="http://www.nature.com/nature/journal/v323/n6088/pdf/323533a0.pdf">famous
  1986 paper</a> by
<a href="http://en.wikipedia.org/wiki/David_Rumelhart">David
  Rumelhart</a>,
<a href="http://www.cs.toronto.edu/~hinton/">Geoffrey
  Hinton</a>, and
<a href="http://en.wikipedia.org/wiki/Ronald_J._Williams">Ronald
  Williams</a>.  That paper describes several
neural networks where backpropagation works far faster than earlier
approaches to learning, making it possible to use neural nets to solve
problems which had previously been insoluble.  Today, the
backpropagation algorithm is the workhorse of learning in neural
networks.</p><p>This chapter is more mathematically involved than the rest of the
book.  If you're not crazy about mathematics you may be tempted to
skip the chapter, and to treat backpropagation as a black box whose
details you're willing to ignore.  Why take the time to study those
details?</p><p>The reason, of course, is understanding.  At the heart of
backpropagation is an expression for the partial derivative <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-2-Frame"><nobr><span class="math" id="MathJax-Span-6" role="math" style="width: 3.189em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.091em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-7"><span class="mi" id="MathJax-Span-8" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-9" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-10"><span class="mrow" id="MathJax-Span-11"><span class="mo" id="MathJax-Span-12" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-13" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-14" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2">\partial
C / \partial w</script> of the cost function <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-3-Frame"><nobr><span class="math" id="MathJax-Span-15" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-16"><span class="mi" id="MathJax-Span-17" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3">C</script> with respect to any weight
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-4-Frame"><nobr><span class="math" id="MathJax-Span-18" role="math" style="width: 0.787em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-19"><span class="mi" id="MathJax-Span-20" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-4">w</script> (or bias <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-5-Frame"><nobr><span class="math" id="MathJax-Span-21" role="math" style="width: 0.444em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.444em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-22"><span class="mi" id="MathJax-Span-23" style="font-family: MathJax_Math-italic;">b</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5">b</script>) in the network.  The expression tells us how quickly
the cost changes when we change the weights and biases.  And while the
expression is somewhat complex, it also has a beauty to it, with each
element having a natural, intuitive interpretation.  And so
backpropagation isn't just a fast algorithm for learning.  It actually
gives us detailed insights into how changing the weights and biases
changes the overall behaviour of the network.  That's well worth
studying in detail.</p><p>With that said, if you want to skim the chapter, or jump straight to
the next chapter, that's fine.  I've written the rest of the book to
be accessible even if you treat backpropagation as a black box.  There
are, of course, points later in the book where I refer back to results
from this chapter.  But at those points you should still be able to
understand the main conclusions, even if you don't follow all the
reasoning.</p><p></p><h3><a name="warm_up_a_fast_matrix-based_approach_to_computing_the_output
_from_a_neural_network"></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#warm_up_a_fast_matrix-based_approach_to_computing_the_output_from_a_neural_network">Warm up: a fast matrix-based approach to computing the output
  from a neural network</a></h3><p></p><p>Before discussing backpropagation, let's warm up with a fast
matrix-based algorithm to compute the output from a neural network.
We actually already briefly saw this algorithm
<a href="http://neuralnetworksanddeeplearning.com/chap1.html#implementing_our_network_to_classify_digits">near
  the end of the last chapter</a>, but I described it quickly, so it's
worth revisiting in detail.  In particular, this is a good way of
getting comfortable with the notation used in backpropagation, in a
familiar context.</p><p>Let's begin with a notation which lets us refer to weights in the
network in an unambiguous way.  We'll use <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-6-Frame"><nobr><span class="math" id="MathJax-Span-24" role="math" style="width: 1.522em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-25"><span class="msubsup" id="MathJax-Span-26"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-27" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-28" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-29"><span class="mrow" id="MathJax-Span-30"><span class="mi" id="MathJax-Span-31" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-32" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-6">w^l_{jk}</script> to denote the
weight for the connection from the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-7-Frame"><nobr><span class="math" id="MathJax-Span-33" role="math" style="width: 1.326em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-34"><span class="msubsup" id="MathJax-Span-35"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-36" style="font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-37"><span class="mrow" id="MathJax-Span-38"><span class="mi" id="MathJax-Span-39" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-40" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-7">k^{\rm th}</script> neuron in the
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-8-Frame"><nobr><span class="math" id="MathJax-Span-41" role="math" style="width: 3.679em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.581em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-42"><span class="mo" id="MathJax-Span-43" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-44" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-45" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mn" id="MathJax-Span-46" style="font-family: MathJax_Main; padding-left: 0.248em;">1</span><span class="msubsup" id="MathJax-Span-47"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-48" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-49"><span class="mrow" id="MathJax-Span-50"><span class="mi" id="MathJax-Span-51" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-52" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-8">(l-1)^{\rm th}</script> layer to the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-9-Frame"><nobr><span class="math" id="MathJax-Span-53" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-54"><span class="msubsup" id="MathJax-Span-55"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-56" style="font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-57"><span class="mrow" id="MathJax-Span-58"><span class="mi" id="MathJax-Span-59" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-60" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-9">j^{\rm th}</script> neuron in the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-10-Frame"><nobr><span class="math" id="MathJax-Span-61" role="math" style="width: 1.081em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-62"><span class="msubsup" id="MathJax-Span-63"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-64" style="font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.297em;"><span class="texatom" id="MathJax-Span-65"><span class="mrow" id="MathJax-Span-66"><span class="mi" id="MathJax-Span-67" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-68" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-10">l^{\rm th}</script>
layer.  So, for example, the diagram below shows the weight on a
connection from the fourth neuron in the second layer to the second
neuron in the third layer of a network:
</p><center>
<img src="./Neural networks and deep learning 2_files/tikz16.png">
</center>
This notation is cumbersome at first, and it does take some work to
master.  But with a little effort you'll find the notation becomes
easy and natural.  One quirk of the notation is the ordering of the
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-11-Frame"><nobr><span class="math" id="MathJax-Span-69" role="math" style="width: 0.395em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.395em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-70"><span class="mi" id="MathJax-Span-71" style="font-family: MathJax_Math-italic;">j</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-11">j</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-12-Frame"><nobr><span class="math" id="MathJax-Span-72" role="math" style="width: 0.542em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.542em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-73"><span class="mi" id="MathJax-Span-74" style="font-family: MathJax_Math-italic;">k</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-12">k</script> indices.  You might think that it makes more sense to use
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-13-Frame"><nobr><span class="math" id="MathJax-Span-75" role="math" style="width: 0.395em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.395em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-76"><span class="mi" id="MathJax-Span-77" style="font-family: MathJax_Math-italic;">j</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-13">j</script> to refer to the input neuron, and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-14-Frame"><nobr><span class="math" id="MathJax-Span-78" role="math" style="width: 0.542em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.542em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-79"><span class="mi" id="MathJax-Span-80" style="font-family: MathJax_Math-italic;">k</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-14">k</script> to the output neuron, not
vice versa, as is actually done.  I'll explain the reason for this
quirk below.<p></p><p>We use a similar notation for the network's biases and activations.
Explicitly, we use <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-15-Frame"><nobr><span class="math" id="MathJax-Span-81" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-82"><span class="msubsup" id="MathJax-Span-83"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-84" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-85" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-86" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-15">b^l_j</script> for the bias of the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-16-Frame"><nobr><span class="math" id="MathJax-Span-87" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-88"><span class="msubsup" id="MathJax-Span-89"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-90" style="font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-91"><span class="mrow" id="MathJax-Span-92"><span class="mi" id="MathJax-Span-93" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-94" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-16">j^{\rm th}</script> neuron in
the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-17-Frame"><nobr><span class="math" id="MathJax-Span-95" role="math" style="width: 1.081em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-96"><span class="msubsup" id="MathJax-Span-97"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-98" style="font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.297em;"><span class="texatom" id="MathJax-Span-99"><span class="mrow" id="MathJax-Span-100"><span class="mi" id="MathJax-Span-101" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-102" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-17">l^{\rm th}</script> layer.  And we use <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-18-Frame"><nobr><span class="math" id="MathJax-Span-103" role="math" style="width: 0.934em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-104"><span class="msubsup" id="MathJax-Span-105"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-106" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-107" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-108" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-18">a^l_j</script> for the activation of the
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-19-Frame"><nobr><span class="math" id="MathJax-Span-109" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-110"><span class="msubsup" id="MathJax-Span-111"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-112" style="font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-113"><span class="mrow" id="MathJax-Span-114"><span class="mi" id="MathJax-Span-115" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-116" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-19">j^{\rm th}</script> neuron in the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-20-Frame"><nobr><span class="math" id="MathJax-Span-117" role="math" style="width: 1.081em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-118"><span class="msubsup" id="MathJax-Span-119"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-120" style="font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.297em;"><span class="texatom" id="MathJax-Span-121"><span class="mrow" id="MathJax-Span-122"><span class="mi" id="MathJax-Span-123" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-124" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-20">l^{\rm th}</script> layer.  The following diagram
shows examples of these notations in use:
</p><center>
<img src="./Neural networks and deep learning 2_files/tikz17.png">
</center>
With these notations, the activation <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-21-Frame"><nobr><span class="math" id="MathJax-Span-125" role="math" style="width: 0.934em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-126"><span class="msubsup" id="MathJax-Span-127"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-128" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-129"><span class="mrow" id="MathJax-Span-130"><span class="mi" id="MathJax-Span-131" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-132" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-21">a^{l}_j</script> of the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-22-Frame"><nobr><span class="math" id="MathJax-Span-133" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-134"><span class="msubsup" id="MathJax-Span-135"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-136" style="font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-137"><span class="mrow" id="MathJax-Span-138"><span class="mi" id="MathJax-Span-139" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-140" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-22">j^{\rm th}</script>
neuron in the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-23-Frame"><nobr><span class="math" id="MathJax-Span-141" role="math" style="width: 1.081em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-142"><span class="msubsup" id="MathJax-Span-143"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-144" style="font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.297em;"><span class="texatom" id="MathJax-Span-145"><span class="mrow" id="MathJax-Span-146"><span class="mi" id="MathJax-Span-147" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-148" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-23">l^{\rm th}</script> layer is related to the activations in the
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-24-Frame"><nobr><span class="math" id="MathJax-Span-149" role="math" style="width: 3.679em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.581em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-150"><span class="mo" id="MathJax-Span-151" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-152" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-153" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mn" id="MathJax-Span-154" style="font-family: MathJax_Main; padding-left: 0.248em;">1</span><span class="msubsup" id="MathJax-Span-155"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-156" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-157"><span class="mrow" id="MathJax-Span-158"><span class="mi" id="MathJax-Span-159" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-160" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-24">(l-1)^{\rm th}</script> layer by the equation (compare
Equation <span id="margin_932300888937_reveal" class="equation_link">(4)</span><span id="margin_932300888937" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap1.html#eqtn4" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-25-Frame"><nobr><span class="math" id="MathJax-Span-161" role="math" style="width: 11.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.983em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.404em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-162"><span class="mtable" id="MathJax-Span-163" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 10.689em; height: 0px;"><span style="position: absolute; clip: rect(2.404em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 10.689em; height: 0px;"><span style="position: absolute; clip: rect(2.551em 1000.002em 5.297em -999.998em); top: -4.164em; right: 0.002em;"><span class="mtd" id="MathJax-Span-164"><span class="mrow" id="MathJax-Span-165"><span class="mfrac" id="MathJax-Span-166"><span style="display: inline-block; position: relative; width: 10.444em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.243em;"><span class="mn" id="MathJax-Span-167" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.14em 1000.002em 4.61em -999.998em); top: -3.282em; left: 50%; margin-left: -5.145em;"><span class="mrow" id="MathJax-Span-168"><span class="mn" id="MathJax-Span-169" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-170" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="mi" id="MathJax-Span-171" style="font-family: MathJax_Main; padding-left: 0.248em;">exp</span><span class="mo" id="MathJax-Span-172"></span><span class="mo" id="MathJax-Span-173" style="font-family: MathJax_Main;">(</span><span class="mo" id="MathJax-Span-174" style="font-family: MathJax_Main;">−</span><span class="munderover" id="MathJax-Span-175" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-176" style="font-family: MathJax_Size1; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.723em; left: 1.081em;"><span class="mi" id="MathJax-Span-177" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-178" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-179" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-180" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-181"><span style="display: inline-block; position: relative; width: 0.934em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-182" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.591em;"><span class="mi" id="MathJax-Span-183" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-184" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mi" id="MathJax-Span-185" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">b</span><span class="mo" id="MathJax-Span-186" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 10.444em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.652em; vertical-align: -1.047em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-25">\begin{eqnarray} 
  \frac{1}{1+\exp(-\sum_j w_j x_j-b)} \nonumber\end{eqnarray}</script></a></span><script>$('#margin_932300888937_reveal').click(function() {$('#margin_932300888937').toggle('slow', function() {});});</script> and surrounding
discussion in the last chapter)
<a class="displaced_anchor" name="eqtn23"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-26-Frame"><nobr><span class="math" id="MathJax-Span-187" role="math" style="width: 100%; display: inline-block; min-width: 18.238em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 18.238em;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.395em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-188"><span class="mtable" id="MathJax-Span-189" style="min-width: 18.581em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 18.238em;"><span style="display: inline-block; position: absolute; width: 11.816em; height: 0px; clip: rect(-1.909em 1000.002em 1.375em -999.998em); top: 0.002em; left: 50%; margin-left: -5.929em;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.395em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.816em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.395em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-193"><span class="mrow" id="MathJax-Span-194"><span class="msubsup" id="MathJax-Span-195"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-196" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-197"><span class="mrow" id="MathJax-Span-198"><span class="mi" id="MathJax-Span-199" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-200" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-201" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-202" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mrow" id="MathJax-Span-203" style="padding-left: 0.15em;"><span class="mo" id="MathJax-Span-204" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size4;">(</span></span><span class="munderover" id="MathJax-Span-205"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-206" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.267em -999.998em); top: -2.89em; left: 0.542em;"><span class="mi" id="MathJax-Span-207" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-208" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-209" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="texatom" id="MathJax-Span-210"><span class="mrow" id="MathJax-Span-211"><span class="mi" id="MathJax-Span-212" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-213"><span class="mrow" id="MathJax-Span-214"><span class="mi" id="MathJax-Span-215" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-216" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-217"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-218" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-219"><span class="mrow" id="MathJax-Span-220"><span class="mi" id="MathJax-Span-221" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-222" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-223" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-224" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-225" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="msubsup" id="MathJax-Span-226" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-227" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-228" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-229" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-230" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size4;">)</span></span></span><span class="mo" id="MathJax-Span-231" style="font-family: MathJax_Main; padding-left: 0.15em;">,</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.88em 1000.002em 0.395em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="mjx-eqn-23"><span class="mrow" id="MathJax-Span-191"><span class="mtext" id="MathJax-Span-192" style="font-family: MathJax_Main;">(23)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.152em; vertical-align: -1.297em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-26">\begin{eqnarray} 
  a^{l}_j = \sigma\left( \sum_k w^{l}_{jk} a^{l-1}_k + b^l_j \right),
\tag{23}\end{eqnarray}</script>
where the sum is over all neurons <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-27-Frame"><nobr><span class="math" id="MathJax-Span-232" role="math" style="width: 0.542em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.542em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-233"><span class="mi" id="MathJax-Span-234" style="font-family: MathJax_Math-italic;">k</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-27">k</script> in the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-28-Frame"><nobr><span class="math" id="MathJax-Span-235" role="math" style="width: 3.679em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.581em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-236"><span class="mo" id="MathJax-Span-237" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-238" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-239" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mn" id="MathJax-Span-240" style="font-family: MathJax_Main; padding-left: 0.248em;">1</span><span class="msubsup" id="MathJax-Span-241"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-242" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-243"><span class="mrow" id="MathJax-Span-244"><span class="mi" id="MathJax-Span-245" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-246" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-28">(l-1)^{\rm th}</script> layer.  To
rewrite this expression in a matrix form we define a <em>weight
  matrix</em> <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-29-Frame"><nobr><span class="math" id="MathJax-Span-247" role="math" style="width: 1.032em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-248"><span class="msubsup" id="MathJax-Span-249"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-250" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-251" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-29">w^l</script> for each layer, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-30-Frame"><nobr><span class="math" id="MathJax-Span-252" role="math" style="width: 0.297em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.297em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-253"><span class="mi" id="MathJax-Span-254" style="font-family: MathJax_Math-italic;">l</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-30">l</script>.  The entries of the weight matrix
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-31-Frame"><nobr><span class="math" id="MathJax-Span-255" role="math" style="width: 1.032em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-256"><span class="msubsup" id="MathJax-Span-257"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-258" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-259" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-31">w^l</script> are just the weights connecting to the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-32-Frame"><nobr><span class="math" id="MathJax-Span-260" role="math" style="width: 1.081em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-261"><span class="msubsup" id="MathJax-Span-262"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-263" style="font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.297em;"><span class="texatom" id="MathJax-Span-264"><span class="mrow" id="MathJax-Span-265"><span class="mi" id="MathJax-Span-266" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-267" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-32">l^{\rm th}</script> layer of neurons,
that is, the entry in the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-33-Frame"><nobr><span class="math" id="MathJax-Span-268" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-269"><span class="msubsup" id="MathJax-Span-270"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-271" style="font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-272"><span class="mrow" id="MathJax-Span-273"><span class="mi" id="MathJax-Span-274" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-275" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-33">j^{\rm th}</script> row and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-34-Frame"><nobr><span class="math" id="MathJax-Span-276" role="math" style="width: 1.326em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-277"><span class="msubsup" id="MathJax-Span-278"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-279" style="font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-280"><span class="mrow" id="MathJax-Span-281"><span class="mi" id="MathJax-Span-282" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-283" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-34">k^{\rm th}</script> column is <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-35-Frame"><nobr><span class="math" id="MathJax-Span-284" role="math" style="width: 1.522em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-285"><span class="msubsup" id="MathJax-Span-286"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-287" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-288" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-289"><span class="mrow" id="MathJax-Span-290"><span class="mi" id="MathJax-Span-291" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-292" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-35">w^l_{jk}</script>.
Similarly, for each layer <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-36-Frame"><nobr><span class="math" id="MathJax-Span-293" role="math" style="width: 0.297em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.297em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-294"><span class="mi" id="MathJax-Span-295" style="font-family: MathJax_Math-italic;">l</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-36">l</script> we define a <em>bias vector</em>, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-37-Frame"><nobr><span class="math" id="MathJax-Span-296" role="math" style="width: 0.787em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-297"><span class="msubsup" id="MathJax-Span-298"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-299" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-300" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-37">b^l</script>.
You can probably guess how this works - the components of the bias
vector are just the values <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-38-Frame"><nobr><span class="math" id="MathJax-Span-301" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-302"><span class="msubsup" id="MathJax-Span-303"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-304" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-305" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-306" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-38">b^l_j</script>, one component for each neuron in
the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-39-Frame"><nobr><span class="math" id="MathJax-Span-307" role="math" style="width: 1.081em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-308"><span class="msubsup" id="MathJax-Span-309"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-310" style="font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.297em;"><span class="texatom" id="MathJax-Span-311"><span class="mrow" id="MathJax-Span-312"><span class="mi" id="MathJax-Span-313" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-314" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-39">l^{\rm th}</script> layer.  And finally, we define an activation vector <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-40-Frame"><nobr><span class="math" id="MathJax-Span-315" role="math" style="width: 0.885em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-316"><span class="msubsup" id="MathJax-Span-317"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-318" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-319" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-40">a^l</script>
whose components are the activations <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-41-Frame"><nobr><span class="math" id="MathJax-Span-320" role="math" style="width: 0.934em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-321"><span class="msubsup" id="MathJax-Span-322"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-323" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-324" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-325" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-41">a^l_j</script>.<p></p><p>The last ingredient we need to rewrite <span id="margin_380499059696_reveal" class="equation_link">(23)</span><span id="margin_380499059696" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn23" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-42-Frame"><nobr><span class="math" id="MathJax-Span-326" role="math" style="width: 11.963em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.718em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.395em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-327"><span class="mtable" id="MathJax-Span-328" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 11.424em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.395em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.424em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.395em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-329"><span class="mrow" id="MathJax-Span-330"><span class="msubsup" id="MathJax-Span-331"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-332" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-333"><span class="mrow" id="MathJax-Span-334"><span class="mi" id="MathJax-Span-335" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-336" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-337" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-338" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mrow" id="MathJax-Span-339" style="padding-left: 0.15em;"><span class="mo" id="MathJax-Span-340" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size4;">(</span></span><span class="munderover" id="MathJax-Span-341"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-342" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.267em -999.998em); top: -2.89em; left: 0.542em;"><span class="mi" id="MathJax-Span-343" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-344" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-345" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="texatom" id="MathJax-Span-346"><span class="mrow" id="MathJax-Span-347"><span class="mi" id="MathJax-Span-348" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-349"><span class="mrow" id="MathJax-Span-350"><span class="mi" id="MathJax-Span-351" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-352" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-353"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-354" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-355"><span class="mrow" id="MathJax-Span-356"><span class="mi" id="MathJax-Span-357" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-358" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-359" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-360" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-361" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="msubsup" id="MathJax-Span-362" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-363" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-364" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-365" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-366" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size4;">)</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.152em; vertical-align: -1.297em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-42">\begin{eqnarray} 
  a^{l}_j = \sigma\left( \sum_k w^{l}_{jk} a^{l-1}_k + b^l_j \right) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_380499059696_reveal').click(function() {$('#margin_380499059696').toggle('slow', function() {});});</script> in a
matrix form is the idea of vectorizing a function such as <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-43-Frame"><nobr><span class="math" id="MathJax-Span-367" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-368"><span class="mi" id="MathJax-Span-369" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-43">\sigma</script>.
We met vectorization briefly in the last chapter, but to recap, the
idea is that we want to apply a function such as <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-44-Frame"><nobr><span class="math" id="MathJax-Span-370" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-371"><span class="mi" id="MathJax-Span-372" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-44">\sigma</script> to every
element in a vector <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-45-Frame"><nobr><span class="math" id="MathJax-Span-373" role="math" style="width: 0.493em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-374"><span class="mi" id="MathJax-Span-375" style="font-family: MathJax_Math-italic;">v</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-45">v</script>.  We use the obvious notation <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-46-Frame"><nobr><span class="math" id="MathJax-Span-376" role="math" style="width: 1.865em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.816em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-377"><span class="mi" id="MathJax-Span-378" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-379" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-380" style="font-family: MathJax_Math-italic;">v</span><span class="mo" id="MathJax-Span-381" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-46">\sigma(v)</script> to
denote this kind of elementwise application of a function.  That is,
the components of <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-47-Frame"><nobr><span class="math" id="MathJax-Span-382" role="math" style="width: 1.865em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.816em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-383"><span class="mi" id="MathJax-Span-384" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-385" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-386" style="font-family: MathJax_Math-italic;">v</span><span class="mo" id="MathJax-Span-387" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-47">\sigma(v)</script> are just <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-48-Frame"><nobr><span class="math" id="MathJax-Span-388" role="math" style="width: 5.934em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-389"><span class="mi" id="MathJax-Span-390" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-391" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-392" style="font-family: MathJax_Math-italic;">v</span><span class="msubsup" id="MathJax-Span-393"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-394" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.395em;"><span class="mi" id="MathJax-Span-395" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-396" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-397" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-398" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-399"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-400" style="font-family: MathJax_Math-italic;">v</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.493em;"><span class="mi" id="MathJax-Span-401" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-402" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.153em; vertical-align: -0.348em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-48">\sigma(v)_j = \sigma(v_j)</script>.
As an example, if we have the function <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-49-Frame"><nobr><span class="math" id="MathJax-Span-403" role="math" style="width: 4.365em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.267em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-404"><span class="mi" id="MathJax-Span-405" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-406" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-407" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-408" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-409" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-410" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-411" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.591em;"><span class="mn" id="MathJax-Span-412" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-49">f(x) = x^2</script> then the
vectorized form of <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-50-Frame"><nobr><span class="math" id="MathJax-Span-413" role="math" style="width: 0.542em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.542em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-414"><span class="mi" id="MathJax-Span-415" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.052em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-50">f</script> has the effect
<a class="displaced_anchor" name="eqtn24"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-51-Frame"><nobr><span class="math" id="MathJax-Span-416" role="math" style="width: 100%; display: inline-block; min-width: 18.63em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 18.63em;"><span style="position: absolute; clip: rect(2.355em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-417"><span class="mtable" id="MathJax-Span-418" style="min-width: 19.022em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 18.63em;"><span style="display: inline-block; position: absolute; width: 12.257em; height: 0px; clip: rect(-1.664em 1000.002em 1.13em -999.998em); top: 0.002em; left: 50%; margin-left: -6.125em;"><span style="position: absolute; clip: rect(2.355em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 12.257em; height: 0px;"><span style="position: absolute; clip: rect(2.355em 1000.002em 5.15em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-422"><span class="mrow" id="MathJax-Span-423"><span class="mi" id="MathJax-Span-424" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mrow" id="MathJax-Span-425" style="padding-left: 0.15em;"><span class="mo" id="MathJax-Span-426" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">(</span></span><span class="mo" id="MathJax-Span-427" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">[</span></span><span class="mtable" id="MathJax-Span-428" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px;"><span style="position: absolute; clip: rect(2.551em 1000.002em 4.953em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.654em; left: 50%; margin-left: -0.243em;"><span class="mtd" id="MathJax-Span-429"><span class="mrow" id="MathJax-Span-430"><span class="mn" id="MathJax-Span-431" style="font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -3.282em; left: 50%; margin-left: -0.243em;"><span class="mtd" id="MathJax-Span-432"><span class="mrow" id="MathJax-Span-433"><span class="mn" id="MathJax-Span-434" style="font-family: MathJax_Main;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-435" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">]</span></span><span class="mo" id="MathJax-Span-436" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">)</span></span></span><span class="mo" id="MathJax-Span-437" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mrow" id="MathJax-Span-438" style="padding-left: 0.297em;"><span class="mo" id="MathJax-Span-439" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">[</span></span><span class="mtable" id="MathJax-Span-440" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.816em; height: 0px;"><span style="position: absolute; clip: rect(2.404em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 1.816em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.703em; left: 50%; margin-left: -0.929em;"><span class="mtd" id="MathJax-Span-441"><span class="mrow" id="MathJax-Span-442"><span class="mi" id="MathJax-Span-443" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-444" style="font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-445" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-446" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -3.282em; left: 50%; margin-left: -0.929em;"><span class="mtd" id="MathJax-Span-447"><span class="mrow" id="MathJax-Span-448"><span class="mi" id="MathJax-Span-449" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-450" style="font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-451" style="font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-452" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-453" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">]</span></span></span><span class="mo" id="MathJax-Span-454" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mrow" id="MathJax-Span-455" style="padding-left: 0.297em;"><span class="mo" id="MathJax-Span-456" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">[</span></span><span class="mtable" id="MathJax-Span-457" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px;"><span style="position: absolute; clip: rect(2.551em 1000.002em 4.953em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.654em; left: 50%; margin-left: -0.243em;"><span class="mtd" id="MathJax-Span-458"><span class="mrow" id="MathJax-Span-459"><span class="mn" id="MathJax-Span-460" style="font-family: MathJax_Main;">4</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -3.282em; left: 50%; margin-left: -0.243em;"><span class="mtd" id="MathJax-Span-461"><span class="mrow" id="MathJax-Span-462"><span class="mn" id="MathJax-Span-463" style="font-family: MathJax_Main;">9</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-464" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">]</span></span></span><span class="mo" id="MathJax-Span-465" style="font-family: MathJax_Main; padding-left: 0.15em;">,</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.88em 1000.002em 0.395em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="mjx-eqn-24"><span class="mrow" id="MathJax-Span-420"><span class="mtext" id="MathJax-Span-421" style="font-family: MathJax_Main;">(24)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.652em; vertical-align: -1.047em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-51">\begin{eqnarray}
  f\left(\left[ \begin{array}{c} 2 \\ 3 \end{array} \right] \right)
  = \left[ \begin{array}{c} f(2) \\ f(3) \end{array} \right]
  = \left[ \begin{array}{c} 4 \\ 9 \end{array} \right],
\tag{24}\end{eqnarray}</script>
that is, the vectorized <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-52-Frame"><nobr><span class="math" id="MathJax-Span-466" role="math" style="width: 0.542em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.542em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-467"><span class="mi" id="MathJax-Span-468" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.052em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-52">f</script> just squares every element of the vector.</p><p>With these notations in mind, Equation <span id="margin_413601743720_reveal" class="equation_link">(23)</span><span id="margin_413601743720" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn23" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-53-Frame"><nobr><span class="math" id="MathJax-Span-469" role="math" style="width: 11.963em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.718em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.395em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-470"><span class="mtable" id="MathJax-Span-471" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 11.424em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.395em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.424em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.395em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-472"><span class="mrow" id="MathJax-Span-473"><span class="msubsup" id="MathJax-Span-474"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-475" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-476"><span class="mrow" id="MathJax-Span-477"><span class="mi" id="MathJax-Span-478" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-479" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-480" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-481" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mrow" id="MathJax-Span-482" style="padding-left: 0.15em;"><span class="mo" id="MathJax-Span-483" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size4;">(</span></span><span class="munderover" id="MathJax-Span-484"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-485" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.267em -999.998em); top: -2.89em; left: 0.542em;"><span class="mi" id="MathJax-Span-486" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-487" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-488" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="texatom" id="MathJax-Span-489"><span class="mrow" id="MathJax-Span-490"><span class="mi" id="MathJax-Span-491" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-492"><span class="mrow" id="MathJax-Span-493"><span class="mi" id="MathJax-Span-494" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-495" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-496"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-497" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-498"><span class="mrow" id="MathJax-Span-499"><span class="mi" id="MathJax-Span-500" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-501" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-502" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-503" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-504" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="msubsup" id="MathJax-Span-505" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-506" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-507" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-508" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-509" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size4;">)</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.152em; vertical-align: -1.297em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-53">\begin{eqnarray} 
  a^{l}_j = \sigma\left( \sum_k w^{l}_{jk} a^{l-1}_k + b^l_j \right) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_413601743720_reveal').click(function() {$('#margin_413601743720').toggle('slow', function() {});});</script> can
be rewritten in the beautiful and compact vectorized form
<a class="displaced_anchor" name="eqtn25"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-54-Frame"><nobr><span class="math" id="MathJax-Span-510" role="math" style="width: 100%; display: inline-block; min-width: 15.002em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 15.002em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-511"><span class="mtable" id="MathJax-Span-512" style="min-width: 15.297em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 15.002em;"><span style="display: inline-block; position: absolute; width: 8.532em; height: 0px; clip: rect(-0.978em 1000.002em 0.493em -999.998em); top: 0.002em; left: 50%; margin-left: -4.262em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 8.532em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-516"><span class="mrow" id="MathJax-Span-517"><span class="msubsup" id="MathJax-Span-518"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-519" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-520"><span class="mrow" id="MathJax-Span-521"><span class="mi" id="MathJax-Span-522" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-523" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-524" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-525" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-526"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-527" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="mi" id="MathJax-Span-528" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-529"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-530" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-531"><span class="mrow" id="MathJax-Span-532"><span class="mi" id="MathJax-Span-533" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-534" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-535" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-536" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="msubsup" id="MathJax-Span-537" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-538" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.444em;"><span class="mi" id="MathJax-Span-539" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-540" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-541" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.831em 1000.002em 0.493em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="mjx-eqn-25"><span class="mrow" id="MathJax-Span-514"><span class="mtext" id="MathJax-Span-515" style="font-family: MathJax_Main;">(25)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-54">\begin{eqnarray} 
  a^{l} = \sigma(w^l a^{l-1}+b^l).
\tag{25}\end{eqnarray}</script>
This expression gives us a much more global way of thinking about how
the activations in one layer relate to activations in the previous
layer: we just apply the weight matrix to the activations, then add
the bias vector, and finally apply the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-55-Frame"><nobr><span class="math" id="MathJax-Span-542" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-543"><span class="mi" id="MathJax-Span-544" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-55">\sigma</script> function<a id="quirk"></a>*<span class="marginnote">
*By the way, it's this expression that
  motivates the quirk in the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-56-Frame"><nobr><span class="math" id="MathJax-Span-545" role="math" style="width: 1.556em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.475em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.945em 1000.004em 4.743em -999.996em); top: -3.999em; left: 0.004em;"><span class="mrow" id="MathJax-Span-546"><span class="msubsup" id="MathJax-Span-547"><span style="display: inline-block; position: relative; width: 1.475em; height: 0px;"><span style="position: absolute; clip: rect(3.354em 1000.004em 4.252em -999.996em); top: -3.999em; left: 0.004em;"><span class="mi" id="MathJax-Span-548" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.272em 1000.004em 4.252em -999.996em); top: -4.326em; left: 0.739em;"><span class="mi" id="MathJax-Span-549" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.272em 1000.004em 4.416em -999.996em); top: -3.672em; left: 0.739em;"><span class="texatom" id="MathJax-Span-550"><span class="mrow" id="MathJax-Span-551"><span class="mi" id="MathJax-Span-552" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-553" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.504em; vertical-align: -0.579em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-56">w^l_{jk}</script> notation mentioned earlier.
  If we used <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-57-Frame"><nobr><span class="math" id="MathJax-Span-554" role="math" style="width: 0.413em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.413em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.109em 1000.004em 4.416em -999.996em); top: -3.999em; left: 0.004em;"><span class="mrow" id="MathJax-Span-555"><span class="mi" id="MathJax-Span-556" style="font-family: MathJax_Math-italic;">j</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.088em; vertical-align: -0.246em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-57">j</script> to index the input neuron, and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-58-Frame"><nobr><span class="math" id="MathJax-Span-557" role="math" style="width: 0.494em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.494em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.109em 1000.004em 4.252em -999.996em); top: -3.999em; left: 0.004em;"><span class="mrow" id="MathJax-Span-558"><span class="mi" id="MathJax-Span-559" style="font-family: MathJax_Math-italic;">k</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.921em; vertical-align: -0.079em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-58">k</script> to index the
  output neuron, then we'd need to replace the weight matrix in
  Equation <span id="margin_721710132856_reveal" class="equation_link">(25)</span><span id="margin_721710132856" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn25" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-59-Frame"><nobr><span class="math" id="MathJax-Span-560" role="math" style="width: 8.728em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.532em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-561"><span class="mtable" id="MathJax-Span-562" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 8.238em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 8.238em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-563"><span class="mrow" id="MathJax-Span-564"><span class="msubsup" id="MathJax-Span-565"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-566" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-567"><span class="mrow" id="MathJax-Span-568"><span class="mi" id="MathJax-Span-569" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-570" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-571" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-572" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-573"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-574" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="mi" id="MathJax-Span-575" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-576"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-577" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-578"><span class="mrow" id="MathJax-Span-579"><span class="mi" id="MathJax-Span-580" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-581" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-582" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-583" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="msubsup" id="MathJax-Span-584" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-585" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.444em;"><span class="mi" id="MathJax-Span-586" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-587" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-59">\begin{eqnarray} 
  a^{l} = \sigma(w^l a^{l-1}+b^l) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_721710132856_reveal').click(function() {$('#margin_721710132856').toggle('slow', function() {});});</script> by the transpose of the
  weight matrix.  That's a small change, but annoying, and we'd lose
  the easy simplicity of saying (and thinking) "apply the weight
  matrix to the activations".</span>.  That global view is often easier and
more succinct (and involves fewer indices!) than the neuron-by-neuron
view we've taken to now.  Think of it as a way of escaping index hell,
while remaining precise about what's going on.  The expression is also
useful in practice, because most matrix libraries provide fast ways of
implementing matrix multiplication, vector addition, and
vectorization.  Indeed, the
<a href="http://neuralnetworksanddeeplearning.com/chap1.html#implementing_our_network_to_classify_digits">code</a>
in the last chapter made implicit use of this expression to compute
the behaviour of the network.</p><p>When using Equation <span id="margin_897055515255_reveal" class="equation_link">(25)</span><span id="margin_897055515255" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn25" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-60-Frame"><nobr><span class="math" id="MathJax-Span-588" role="math" style="width: 8.728em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.532em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-589"><span class="mtable" id="MathJax-Span-590" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 8.238em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 8.238em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-591"><span class="mrow" id="MathJax-Span-592"><span class="msubsup" id="MathJax-Span-593"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-594" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-595"><span class="mrow" id="MathJax-Span-596"><span class="mi" id="MathJax-Span-597" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-598" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-599" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-600" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-601"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-602" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="mi" id="MathJax-Span-603" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-604"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-605" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-606"><span class="mrow" id="MathJax-Span-607"><span class="mi" id="MathJax-Span-608" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-609" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-610" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-611" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="msubsup" id="MathJax-Span-612" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-613" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.444em;"><span class="mi" id="MathJax-Span-614" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-615" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-60">\begin{eqnarray} 
  a^{l} = \sigma(w^l a^{l-1}+b^l) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_897055515255_reveal').click(function() {$('#margin_897055515255').toggle('slow', function() {});});</script> to compute <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-61-Frame"><nobr><span class="math" id="MathJax-Span-616" role="math" style="width: 0.885em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-617"><span class="msubsup" id="MathJax-Span-618"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-619" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-620" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-61">a^l</script>,
we compute the intermediate quantity <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-62-Frame"><nobr><span class="math" id="MathJax-Span-621" role="math" style="width: 7.012em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.865em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.267em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-622"><span class="msubsup" id="MathJax-Span-623"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-624" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-625" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-626" style="font-family: MathJax_Main; padding-left: 0.297em;">≡</span><span class="msubsup" id="MathJax-Span-627" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-628" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-629" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-630"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-631" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-632"><span class="mrow" id="MathJax-Span-633"><span class="mi" id="MathJax-Span-634" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-635" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-636" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-637" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="msubsup" id="MathJax-Span-638" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-639" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-640" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.052em; vertical-align: -0.148em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-62">z^l \equiv w^l a^{l-1}+b^l</script>
along the way.  This quantity turns out to be useful enough to be
worth naming: we call <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-63-Frame"><nobr><span class="math" id="MathJax-Span-641" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-642"><span class="msubsup" id="MathJax-Span-643"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-644" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-645" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-63">z^l</script> the <em>weighted input</em> to the neurons
in layer <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-64-Frame"><nobr><span class="math" id="MathJax-Span-646" role="math" style="width: 0.297em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.297em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-647"><span class="mi" id="MathJax-Span-648" style="font-family: MathJax_Math-italic;">l</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-64">l</script>.  We'll make considerable use of the weighted input <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-65-Frame"><nobr><span class="math" id="MathJax-Span-649" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-650"><span class="msubsup" id="MathJax-Span-651"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-652" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-653" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-65">z^l</script>
later in the chapter.  Equation <span id="margin_722854800558_reveal" class="equation_link">(25)</span><span id="margin_722854800558" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn25" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-66-Frame"><nobr><span class="math" id="MathJax-Span-654" role="math" style="width: 8.728em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.532em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-655"><span class="mtable" id="MathJax-Span-656" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 8.238em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 8.238em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-657"><span class="mrow" id="MathJax-Span-658"><span class="msubsup" id="MathJax-Span-659"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-660" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-661"><span class="mrow" id="MathJax-Span-662"><span class="mi" id="MathJax-Span-663" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-664" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-665" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-666" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-667"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-668" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="mi" id="MathJax-Span-669" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-670"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-671" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-672"><span class="mrow" id="MathJax-Span-673"><span class="mi" id="MathJax-Span-674" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-675" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-676" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-677" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="msubsup" id="MathJax-Span-678" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-679" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.444em;"><span class="mi" id="MathJax-Span-680" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-681" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-66">\begin{eqnarray} 
  a^{l} = \sigma(w^l a^{l-1}+b^l) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_722854800558_reveal').click(function() {$('#margin_722854800558').toggle('slow', function() {});});</script> is
sometimes written in terms of the weighted input, as <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-67-Frame"><nobr><span class="math" id="MathJax-Span-682" role="math" style="width: 4.463em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.365em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-683"><span class="msubsup" id="MathJax-Span-684"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-685" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-686" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-687" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-688" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-689" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-690"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-691" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-692" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-693" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-67">a^l =
\sigma(z^l)</script>.  It's also worth noting that <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-68-Frame"><nobr><span class="math" id="MathJax-Span-694" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-695"><span class="msubsup" id="MathJax-Span-696"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-697" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-698" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-68">z^l</script> has components <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-69-Frame"><nobr><span class="math" id="MathJax-Span-699" role="math" style="width: 9.267em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.071em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-700"><span class="msubsup" id="MathJax-Span-701"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-702" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-703" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-704" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-705" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="munderover" id="MathJax-Span-706" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.522em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-707" style="font-family: MathJax_Size1; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.723em; left: 1.081em;"><span class="mi" id="MathJax-Span-708" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-709" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-710" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-711" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-712"><span class="mrow" id="MathJax-Span-713"><span class="mi" id="MathJax-Span-714" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-715" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-716"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-717" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-718"><span class="mrow" id="MathJax-Span-719"><span class="mi" id="MathJax-Span-720" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-721" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-722" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-723" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-724" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="msubsup" id="MathJax-Span-725" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-726" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-727" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-728" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-69">z^l_j
= \sum_k w^l_{jk} a^{l-1}_k+b^l_j</script>, that is, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-70-Frame"><nobr><span class="math" id="MathJax-Span-729" role="math" style="width: 0.885em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-730"><span class="msubsup" id="MathJax-Span-731"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-732" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-733" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-734" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-70">z^l_j</script> is just the
weighted input to the activation function for neuron <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-71-Frame"><nobr><span class="math" id="MathJax-Span-735" role="math" style="width: 0.395em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.395em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-736"><span class="mi" id="MathJax-Span-737" style="font-family: MathJax_Math-italic;">j</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-71">j</script> in layer <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-72-Frame"><nobr><span class="math" id="MathJax-Span-738" role="math" style="width: 0.297em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.297em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-739"><span class="mi" id="MathJax-Span-740" style="font-family: MathJax_Math-italic;">l</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-72">l</script>.</p><p></p><h3><a name="the_two_assumptions_we_need_about_the_cost_function"></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#the_two_assumptions_we_need_about_the_cost_function">The two assumptions we need about the cost function</a></h3><p></p><p>The goal of backpropagation is to compute the partial derivatives
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-73-Frame"><nobr><span class="math" id="MathJax-Span-741" role="math" style="width: 3.189em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.091em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-742"><span class="mi" id="MathJax-Span-743" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-744" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-745"><span class="mrow" id="MathJax-Span-746"><span class="mo" id="MathJax-Span-747" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-748" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-749" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-73">\partial C / \partial w</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-74-Frame"><nobr><span class="math" id="MathJax-Span-750" role="math" style="width: 2.895em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.846em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-751"><span class="mi" id="MathJax-Span-752" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-753" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-754"><span class="mrow" id="MathJax-Span-755"><span class="mo" id="MathJax-Span-756" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-757" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-758" style="font-family: MathJax_Math-italic;">b</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-74">\partial C / \partial b</script> of the cost
function <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-75-Frame"><nobr><span class="math" id="MathJax-Span-759" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-760"><span class="mi" id="MathJax-Span-761" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-75">C</script> with respect to any weight <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-76-Frame"><nobr><span class="math" id="MathJax-Span-762" role="math" style="width: 0.787em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-763"><span class="mi" id="MathJax-Span-764" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-76">w</script> or bias <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-77-Frame"><nobr><span class="math" id="MathJax-Span-765" role="math" style="width: 0.444em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.444em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-766"><span class="mi" id="MathJax-Span-767" style="font-family: MathJax_Math-italic;">b</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-77">b</script> in the
network.  For backpropagation to work we need to make two main
assumptions about the form of the cost function.  Before stating those
assumptions, though, it's useful to have an example cost function in
mind.  We'll use the quadratic cost function from last chapter
(c.f. Equation <span id="margin_507544586269_reveal" class="equation_link">(6)</span><span id="margin_507544586269" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap1.html#eqtn6" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-78-Frame"><nobr><span class="math" id="MathJax-Span-768" role="math" style="width: 13.385em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.091em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.355em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-769"><span class="mtable" id="MathJax-Span-770" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 12.748em; height: 0px;"><span style="position: absolute; clip: rect(2.355em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 12.748em; height: 0px;"><span style="position: absolute; clip: rect(2.551em 1000.002em 5.346em -999.998em); top: -4.164em; right: 0.002em;"><span class="mtd" id="MathJax-Span-771"><span class="mrow" id="MathJax-Span-772"><span class="mi" id="MathJax-Span-773" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-774" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-775" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-776" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-777" style="font-family: MathJax_Math-italic; padding-left: 0.15em;">b</span><span class="mo" id="MathJax-Span-778" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-779" style="font-family: MathJax_Main; padding-left: 0.297em;">≡</span><span class="mfrac" id="MathJax-Span-780" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.243em;"><span class="mn" id="MathJax-Span-781" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -3.331em; left: 50%; margin-left: -0.537em;"><span class="mrow" id="MathJax-Span-782"><span class="mn" id="MathJax-Span-783" style="font-family: MathJax_Main;">2</span><span class="mi" id="MathJax-Span-784" style="font-family: MathJax_Math-italic;">n</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.228em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="munderover" id="MathJax-Span-785" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-786" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.267em -999.998em); top: -2.988em; left: 0.542em;"><span class="mi" id="MathJax-Span-787" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-788" style="font-family: MathJax_Main; padding-left: 0.15em;">∥</span><span class="mi" id="MathJax-Span-789" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-790" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-791" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-792" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-793" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mi" id="MathJax-Span-794" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">a</span><span class="msubsup" id="MathJax-Span-795"><span style="display: inline-block; position: relative; width: 0.934em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-796" style="font-family: MathJax_Main;">∥</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mn" id="MathJax-Span-797" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.652em; vertical-align: -1.047em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-78">\begin{eqnarray}  C(w,b) \equiv
  \frac{1}{2n} \sum_x \| y(x) - a\|^2 \nonumber\end{eqnarray}</script></a></span><script>$('#margin_507544586269_reveal').click(function() {$('#margin_507544586269').toggle('slow', function() {});});</script>).  In the notation of
the last section, the quadratic cost has the form
<a class="displaced_anchor" name="eqtn26"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-79-Frame"><nobr><span class="math" id="MathJax-Span-798" role="math" style="width: 100%; display: inline-block; min-width: 18.973em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 18.973em;"><span style="position: absolute; clip: rect(2.355em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-799"><span class="mtable" id="MathJax-Span-800" style="min-width: 19.365em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 18.973em;"><span style="display: inline-block; position: absolute; width: 12.6em; height: 0px; clip: rect(-1.664em 1000.002em 1.13em -999.998em); top: 0.002em; left: 50%; margin-left: -6.321em;"><span style="position: absolute; clip: rect(2.355em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 12.6em; height: 0px;"><span style="position: absolute; clip: rect(2.551em 1000.002em 5.346em -999.998em); top: -4.164em; right: 0.002em;"><span class="mtd" id="MathJax-Span-804"><span class="mrow" id="MathJax-Span-805"><span class="mi" id="MathJax-Span-806" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-807" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-808" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.243em;"><span class="mn" id="MathJax-Span-809" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -3.331em; left: 50%; margin-left: -0.537em;"><span class="mrow" id="MathJax-Span-810"><span class="mn" id="MathJax-Span-811" style="font-family: MathJax_Main;">2</span><span class="mi" id="MathJax-Span-812" style="font-family: MathJax_Math-italic;">n</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.228em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="munderover" id="MathJax-Span-813" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-814" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.267em -999.998em); top: -2.988em; left: 0.542em;"><span class="mi" id="MathJax-Span-815" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-816" style="font-family: MathJax_Main; padding-left: 0.15em;">∥</span><span class="mi" id="MathJax-Span-817" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-818" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-819" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-820" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-821" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="msubsup" id="MathJax-Span-822" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-823" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-824" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-825" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-826" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-827" style="font-family: MathJax_Main;">)</span><span class="msubsup" id="MathJax-Span-828"><span style="display: inline-block; position: relative; width: 0.934em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-829" style="font-family: MathJax_Main;">∥</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mn" id="MathJax-Span-830" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-831" style="font-family: MathJax_Main;">,</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-1.076em 1000.002em 0.248em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.164em; right: 0.002em;"><span class="mtd" id="mjx-eqn-26"><span class="mrow" id="MathJax-Span-802"><span class="mtext" id="MathJax-Span-803" style="font-family: MathJax_Main;">(26)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.652em; vertical-align: -1.047em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-79">\begin{eqnarray}
  C = \frac{1}{2n} \sum_x \|y(x)-a^L(x)\|^2,
\tag{26}\end{eqnarray}</script>
where: <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-80-Frame"><nobr><span class="math" id="MathJax-Span-832" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-833"><span class="mi" id="MathJax-Span-834" style="font-family: MathJax_Math-italic;">n</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-80">n</script> is the total number of training examples; the sum is over
individual training examples, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-81-Frame"><nobr><span class="math" id="MathJax-Span-835" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-836"><span class="mi" id="MathJax-Span-837" style="font-family: MathJax_Math-italic;">x</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-81">x</script>; <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-82-Frame"><nobr><span class="math" id="MathJax-Span-838" role="math" style="width: 3.826em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.728em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-839"><span class="mi" id="MathJax-Span-840" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-841" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-842" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-843" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-844" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-845" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-82">y = y(x)</script> is the corresponding
desired output; <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-83-Frame"><nobr><span class="math" id="MathJax-Span-846" role="math" style="width: 0.738em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.689em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-847"><span class="mi" id="MathJax-Span-848" style="font-family: MathJax_Math-italic;">L</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-83">L</script> denotes the number of layers in the network; and
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-84-Frame"><nobr><span class="math" id="MathJax-Span-849" role="math" style="width: 5.002em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.904em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-850"><span class="msubsup" id="MathJax-Span-851"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-852" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-853" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-854" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-855" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-856" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-857" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-858" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-859" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-860" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-84">a^L = a^L(x)</script> is the vector of activations output from the network
when <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-85-Frame"><nobr><span class="math" id="MathJax-Span-861" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-862"><span class="mi" id="MathJax-Span-863" style="font-family: MathJax_Math-italic;">x</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-85">x</script> is input.</p><p>Okay, so what assumptions do we need to make about our cost function,
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-86-Frame"><nobr><span class="math" id="MathJax-Span-864" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-865"><span class="mi" id="MathJax-Span-866" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-86">C</script>, in order that backpropagation can be applied?  The first
assumption we need is that the cost function can be written as an
average <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-87-Frame"><nobr><span class="math" id="MathJax-Span-867" role="math" style="width: 6.081em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.934em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-868"><span class="mi" id="MathJax-Span-869" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-870" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-871" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.542em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.409em; left: 50%; margin-left: -0.194em;"><span class="mn" id="MathJax-Span-872" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.674em; left: 50%; margin-left: -0.194em;"><span class="mi" id="MathJax-Span-873" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 0.542em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="munderover" id="MathJax-Span-874" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.522em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-875" style="font-family: MathJax_Size1; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.723em; left: 1.081em;"><span class="mi" id="MathJax-Span-876" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-877" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-878" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-879" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.398em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-87">C = \frac{1}{n} \sum_x C_x</script> over cost functions <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-88-Frame"><nobr><span class="math" id="MathJax-Span-880" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.316em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-881"><span class="msubsup" id="MathJax-Span-882"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-883" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-884" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.198em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-88">C_x</script> for
individual training examples, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-89-Frame"><nobr><span class="math" id="MathJax-Span-885" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-886"><span class="mi" id="MathJax-Span-887" style="font-family: MathJax_Math-italic;">x</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-89">x</script>.  This is the case for the quadratic
cost function, where the cost for a single training example is <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-90-Frame"><nobr><span class="math" id="MathJax-Span-888" role="math" style="width: 7.699em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.551em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.561em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-889"><span class="msubsup" id="MathJax-Span-890"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-891" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-892" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-893" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-894" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.409em; left: 50%; margin-left: -0.194em;"><span class="mn" id="MathJax-Span-895" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.625em; left: 50%; margin-left: -0.194em;"><span class="mn" id="MathJax-Span-896" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 0.493em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-897" style="font-family: MathJax_Main;">∥</span><span class="mi" id="MathJax-Span-898" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-899" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="msubsup" id="MathJax-Span-900" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-901" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-902" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-903"><span style="display: inline-block; position: relative; width: 0.934em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-904" style="font-family: MathJax_Main;">∥</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="mn" id="MathJax-Span-905" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.447em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-90">C_x =
\frac{1}{2} \|y-a^L \|^2</script>.  This assumption will also hold true for
all the other cost functions we'll meet in this book.</p><p>The reason we need this assumption is because what backpropagation
actually lets us do is compute the partial derivatives <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-91-Frame"><nobr><span class="math" id="MathJax-Span-906" role="math" style="width: 3.63em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.532em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-907"><span class="mi" id="MathJax-Span-908" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-909"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-910" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-911" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="texatom" id="MathJax-Span-912"><span class="mrow" id="MathJax-Span-913"><span class="mo" id="MathJax-Span-914" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-915" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-916" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-91">\partial C_x
/ \partial w</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-92-Frame"><nobr><span class="math" id="MathJax-Span-917" role="math" style="width: 3.336em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.238em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-918"><span class="mi" id="MathJax-Span-919" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-920"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-921" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-922" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="texatom" id="MathJax-Span-923"><span class="mrow" id="MathJax-Span-924"><span class="mo" id="MathJax-Span-925" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-926" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-927" style="font-family: MathJax_Math-italic;">b</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-92">\partial C_x / \partial b</script> for a single training
example.  We then recover <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-93-Frame"><nobr><span class="math" id="MathJax-Span-928" role="math" style="width: 3.189em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.091em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-929"><span class="mi" id="MathJax-Span-930" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-931" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-932"><span class="mrow" id="MathJax-Span-933"><span class="mo" id="MathJax-Span-934" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-935" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-936" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-93">\partial C / \partial w</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-94-Frame"><nobr><span class="math" id="MathJax-Span-937" role="math" style="width: 2.895em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.846em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-938"><span class="mi" id="MathJax-Span-939" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-940" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-941"><span class="mrow" id="MathJax-Span-942"><span class="mo" id="MathJax-Span-943" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-944" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-945" style="font-family: MathJax_Math-italic;">b</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-94">\partial C
/ \partial b</script> by averaging over training examples.  In fact, with this
assumption in mind, we'll suppose the training example <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-95-Frame"><nobr><span class="math" id="MathJax-Span-946" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-947"><span class="mi" id="MathJax-Span-948" style="font-family: MathJax_Math-italic;">x</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-95">x</script> has been
fixed, and drop the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-96-Frame"><nobr><span class="math" id="MathJax-Span-949" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-950"><span class="mi" id="MathJax-Span-951" style="font-family: MathJax_Math-italic;">x</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-96">x</script> subscript, writing the cost <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-97-Frame"><nobr><span class="math" id="MathJax-Span-952" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.316em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-953"><span class="msubsup" id="MathJax-Span-954"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-955" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-956" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.198em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-97">C_x</script> as <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-98-Frame"><nobr><span class="math" id="MathJax-Span-957" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-958"><span class="mi" id="MathJax-Span-959" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-98">C</script>.
We'll eventually put the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-99-Frame"><nobr><span class="math" id="MathJax-Span-960" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-961"><span class="mi" id="MathJax-Span-962" style="font-family: MathJax_Math-italic;">x</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-99">x</script> back in, but for now it's a notational
nuisance that is better left implicit.</p><p>The second assumption we make about the cost is that it can be written
as a function of the outputs from the neural network:
</p><center>
<img src="./Neural networks and deep learning 2_files/tikz18.png">
</center>
For example, the quadratic cost function satisfies this requirement,
since the quadatic cost for a single training example <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-100-Frame"><nobr><span class="math" id="MathJax-Span-963" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-964"><span class="mi" id="MathJax-Span-965" style="font-family: MathJax_Math-italic;">x</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-100">x</script> may be
written as
<a class="displaced_anchor" name="eqtn27"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-101-Frame"><nobr><span class="math" id="MathJax-Span-966" role="math" style="width: 100%; display: inline-block; min-width: 22.11em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 22.11em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-967"><span class="mtable" id="MathJax-Span-968" style="min-width: 22.551em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 22.11em;"><span style="display: inline-block; position: absolute; width: 15.787em; height: 0px; clip: rect(-1.713em 1000.002em 1.228em -999.998em); top: 0.002em; left: 50%; margin-left: -7.89em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 15.787em; height: 0px;"><span style="position: absolute; clip: rect(2.551em 1000.002em 5.493em -999.998em); top: -4.262em; right: 0.002em;"><span class="mtd" id="MathJax-Span-972"><span class="mrow" id="MathJax-Span-973"><span class="mi" id="MathJax-Span-974" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-975" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-976" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.64em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.243em;"><span class="mn" id="MathJax-Span-977" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -3.331em; left: 50%; margin-left: -0.243em;"><span class="mn" id="MathJax-Span-978" style="font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 0.64em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-979" style="font-family: MathJax_Main;">∥</span><span class="mi" id="MathJax-Span-980" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-981" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="msubsup" id="MathJax-Span-982" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-983" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-984" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-985"><span style="display: inline-block; position: relative; width: 0.934em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-986" style="font-family: MathJax_Main;">∥</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mn" id="MathJax-Span-987" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-988" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-989" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.64em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.243em;"><span class="mn" id="MathJax-Span-990" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -3.331em; left: 50%; margin-left: -0.243em;"><span class="mn" id="MathJax-Span-991" style="font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 0.64em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="munderover" id="MathJax-Span-992" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-993" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.414em -999.998em); top: -2.939em; left: 0.591em;"><span class="mi" id="MathJax-Span-994" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-995" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-996"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-997" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.493em;"><span class="mi" id="MathJax-Span-998" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-999" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="msubsup" id="MathJax-Span-1000" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1001" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1002" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-1003" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-1004"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-1005" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mn" id="MathJax-Span-1006" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1007" style="font-family: MathJax_Main;">,</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-1.125em 1000.002em 0.15em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.262em; right: 0.002em;"><span class="mtd" id="mjx-eqn-27"><span class="mrow" id="MathJax-Span-970"><span class="mtext" id="MathJax-Span-971" style="font-family: MathJax_Main;">(27)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-101">\begin{eqnarray}
  C = \frac{1}{2} \|y-a^L\|^2 = \frac{1}{2} \sum_j (y_j-a^L_j)^2,
\tag{27}\end{eqnarray}</script>
and thus is a function of the output activations.  Of course, this
cost function also depends on the desired output <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-102-Frame"><nobr><span class="math" id="MathJax-Span-1008" role="math" style="width: 0.493em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1009"><span class="mi" id="MathJax-Span-1010" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.753em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-102">y</script>, and you may
wonder why we're not regarding the cost also as a function of <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-103-Frame"><nobr><span class="math" id="MathJax-Span-1011" role="math" style="width: 0.493em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1012"><span class="mi" id="MathJax-Span-1013" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.753em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-103">y</script>.
Remember, though, that the input training example <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-104-Frame"><nobr><span class="math" id="MathJax-Span-1014" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1015"><span class="mi" id="MathJax-Span-1016" style="font-family: MathJax_Math-italic;">x</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-104">x</script> is fixed, and so
the output <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-105-Frame"><nobr><span class="math" id="MathJax-Span-1017" role="math" style="width: 0.493em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1018"><span class="mi" id="MathJax-Span-1019" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.753em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-105">y</script> is also a fixed parameter.  In particular, it's not
something we can modify by changing the weights and biases in any way,
i.e., it's not something which the neural network learns.  And so it
makes sense to regard <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-106-Frame"><nobr><span class="math" id="MathJax-Span-1020" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1021"><span class="mi" id="MathJax-Span-1022" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-106">C</script> as a function of the output activations
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-107-Frame"><nobr><span class="math" id="MathJax-Span-1023" role="math" style="width: 1.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1024"><span class="msubsup" id="MathJax-Span-1025"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1026" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1027" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-107">a^L</script> alone, with <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-108-Frame"><nobr><span class="math" id="MathJax-Span-1028" role="math" style="width: 0.493em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1029"><span class="mi" id="MathJax-Span-1030" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.753em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-108">y</script> merely a parameter that helps define that
function.<p></p><p></p><p></p><p></p><p></p><h3><a name="the_hadamard_product_$s_\odot_t$"></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#the_hadamard_product_$s_\odot_t$">The Hadamard product, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-109-Frame"><nobr><span class="math" id="MathJax-Span-1031" role="math" style="width: 2.303em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.075em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(3.297em 1000.001em 4.178em -999.999em); top: -4.004em; left: 0.001em;"><span class="mrow" id="MathJax-Span-1032"><span class="mi" id="MathJax-Span-1033" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-1034" style="font-family: MathJax_Main; padding-left: 0.229em;">⊙</span><span class="mi" id="MathJax-Span-1035" style="font-family: MathJax_Math-italic; padding-left: 0.229em;">t</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span><span style="border-left-width: 0.002em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.845em; vertical-align: -0.123em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-109">s \odot t</script></a></h3><p></p><p>The backpropagation algorithm is based on common linear algebraic
operations - things like vector addition, multiplying a vector by a
matrix, and so on.  But one of the operations is a little less
commonly used.  In particular, suppose <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-110-Frame"><nobr><span class="math" id="MathJax-Span-1036" role="math" style="width: 0.493em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1037"><span class="mi" id="MathJax-Span-1038" style="font-family: MathJax_Math-italic;">s</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-110">s</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-111-Frame"><nobr><span class="math" id="MathJax-Span-1039" role="math" style="width: 0.346em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.346em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1040"><span class="mi" id="MathJax-Span-1041" style="font-family: MathJax_Math-italic;">t</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.753em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-111">t</script> are two vectors of
the same dimension.  Then we use <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-112-Frame"><nobr><span class="math" id="MathJax-Span-1042" role="math" style="width: 2.159em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.11em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.267em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1043"><span class="mi" id="MathJax-Span-1044" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-1045" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="mi" id="MathJax-Span-1046" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">t</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.148em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-112">s \odot t</script> to denote the
<em>elementwise</em> product of the two vectors.  Thus the components of
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-113-Frame"><nobr><span class="math" id="MathJax-Span-1047" role="math" style="width: 2.159em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.11em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.267em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1048"><span class="mi" id="MathJax-Span-1049" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-1050" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="mi" id="MathJax-Span-1051" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">t</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.148em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-113">s \odot t</script> are just <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-114-Frame"><nobr><span class="math" id="MathJax-Span-1052" role="math" style="width: 6.326em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1053"><span class="mo" id="MathJax-Span-1054" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-1055" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-1056" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="mi" id="MathJax-Span-1057" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">t</span><span class="msubsup" id="MathJax-Span-1058"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-1059" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.395em;"><span class="mi" id="MathJax-Span-1060" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1061" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-1062" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1063" style="font-family: MathJax_Math-italic;">s</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.493em;"><span class="mi" id="MathJax-Span-1064" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-1065"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1066" style="font-family: MathJax_Math-italic;">t</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.346em;"><span class="mi" id="MathJax-Span-1067" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.153em; vertical-align: -0.348em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-114">(s \odot t)_j = s_j t_j</script>.  As an example,
<a class="displaced_anchor" name="eqtn28"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-115-Frame"><nobr><span class="math" id="MathJax-Span-1068" role="math" style="width: 100%; display: inline-block; min-width: 19.708em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 19.708em;"><span style="position: absolute; clip: rect(2.404em 1000.002em 5.1em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-1069"><span class="mtable" id="MathJax-Span-1070" style="min-width: 20.1em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 19.708em;"><span style="display: inline-block; position: absolute; width: 13.385em; height: 0px; clip: rect(-1.615em 1000.002em 1.081em -999.998em); top: 0.002em; left: 50%; margin-left: -6.664em;"><span style="position: absolute; clip: rect(2.404em 1000.002em 5.1em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 13.385em; height: 0px;"><span style="position: absolute; clip: rect(2.404em 1000.002em 5.1em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-1074"><span class="mrow" id="MathJax-Span-1075"><span class="mrow" id="MathJax-Span-1076"><span class="mo" id="MathJax-Span-1077" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">[</span></span><span class="mtable" id="MathJax-Span-1078" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px;"><span style="position: absolute; clip: rect(2.551em 1000.002em 4.904em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.654em; left: 50%; margin-left: -0.243em;"><span class="mtd" id="MathJax-Span-1079"><span class="mrow" id="MathJax-Span-1080"><span class="mn" id="MathJax-Span-1081" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -3.282em; left: 50%; margin-left: -0.243em;"><span class="mtd" id="MathJax-Span-1082"><span class="mrow" id="MathJax-Span-1083"><span class="mn" id="MathJax-Span-1084" style="font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1085" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">]</span></span></span><span class="mo" id="MathJax-Span-1086" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="mrow" id="MathJax-Span-1087" style="padding-left: 0.248em;"><span class="mo" id="MathJax-Span-1088" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">[</span></span><span class="mtable" id="MathJax-Span-1089" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px;"><span style="position: absolute; clip: rect(2.551em 1000.002em 4.904em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.654em; left: 50%; margin-left: -0.243em;"><span class="mtd" id="MathJax-Span-1090"><span class="mrow" id="MathJax-Span-1091"><span class="mn" id="MathJax-Span-1092" style="font-family: MathJax_Main;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -3.282em; left: 50%; margin-left: -0.243em;"><span class="mtd" id="MathJax-Span-1093"><span class="mrow" id="MathJax-Span-1094"><span class="mn" id="MathJax-Span-1095" style="font-family: MathJax_Main;">4</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1096" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">]</span></span></span><span class="mo" id="MathJax-Span-1097" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mrow" id="MathJax-Span-1098" style="padding-left: 0.297em;"><span class="mo" id="MathJax-Span-1099" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">[</span></span><span class="mtable" id="MathJax-Span-1100" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(2.551em 1000.002em 4.904em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.654em; left: 50%; margin-left: -0.978em;"><span class="mtd" id="MathJax-Span-1101"><span class="mrow" id="MathJax-Span-1102"><span class="mn" id="MathJax-Span-1103" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-1104" style="font-family: MathJax_Main; padding-left: 0.248em;">∗</span><span class="mn" id="MathJax-Span-1105" style="font-family: MathJax_Main; padding-left: 0.248em;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -3.282em; left: 50%; margin-left: -0.978em;"><span class="mtd" id="MathJax-Span-1106"><span class="mrow" id="MathJax-Span-1107"><span class="mn" id="MathJax-Span-1108" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-1109" style="font-family: MathJax_Main; padding-left: 0.248em;">∗</span><span class="mn" id="MathJax-Span-1110" style="font-family: MathJax_Main; padding-left: 0.248em;">4</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1111" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">]</span></span></span><span class="mo" id="MathJax-Span-1112" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mrow" id="MathJax-Span-1113" style="padding-left: 0.297em;"><span class="mo" id="MathJax-Span-1114" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">[</span></span><span class="mtable" id="MathJax-Span-1115" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px;"><span style="position: absolute; clip: rect(2.551em 1000.002em 4.953em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.654em; left: 50%; margin-left: -0.243em;"><span class="mtd" id="MathJax-Span-1116"><span class="mrow" id="MathJax-Span-1117"><span class="mn" id="MathJax-Span-1118" style="font-family: MathJax_Main;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -3.282em; left: 50%; margin-left: -0.243em;"><span class="mtd" id="MathJax-Span-1119"><span class="mrow" id="MathJax-Span-1120"><span class="mn" id="MathJax-Span-1121" style="font-family: MathJax_Main;">8</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1122" style="vertical-align: 0.002em;"><span style="font-family: MathJax_Size3;">]</span></span></span><span class="mo" id="MathJax-Span-1123" style="font-family: MathJax_Main; padding-left: 0.15em;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.88em 1000.002em 0.395em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="mjx-eqn-28"><span class="mrow" id="MathJax-Span-1072"><span class="mtext" id="MathJax-Span-1073" style="font-family: MathJax_Main;">(28)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.552em; vertical-align: -0.997em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-115">\begin{eqnarray}
\left[\begin{array}{c} 1 \\ 2 \end{array}\right] 
  \odot \left[\begin{array}{c} 3 \\ 4\end{array} \right]
= \left[ \begin{array}{c} 1 * 3 \\ 2 * 4 \end{array} \right]
= \left[ \begin{array}{c} 3 \\ 8 \end{array} \right].
\tag{28}\end{eqnarray}</script>
This kind of elementwise multiplication is sometimes called the
<em>Hadamard product</em> or <em>Schur product</em>.  We'll refer to it as
the Hadamard product.  Good matrix libraries usually provide fast
implementations of the Hadamard product, and that comes in handy when
implementing backpropagation.</p><p></p><h3><a name="the_four_fundamental_equations_behind_backpropagation"></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#the_four_fundamental_equations_behind_backpropagation">The four fundamental equations behind backpropagation</a></h3><p></p><p>Backpropagation is about understanding how changing the weights and
biases in a network changes the cost function.  Ultimately, this means
computing the partial derivatives <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-116-Frame"><nobr><span class="math" id="MathJax-Span-1124" role="math" style="width: 3.924em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.826em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1125"><span class="mi" id="MathJax-Span-1126" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1127" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-1128"><span class="mrow" id="MathJax-Span-1129"><span class="mo" id="MathJax-Span-1130" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-1131" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1132"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1133" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-1134" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-1135"><span class="mrow" id="MathJax-Span-1136"><span class="mi" id="MathJax-Span-1137" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-1138" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-116">\partial C / \partial w^l_{jk}</script> and
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-117-Frame"><nobr><span class="math" id="MathJax-Span-1139" role="math" style="width: 3.287em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.189em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1140"><span class="mi" id="MathJax-Span-1141" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1142" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-1143"><span class="mrow" id="MathJax-Span-1144"><span class="mo" id="MathJax-Span-1145" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-1146" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1147"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1148" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-1149" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1150" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-117">\partial C / \partial b^l_j</script>.  But to compute those, we first
introduce an intermediate quantity, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-118-Frame"><nobr><span class="math" id="MathJax-Span-1151" role="math" style="width: 0.885em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1152"><span class="msubsup" id="MathJax-Span-1153"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1154" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1155" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1156" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-118">\delta^l_j</script>, which we call the
<em>error</em> in the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-119-Frame"><nobr><span class="math" id="MathJax-Span-1157" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1158"><span class="msubsup" id="MathJax-Span-1159"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1160" style="font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-1161"><span class="mrow" id="MathJax-Span-1162"><span class="mi" id="MathJax-Span-1163" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-1164" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-119">j^{\rm th}</script> neuron in the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-120-Frame"><nobr><span class="math" id="MathJax-Span-1165" role="math" style="width: 1.081em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1166"><span class="msubsup" id="MathJax-Span-1167"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1168" style="font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.297em;"><span class="texatom" id="MathJax-Span-1169"><span class="mrow" id="MathJax-Span-1170"><span class="mi" id="MathJax-Span-1171" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-1172" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-120">l^{\rm th}</script> layer.
Backpropagation will give us a procedure to compute the error
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-121-Frame"><nobr><span class="math" id="MathJax-Span-1173" role="math" style="width: 0.885em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1174"><span class="msubsup" id="MathJax-Span-1175"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1176" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1177" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1178" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-121">\delta^l_j</script>, and then will relate <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-122-Frame"><nobr><span class="math" id="MathJax-Span-1179" role="math" style="width: 0.885em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1180"><span class="msubsup" id="MathJax-Span-1181"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1182" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1183" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1184" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-122">\delta^l_j</script> to <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-123-Frame"><nobr><span class="math" id="MathJax-Span-1185" role="math" style="width: 3.924em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.826em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1186"><span class="mi" id="MathJax-Span-1187" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1188" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-1189"><span class="mrow" id="MathJax-Span-1190"><span class="mo" id="MathJax-Span-1191" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-1192" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1193"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1194" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-1195" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-1196"><span class="mrow" id="MathJax-Span-1197"><span class="mi" id="MathJax-Span-1198" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-1199" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-123">\partial C
/ \partial w^l_{jk}</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-124-Frame"><nobr><span class="math" id="MathJax-Span-1200" role="math" style="width: 3.287em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.189em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1201"><span class="mi" id="MathJax-Span-1202" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1203" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-1204"><span class="mrow" id="MathJax-Span-1205"><span class="mo" id="MathJax-Span-1206" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-1207" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1208"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1209" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-1210" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1211" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-124">\partial C / \partial b^l_j</script>.</p><p>To understand how the error is defined, imagine there is a demon in
our neural network:
</p><center>
<img src="./Neural networks and deep learning 2_files/tikz19.png">
</center>
The demon sits at the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-125-Frame"><nobr><span class="math" id="MathJax-Span-1212" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1213"><span class="msubsup" id="MathJax-Span-1214"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1215" style="font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-1216"><span class="mrow" id="MathJax-Span-1217"><span class="mi" id="MathJax-Span-1218" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-1219" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-125">j^{\rm th}</script> neuron in layer <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-126-Frame"><nobr><span class="math" id="MathJax-Span-1220" role="math" style="width: 0.297em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.297em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1221"><span class="mi" id="MathJax-Span-1222" style="font-family: MathJax_Math-italic;">l</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-126">l</script>.  As the input to the
neuron comes in, the demon messes with the neuron's operation.  It
adds a little change <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-127-Frame"><nobr><span class="math" id="MathJax-Span-1223" role="math" style="width: 1.718em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.669em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1224"><span class="mi" id="MathJax-Span-1225" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-1226"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1227" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1228" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1229" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-127">\Delta z^l_j</script> to the neuron's weighted input, so
that instead of outputting <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-128-Frame"><nobr><span class="math" id="MathJax-Span-1230" role="math" style="width: 2.208em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1231"><span class="mi" id="MathJax-Span-1232" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-1233" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1234"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1235" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1236" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1237" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1238" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-128">\sigma(z^l_j)</script>, the neuron instead outputs
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-129-Frame"><nobr><span class="math" id="MathJax-Span-1239" role="math" style="width: 5.199em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.1em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1240"><span class="mi" id="MathJax-Span-1241" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-1242" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1243"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1244" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1245" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1246" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1247" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="mi" id="MathJax-Span-1248" style="font-family: MathJax_Main; padding-left: 0.248em;">Δ</span><span class="msubsup" id="MathJax-Span-1249"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1250" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1251" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1252" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1253" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-129">\sigma(z^l_j+\Delta z^l_j)</script>.  This change propagates through later
layers in the network, finally causing the overall cost to change by
an amount <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-130-Frame"><nobr><span class="math" id="MathJax-Span-1254" role="math" style="width: 3.042em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.993em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.944em 1000.002em 5.002em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1255"><span class="mfrac" id="MathJax-Span-1256"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.458em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-1257"><span class="mi" id="MathJax-Span-1258" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1259" style="font-size: 70.7%; font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.287em 1000.002em 4.463em -999.998em); top: -3.527em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-1260"><span class="mi" id="MathJax-Span-1261" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1262"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px;"><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1263" style="font-size: 70.7%; font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.169em -999.998em); top: -4.262em; left: 0.395em;"><span class="mi" id="MathJax-Span-1264" style="font-size: 50%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.267em -999.998em); top: -3.821em; left: 0.346em;"><span class="mi" id="MathJax-Span-1265" style="font-size: 50%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.13em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mi" id="MathJax-Span-1266" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-1267"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1268" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1269" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1270" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.852em; vertical-align: -0.897em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-130">\frac{\partial C}{\partial z^l_j} \Delta z^l_j</script>.<p></p><p>Now, this demon is a good demon, and is trying to help you improve the
cost, i.e., they're trying to find a <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-131-Frame"><nobr><span class="math" id="MathJax-Span-1271" role="math" style="width: 1.718em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.669em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1272"><span class="mi" id="MathJax-Span-1273" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-1274"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1275" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1276" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1277" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-131">\Delta z^l_j</script> which makes the
cost smaller.  Suppose <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-132-Frame"><nobr><span class="math" id="MathJax-Span-1278" role="math" style="width: 1.424em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.375em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.944em 1000.002em 5.002em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1279"><span class="mfrac" id="MathJax-Span-1280"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.458em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-1281"><span class="mi" id="MathJax-Span-1282" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1283" style="font-size: 70.7%; font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.287em 1000.002em 4.463em -999.998em); top: -3.527em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-1284"><span class="mi" id="MathJax-Span-1285" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1286"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px;"><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1287" style="font-size: 70.7%; font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.169em -999.998em); top: -4.262em; left: 0.395em;"><span class="mi" id="MathJax-Span-1288" style="font-size: 50%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.267em -999.998em); top: -3.821em; left: 0.346em;"><span class="mi" id="MathJax-Span-1289" style="font-size: 50%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.13em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.852em; vertical-align: -0.897em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-132">\frac{\partial C}{\partial z^l_j}</script> has a large
value (either positive or negative).  Then the demon can lower the
cost quite a bit by choosing <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-133-Frame"><nobr><span class="math" id="MathJax-Span-1290" role="math" style="width: 1.718em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.669em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1291"><span class="mi" id="MathJax-Span-1292" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-1293"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1294" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1295" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1296" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-133">\Delta z^l_j</script> to have the opposite sign
to <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-134-Frame"><nobr><span class="math" id="MathJax-Span-1297" role="math" style="width: 1.424em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.375em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.944em 1000.002em 5.002em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1298"><span class="mfrac" id="MathJax-Span-1299"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.458em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-1300"><span class="mi" id="MathJax-Span-1301" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1302" style="font-size: 70.7%; font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.287em 1000.002em 4.463em -999.998em); top: -3.527em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-1303"><span class="mi" id="MathJax-Span-1304" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1305"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px;"><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1306" style="font-size: 70.7%; font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.169em -999.998em); top: -4.262em; left: 0.395em;"><span class="mi" id="MathJax-Span-1307" style="font-size: 50%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.267em -999.998em); top: -3.821em; left: 0.346em;"><span class="mi" id="MathJax-Span-1308" style="font-size: 50%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.13em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.852em; vertical-align: -0.897em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-134">\frac{\partial C}{\partial z^l_j}</script>.  By contrast, if
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-135-Frame"><nobr><span class="math" id="MathJax-Span-1309" role="math" style="width: 1.424em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.375em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.944em 1000.002em 5.002em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1310"><span class="mfrac" id="MathJax-Span-1311"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.458em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-1312"><span class="mi" id="MathJax-Span-1313" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1314" style="font-size: 70.7%; font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.287em 1000.002em 4.463em -999.998em); top: -3.527em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-1315"><span class="mi" id="MathJax-Span-1316" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1317"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px;"><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1318" style="font-size: 70.7%; font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.169em -999.998em); top: -4.262em; left: 0.395em;"><span class="mi" id="MathJax-Span-1319" style="font-size: 50%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.267em -999.998em); top: -3.821em; left: 0.346em;"><span class="mi" id="MathJax-Span-1320" style="font-size: 50%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.13em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.852em; vertical-align: -0.897em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-135">\frac{\partial C}{\partial z^l_j}</script> is close to zero, then the demon
can't improve the cost much at all by perturbing the weighted input
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-136-Frame"><nobr><span class="math" id="MathJax-Span-1321" role="math" style="width: 0.885em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1322"><span class="msubsup" id="MathJax-Span-1323"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1324" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1325" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1326" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-136">z^l_j</script>.  So far as the demon can tell, the neuron is already pretty
near optimal*<span class="marginnote">
*This is only the case for small changes <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-137-Frame"><nobr><span class="math" id="MathJax-Span-1327" role="math" style="width: 1.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.638em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.945em 1000.004em 4.661em -999.996em); top: -3.999em; left: 0.004em;"><span class="mrow" id="MathJax-Span-1328"><span class="mi" id="MathJax-Span-1329" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-1330"><span style="display: inline-block; position: relative; width: 0.821em; height: 0px;"><span style="position: absolute; clip: rect(3.354em 1000.004em 4.252em -999.996em); top: -3.999em; left: 0.004em;"><span class="mi" id="MathJax-Span-1331" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.272em 1000.004em 4.252em -999.996em); top: -4.326em; left: 0.494em;"><span class="mi" id="MathJax-Span-1332" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.272em 1000.004em 4.416em -999.996em); top: -3.672em; left: 0.494em;"><span class="mi" id="MathJax-Span-1333" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.504em; vertical-align: -0.496em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-137">\Delta
  z^l_j</script>, of course. We'll assume that the demon is constrained to
  make such small changes.</span>.  And so there's a heuristic sense in
which <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-138-Frame"><nobr><span class="math" id="MathJax-Span-1334" role="math" style="width: 1.424em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.375em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.944em 1000.002em 5.002em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1335"><span class="mfrac" id="MathJax-Span-1336"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.458em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-1337"><span class="mi" id="MathJax-Span-1338" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1339" style="font-size: 70.7%; font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.287em 1000.002em 4.463em -999.998em); top: -3.527em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-1340"><span class="mi" id="MathJax-Span-1341" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1342"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px;"><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1343" style="font-size: 70.7%; font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.169em -999.998em); top: -4.262em; left: 0.395em;"><span class="mi" id="MathJax-Span-1344" style="font-size: 50%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.267em -999.998em); top: -3.821em; left: 0.346em;"><span class="mi" id="MathJax-Span-1345" style="font-size: 50%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.13em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.852em; vertical-align: -0.897em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-138">\frac{\partial C}{\partial z^l_j}</script> is a measure of the error in
the neuron.</p><p>Motivated by this story, we define the error <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-139-Frame"><nobr><span class="math" id="MathJax-Span-1346" role="math" style="width: 0.885em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1347"><span class="msubsup" id="MathJax-Span-1348"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1349" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1350" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1351" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-139">\delta^l_j</script> of neuron
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-140-Frame"><nobr><span class="math" id="MathJax-Span-1352" role="math" style="width: 0.395em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.395em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1353"><span class="mi" id="MathJax-Span-1354" style="font-family: MathJax_Math-italic;">j</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-140">j</script> in layer <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-141-Frame"><nobr><span class="math" id="MathJax-Span-1355" role="math" style="width: 0.297em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.297em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1356"><span class="mi" id="MathJax-Span-1357" style="font-family: MathJax_Math-italic;">l</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-141">l</script> by
<a class="displaced_anchor" name="eqtn29"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-142-Frame"><nobr><span class="math" id="MathJax-Span-1358" role="math" style="width: 100%; display: inline-block; min-width: 10.738em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 10.738em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-1359"><span class="mtable" id="MathJax-Span-1360" style="min-width: 10.983em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 10.738em;"><span style="display: inline-block; position: absolute; width: 4.218em; height: 0px; clip: rect(-1.713em 1000.002em 1.228em -999.998em); top: 0.002em; left: 50%; margin-left: -2.105em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 4.218em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-1364"><span class="mrow" id="MathJax-Span-1365"><span class="msubsup" id="MathJax-Span-1366"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1367" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1368" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1369" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1370" style="font-family: MathJax_Main; padding-left: 0.297em;">≡</span><span class="mfrac" id="MathJax-Span-1371" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.522em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-1372"><span class="mi" id="MathJax-Span-1373" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1374" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-1375"><span class="mi" id="MathJax-Span-1376" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1377"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1378" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1379" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1380" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.522em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-1381" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-1.076em 1000.002em 0.199em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="mjx-eqn-29"><span class="mrow" id="MathJax-Span-1362"><span class="mtext" id="MathJax-Span-1363" style="font-family: MathJax_Main;">(29)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-142">\begin{eqnarray} 
  \delta^l_j \equiv \frac{\partial C}{\partial z^l_j}.
\tag{29}\end{eqnarray}</script>
As per our usual conventions, we use <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-143-Frame"><nobr><span class="math" id="MathJax-Span-1382" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1383"><span class="msubsup" id="MathJax-Span-1384"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1385" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1386" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-143">\delta^l</script> to denote the vector
of errors associated with layer <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-144-Frame"><nobr><span class="math" id="MathJax-Span-1387" role="math" style="width: 0.297em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.297em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1388"><span class="mi" id="MathJax-Span-1389" style="font-family: MathJax_Math-italic;">l</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-144">l</script>.  Backpropagation will give us a
way of computing <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-145-Frame"><nobr><span class="math" id="MathJax-Span-1390" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1391"><span class="msubsup" id="MathJax-Span-1392"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1393" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1394" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-145">\delta^l</script> for every layer, and then relating those
errors to the quantities of real interest, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-146-Frame"><nobr><span class="math" id="MathJax-Span-1395" role="math" style="width: 3.924em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.826em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1396"><span class="mi" id="MathJax-Span-1397" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1398" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-1399"><span class="mrow" id="MathJax-Span-1400"><span class="mo" id="MathJax-Span-1401" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-1402" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1403"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1404" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-1405" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-1406"><span class="mrow" id="MathJax-Span-1407"><span class="mi" id="MathJax-Span-1408" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-1409" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-146">\partial C / \partial
w^l_{jk}</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-147-Frame"><nobr><span class="math" id="MathJax-Span-1410" role="math" style="width: 3.287em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.189em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1411"><span class="mi" id="MathJax-Span-1412" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1413" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-1414"><span class="mrow" id="MathJax-Span-1415"><span class="mo" id="MathJax-Span-1416" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-1417" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1418"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1419" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-1420" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1421" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-147">\partial C / \partial b^l_j</script>.</p><p>You might wonder why the demon is changing the weighted input <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-148-Frame"><nobr><span class="math" id="MathJax-Span-1422" role="math" style="width: 0.885em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1423"><span class="msubsup" id="MathJax-Span-1424"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1425" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1426" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1427" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-148">z^l_j</script>.
Surely it'd be more natural to imagine the demon changing the output
activation <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-149-Frame"><nobr><span class="math" id="MathJax-Span-1428" role="math" style="width: 0.934em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1429"><span class="msubsup" id="MathJax-Span-1430"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1431" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1432" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-1433" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-149">a^l_j</script>, with the result that we'd be using <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-150-Frame"><nobr><span class="math" id="MathJax-Span-1434" role="math" style="width: 1.424em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.375em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.944em 1000.002em 5.002em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1435"><span class="mfrac" id="MathJax-Span-1436"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.458em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-1437"><span class="mi" id="MathJax-Span-1438" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1439" style="font-size: 70.7%; font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.287em 1000.002em 4.463em -999.998em); top: -3.527em; left: 50%; margin-left: -0.537em;"><span class="mrow" id="MathJax-Span-1440"><span class="mi" id="MathJax-Span-1441" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1442"><span style="display: inline-block; position: relative; width: 0.64em; height: 0px;"><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1443" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.169em -999.998em); top: -4.262em; left: 0.395em;"><span class="mi" id="MathJax-Span-1444" style="font-size: 50%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.267em -999.998em); top: -3.821em; left: 0.395em;"><span class="mi" id="MathJax-Span-1445" style="font-size: 50%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.179em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.852em; vertical-align: -0.897em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-150">\frac{\partial
  C}{\partial a^l_j}</script> as our measure of error.  In fact, if you do
this things work out quite similarly to the discussion below.  But it
turns out to make the presentation of backpropagation a little more
algebraically complicated.  So we'll stick with <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-151-Frame"><nobr><span class="math" id="MathJax-Span-1446" role="math" style="width: 3.63em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.532em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.944em 1000.002em 5.002em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1447"><span class="msubsup" id="MathJax-Span-1448"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1449" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1450" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1451" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1452" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-1453" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.458em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-1454"><span class="mi" id="MathJax-Span-1455" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1456" style="font-size: 70.7%; font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.287em 1000.002em 4.463em -999.998em); top: -3.527em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-1457"><span class="mi" id="MathJax-Span-1458" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1459"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px;"><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1460" style="font-size: 70.7%; font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.169em -999.998em); top: -4.262em; left: 0.395em;"><span class="mi" id="MathJax-Span-1461" style="font-size: 50%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.267em -999.998em); top: -3.821em; left: 0.346em;"><span class="mi" id="MathJax-Span-1462" style="font-size: 50%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.13em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.852em; vertical-align: -0.897em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-151">\delta^l_j =
\frac{\partial C}{\partial z^l_j}</script> as our measure of error*<span class="marginnote">
*In
  classification problems like MNIST the term "error" is sometimes
  used to mean the classification failure rate.  E.g., if the neural
  net correctly classifies 96.0 percent of the digits, then the error
  is 4.0 percent.  Obviously, this has quite a different meaning from
  our <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-152-Frame"><nobr><span class="math" id="MathJax-Span-1463" role="math" style="width: 0.494em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.494em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.027em 1000.004em 4.252em -999.996em); top: -3.999em; left: 0.004em;"><span class="mrow" id="MathJax-Span-1464"><span class="mi" id="MathJax-Span-1465" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.921em; vertical-align: -0.079em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-152">\delta</script> vectors.  In practice, you shouldn't have trouble
  telling which meaning is intended in any given useage.</span>.</p><p><strong>Plan of attack:</strong> Backpropagation is based around four
fundamental equations.  Together, those equations give us a way of
computing both the error <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-153-Frame"><nobr><span class="math" id="MathJax-Span-1466" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1467"><span class="msubsup" id="MathJax-Span-1468"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1469" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1470" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-153">\delta^l</script> and the gradient of the cost
function.  I state the four equations below.  Be warned, though: you
shouldn't expect to instantaneously assimilate the equations.  Such an
expectation will lead to disappointment.  In fact, the backpropagation
equations are so rich that understanding them well requires
considerable time and patience as you gradually delve deeper into the
equations.  The good news is that such patience is repaid many times
over.  And so the discussion in this section is merely a beginning,
helping you on the way to a thorough understanding of the equations.</p><p>Here's a preview of the ways we'll delve more deeply into the
equations later in the chapter: I'll
<a href="http://neuralnetworksanddeeplearning.com/chap2.html#proof_of_the_four_fundamental_equations_(optional)">give
  a short proof of the equations</a>, which helps explain why they are
true; we'll <a href="http://neuralnetworksanddeeplearning.com/chap2.html#the_backpropagation_algorithm">restate
  the equations</a> in algorithmic form as pseudocode, and
<a href="http://neuralnetworksanddeeplearning.com/chap2.html#the_code_for_backpropagation">see how</a> the
pseudocode can be implemented as real, running Python code; and, in
<a href="http://neuralnetworksanddeeplearning.com/chap2.html#backpropagation_the_big_picture">the final
  section of the chapter</a>, we'll develop an intuitive picture of what
the backpropagation equations mean, and how someone might discover
them from scratch.  Along the way we'll return repeatedly to the four
fundamental equations, and as you deepen your understanding those
equations will come to seem comfortable and, perhaps, even beautiful
and natural.</p><p><strong>An equation for the error in the output layer, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-154-Frame"><nobr><span class="math" id="MathJax-Span-1471" role="math" style="width: 1.119em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(3.012em 1000.002em 4.129em -999.998em); top: -3.978em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1472"><span class="msubsup" id="MathJax-Span-1473"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px;"><span style="position: absolute; clip: rect(3.109em 1000.002em 4.129em -999.998em); top: -3.978em; left: 0.002em;"><span class="mi" id="MathJax-Span-1474" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span><span style="position: absolute; top: -4.318em; left: 0.488em;"><span class="mi" id="MathJax-Span-1475" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-154">\delta^L</script>:</strong>
The components of <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-155-Frame"><nobr><span class="math" id="MathJax-Span-1476" role="math" style="width: 1.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1477"><span class="msubsup" id="MathJax-Span-1478"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1479" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1480" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-155">\delta^L</script> are given by
<a class="displaced_anchor" name="eqtnBP1"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-156-Frame"><nobr><span class="math" id="MathJax-Span-1481" role="math" style="width: 100%; display: inline-block; min-width: 15.689em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 15.689em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-1482"><span class="mtable" id="MathJax-Span-1483" style="min-width: 15.983em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 15.689em;"><span style="display: inline-block; position: absolute; width: 7.453em; height: 0px; clip: rect(-1.713em 1000.002em 1.228em -999.998em); top: 0.002em; left: 50%; margin-left: -3.723em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.453em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-1487"><span class="mrow" id="MathJax-Span-1488"><span class="msubsup" id="MathJax-Span-1489"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1490" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1491" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1492" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1493" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-1494" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-1495"><span class="mi" id="MathJax-Span-1496" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1497" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-1498"><span class="mi" id="MathJax-Span-1499" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1500"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1501" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1502" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-1503" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-1504"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1505" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-1506" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1507" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1508"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1509" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1510" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1511" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1512" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-1513" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 2.65em; height: 0px; clip: rect(-1.076em 1000.002em 0.248em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="mjx-eqn-BP1"><span class="mrow" id="MathJax-Span-1485"><span class="mtext" id="MathJax-Span-1486" style="font-family: MathJax_Main;">(BP1)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-156">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j).
\tag{BP1}\end{eqnarray}</script>
This is a very natural expression.  The first term on the right,
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-157-Frame"><nobr><span class="math" id="MathJax-Span-1514" role="math" style="width: 3.581em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.483em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1515"><span class="mi" id="MathJax-Span-1516" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1517" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-1518"><span class="mrow" id="MathJax-Span-1519"><span class="mo" id="MathJax-Span-1520" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-1521" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1522"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1523" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1524" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-1525" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-157">\partial C / \partial a^L_j</script>, just measures how fast the cost is
changing as a function of the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-158-Frame"><nobr><span class="math" id="MathJax-Span-1526" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1527"><span class="msubsup" id="MathJax-Span-1528"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1529" style="font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-1530"><span class="mrow" id="MathJax-Span-1531"><span class="mi" id="MathJax-Span-1532" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-1533" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-158">j^{\rm th}</script> output activation.  If, for
example, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-159-Frame"><nobr><span class="math" id="MathJax-Span-1534" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1535"><span class="mi" id="MathJax-Span-1536" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-159">C</script> doesn't depend much on a particular output neuron, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-160-Frame"><nobr><span class="math" id="MathJax-Span-1537" role="math" style="width: 0.395em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.395em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1538"><span class="mi" id="MathJax-Span-1539" style="font-family: MathJax_Math-italic;">j</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-160">j</script>,
then <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-161-Frame"><nobr><span class="math" id="MathJax-Span-1540" role="math" style="width: 1.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1541"><span class="msubsup" id="MathJax-Span-1542"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1543" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1544" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1545" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-161">\delta^L_j</script> will be small, which is what we'd expect.  The
second term on the right, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-162-Frame"><nobr><span class="math" id="MathJax-Span-1546" role="math" style="width: 2.797em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.748em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1547"><span class="msup" id="MathJax-Span-1548"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1549" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.64em;"><span class="mo" id="MathJax-Span-1550" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1551" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1552"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1553" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1554" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1555" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1556" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-162">\sigma'(z^L_j)</script>, measures how fast the
activation function <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-163-Frame"><nobr><span class="math" id="MathJax-Span-1557" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1558"><span class="mi" id="MathJax-Span-1559" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-163">\sigma</script> is changing at <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-164-Frame"><nobr><span class="math" id="MathJax-Span-1560" role="math" style="width: 1.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1561"><span class="msubsup" id="MathJax-Span-1562"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1563" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1564" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1565" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-164">z^L_j</script>.</p><p>Notice that everything in <span id="margin_382390915787_reveal" class="equation_link">(BP1)</span><span id="margin_382390915787" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-165-Frame"><nobr><span class="math" id="MathJax-Span-1566" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1567"><span class="mtable" id="MathJax-Span-1568" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-1569"><span class="mrow" id="MathJax-Span-1570"><span class="msubsup" id="MathJax-Span-1571"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1572" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1573" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1574" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1575" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-1576" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-1577"><span class="mi" id="MathJax-Span-1578" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1579" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-1580"><span class="mi" id="MathJax-Span-1581" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1582"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1583" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1584" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-1585" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-1586"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1587" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-1588" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1589" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1590"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1591" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1592" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1593" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1594" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-165">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_382390915787_reveal').click(function() {$('#margin_382390915787').toggle('slow', function() {});});</script> is easily computed.  In
particular, we compute <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-166-Frame"><nobr><span class="math" id="MathJax-Span-1595" role="math" style="width: 1.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1596"><span class="msubsup" id="MathJax-Span-1597"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1598" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1599" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1600" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-166">z^L_j</script> while computing the behaviour of the
network, and it's only a small additional overhead to compute
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-167-Frame"><nobr><span class="math" id="MathJax-Span-1601" role="math" style="width: 2.797em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.748em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1602"><span class="msup" id="MathJax-Span-1603"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1604" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.64em;"><span class="mo" id="MathJax-Span-1605" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1606" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1607"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1608" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1609" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1610" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1611" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-167">\sigma'(z^L_j)</script>.  The exact form of <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-168-Frame"><nobr><span class="math" id="MathJax-Span-1612" role="math" style="width: 3.581em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.483em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1613"><span class="mi" id="MathJax-Span-1614" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1615" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-1616"><span class="mrow" id="MathJax-Span-1617"><span class="mo" id="MathJax-Span-1618" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-1619" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1620"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1621" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1622" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-1623" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-168">\partial C / \partial a^L_j</script>
will, of course, depend on the form of the cost function.  However,
provided the cost function is known there should be little trouble
computing <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-169-Frame"><nobr><span class="math" id="MathJax-Span-1624" role="math" style="width: 3.581em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.483em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1625"><span class="mi" id="MathJax-Span-1626" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1627" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-1628"><span class="mrow" id="MathJax-Span-1629"><span class="mo" id="MathJax-Span-1630" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-1631" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1632"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1633" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1634" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-1635" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-169">\partial C / \partial a^L_j</script>.  For example, if we're using
the quadratic cost function then <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-170-Frame"><nobr><span class="math" id="MathJax-Span-1636" role="math" style="width: 8.826em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.63em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1637"><span class="mi" id="MathJax-Span-1638" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-1639" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-1640" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.409em; left: 50%; margin-left: -0.194em;"><span class="mn" id="MathJax-Span-1641" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.625em; left: 50%; margin-left: -0.194em;"><span class="mn" id="MathJax-Span-1642" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 0.493em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="munderover" id="MathJax-Span-1643" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-1644" style="font-family: MathJax_Size1; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.723em; left: 1.081em;"><span class="mi" id="MathJax-Span-1645" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1646" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1647"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1648" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.493em;"><span class="mi" id="MathJax-Span-1649" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1650" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="msubsup" id="MathJax-Span-1651" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1652" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-1653" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-1654"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-1655" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="mn" id="MathJax-Span-1656" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-170">C = \frac{1}{2} \sum_j (y_j-a_j)^2</script>,
and so <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-171-Frame"><nobr><span class="math" id="MathJax-Span-1657" role="math" style="width: 8.875em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.679em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1658"><span class="mi" id="MathJax-Span-1659" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1660" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-1661"><span class="mrow" id="MathJax-Span-1662"><span class="mo" id="MathJax-Span-1663" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-1664" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1665"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1666" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1667" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-1668" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1669" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-1670" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="msubsup" id="MathJax-Span-1671"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1672" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-1673" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1674" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="msubsup" id="MathJax-Span-1675" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1676" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.493em;"><span class="mi" id="MathJax-Span-1677" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1678" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-171">\partial C / \partial a^L_j = (a_j-y_j)</script>, which obviously is
easily computable.</p><p>Equation <span id="margin_263018415310_reveal" class="equation_link">(BP1)</span><span id="margin_263018415310" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-172-Frame"><nobr><span class="math" id="MathJax-Span-1679" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1680"><span class="mtable" id="MathJax-Span-1681" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-1682"><span class="mrow" id="MathJax-Span-1683"><span class="msubsup" id="MathJax-Span-1684"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1685" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1686" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1687" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1688" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-1689" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-1690"><span class="mi" id="MathJax-Span-1691" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1692" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-1693"><span class="mi" id="MathJax-Span-1694" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1695"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1696" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1697" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-1698" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-1699"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1700" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-1701" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1702" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1703"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1704" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1705" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1706" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1707" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-172">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_263018415310_reveal').click(function() {$('#margin_263018415310').toggle('slow', function() {});});</script> is a componentwise expression for <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-173-Frame"><nobr><span class="math" id="MathJax-Span-1708" role="math" style="width: 1.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1709"><span class="msubsup" id="MathJax-Span-1710"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1711" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1712" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-173">\delta^L</script>.
It's a perfectly good expression, but not the matrix-based form we
want for backpropagation. However, it's easy to rewrite the equation
in a matrix-based form, as
<a class="displaced_anchor" name="eqtnBP1a"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-174-Frame"><nobr><span class="math" id="MathJax-Span-1713" role="math" style="width: 100%; display: inline-block; min-width: 17.944em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 17.944em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-1714"><span class="mtable" id="MathJax-Span-1715" style="min-width: 18.287em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 17.944em;"><span style="display: inline-block; position: absolute; width: 8.777em; height: 0px; clip: rect(-0.978em 1000.002em 0.493em -999.998em); top: 0.002em; left: 50%; margin-left: -4.36em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 8.777em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.968em; right: 0.002em;"><span class="mtd" id="MathJax-Span-1719"><span class="mrow" id="MathJax-Span-1720"><span class="msubsup" id="MathJax-Span-1721"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1722" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-1723" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1724" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-1725" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.218em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1726" style="font-family: MathJax_Main;">∇</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.836em;"><span class="mi" id="MathJax-Span-1727" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mi" id="MathJax-Span-1728" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-1729" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-1730" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1731" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-1732" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1733" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1734"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1735" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-1736" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1737" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-1738" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 3.189em; height: 0px; clip: rect(-0.831em 1000.002em 0.493em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -3.968em; right: 0.002em;"><span class="mtd" id="mjx-eqn-BP1a"><span class="mrow" id="MathJax-Span-1717"><span class="mtext" id="MathJax-Span-1718" style="font-family: MathJax_Main;">(BP1a)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-174">\begin{eqnarray} 
  \delta^L = \nabla_a C \odot \sigma'(z^L).
\tag{BP1a}\end{eqnarray}</script>
Here, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-175-Frame"><nobr><span class="math" id="MathJax-Span-1739" role="math" style="width: 2.11em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.061em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.316em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1740"><span class="msubsup" id="MathJax-Span-1741"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.218em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1742" style="font-family: MathJax_Main;">∇</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.836em;"><span class="mi" id="MathJax-Span-1743" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mi" id="MathJax-Span-1744" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.198em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-175">\nabla_a C</script> is defined to be a vector whose components are the
partial derivatives <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-176-Frame"><nobr><span class="math" id="MathJax-Span-1745" role="math" style="width: 3.581em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.483em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1746"><span class="mi" id="MathJax-Span-1747" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1748" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-1749"><span class="mrow" id="MathJax-Span-1750"><span class="mo" id="MathJax-Span-1751" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-1752" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1753"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1754" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1755" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-1756" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-176">\partial C / \partial a^L_j</script>.  You can think of
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-177-Frame"><nobr><span class="math" id="MathJax-Span-1757" role="math" style="width: 2.11em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.061em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.316em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1758"><span class="msubsup" id="MathJax-Span-1759"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.218em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1760" style="font-family: MathJax_Main;">∇</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.836em;"><span class="mi" id="MathJax-Span-1761" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mi" id="MathJax-Span-1762" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.198em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-177">\nabla_a C</script> as expressing the rate of change of <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-178-Frame"><nobr><span class="math" id="MathJax-Span-1763" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1764"><span class="mi" id="MathJax-Span-1765" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-178">C</script> with respect to
the output activations.  It's easy to see that Equations <span id="margin_8458470983_reveal" class="equation_link">(BP1a)</span><span id="margin_8458470983" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1a" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-179-Frame"><nobr><span class="math" id="MathJax-Span-1766" role="math" style="width: 8.973em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.777em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1767"><span class="mtable" id="MathJax-Span-1768" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 8.483em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 8.483em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.968em; right: 0.002em;"><span class="mtd" id="MathJax-Span-1769"><span class="mrow" id="MathJax-Span-1770"><span class="msubsup" id="MathJax-Span-1771"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1772" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-1773" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1774" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-1775" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.218em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1776" style="font-family: MathJax_Main;">∇</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.836em;"><span class="mi" id="MathJax-Span-1777" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mi" id="MathJax-Span-1778" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-1779" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-1780" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1781" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-1782" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1783" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1784"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1785" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-1786" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1787" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-179">\begin{eqnarray} 
  \delta^L = \nabla_a C \odot \sigma'(z^L) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_8458470983_reveal').click(function() {$('#margin_8458470983').toggle('slow', function() {});});</script>
and <span id="margin_703150472952_reveal" class="equation_link">(BP1)</span><span id="margin_703150472952" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-180-Frame"><nobr><span class="math" id="MathJax-Span-1788" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1789"><span class="mtable" id="MathJax-Span-1790" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-1791"><span class="mrow" id="MathJax-Span-1792"><span class="msubsup" id="MathJax-Span-1793"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1794" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1795" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1796" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1797" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-1798" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-1799"><span class="mi" id="MathJax-Span-1800" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1801" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-1802"><span class="mi" id="MathJax-Span-1803" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1804"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1805" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1806" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-1807" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-1808"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1809" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-1810" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1811" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1812"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1813" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1814" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1815" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1816" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-180">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_703150472952_reveal').click(function() {$('#margin_703150472952').toggle('slow', function() {});});</script> are equivalent, and for that reason from now on we'll
use <span id="margin_961193266956_reveal" class="equation_link">(BP1)</span><span id="margin_961193266956" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-181-Frame"><nobr><span class="math" id="MathJax-Span-1817" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1818"><span class="mtable" id="MathJax-Span-1819" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-1820"><span class="mrow" id="MathJax-Span-1821"><span class="msubsup" id="MathJax-Span-1822"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1823" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1824" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1825" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1826" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-1827" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-1828"><span class="mi" id="MathJax-Span-1829" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1830" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-1831"><span class="mi" id="MathJax-Span-1832" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1833"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1834" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1835" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-1836" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-1837"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1838" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-1839" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1840" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1841"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1842" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1843" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1844" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1845" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-181">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_961193266956_reveal').click(function() {$('#margin_961193266956').toggle('slow', function() {});});</script> interchangeably to refer to both equations.  As an
example, in the case of the quadratic cost we have <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-182-Frame"><nobr><span class="math" id="MathJax-Span-1846" role="math" style="width: 7.208em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.061em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1847"><span class="msubsup" id="MathJax-Span-1848"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.218em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1849" style="font-family: MathJax_Main;">∇</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.836em;"><span class="mi" id="MathJax-Span-1850" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mi" id="MathJax-Span-1851" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-1852" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-1853" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="msubsup" id="MathJax-Span-1854"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1855" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1856" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1857" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mi" id="MathJax-Span-1858" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-1859" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-182">\nabla_a C =
(a^L-y)</script>, and so the fully matrix-based form of <span id="margin_364361326961_reveal" class="equation_link">(BP1)</span><span id="margin_364361326961" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-183-Frame"><nobr><span class="math" id="MathJax-Span-1860" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1861"><span class="mtable" id="MathJax-Span-1862" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-1863"><span class="mrow" id="MathJax-Span-1864"><span class="msubsup" id="MathJax-Span-1865"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1866" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-1867" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1868" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1869" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-1870" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-1871"><span class="mi" id="MathJax-Span-1872" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-1873" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-1874"><span class="mi" id="MathJax-Span-1875" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-1876"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1877" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1878" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-1879" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-1880"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1881" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-1882" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1883" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1884"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1885" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-1886" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-1887" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1888" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-183">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_364361326961_reveal').click(function() {$('#margin_364361326961').toggle('slow', function() {});});</script> becomes
<a class="displaced_anchor" name="eqtn30"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-184-Frame"><nobr><span class="math" id="MathJax-Span-1889" role="math" style="width: 100%; display: inline-block; min-width: 16.767em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 16.767em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-1890"><span class="mtable" id="MathJax-Span-1891" style="min-width: 17.11em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 16.767em;"><span style="display: inline-block; position: absolute; width: 10.346em; height: 0px; clip: rect(-0.978em 1000.002em 0.493em -999.998em); top: 0.002em; left: 50%; margin-left: -5.194em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 10.346em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.968em; right: 0.002em;"><span class="mtd" id="MathJax-Span-1895"><span class="mrow" id="MathJax-Span-1896"><span class="msubsup" id="MathJax-Span-1897"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1898" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-1899" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1900" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-1901" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="msubsup" id="MathJax-Span-1902"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1903" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-1904" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1905" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mi" id="MathJax-Span-1906" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-1907" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-1908" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-1909" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1910" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-1911" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1912" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1913"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1914" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-1915" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1916" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-1917" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.831em 1000.002em 0.493em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -3.968em; right: 0.002em;"><span class="mtd" id="mjx-eqn-30"><span class="mrow" id="MathJax-Span-1893"><span class="mtext" id="MathJax-Span-1894" style="font-family: MathJax_Main;">(30)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-184">\begin{eqnarray} 
  \delta^L = (a^L-y) \odot \sigma'(z^L).
\tag{30}\end{eqnarray}</script>
As you can see, everything in this expression has a nice vector form,
and is easily computed using a library such as Numpy.</p><p><strong>An equation for the error <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-185-Frame"><nobr><span class="math" id="MathJax-Span-1918" role="math" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.779em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(2.964em 1000.002em 4.129em -999.998em); top: -3.978em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1919"><span class="msubsup" id="MathJax-Span-1920"><span style="display: inline-block; position: relative; width: 0.779em; height: 0px;"><span style="position: absolute; clip: rect(3.109em 1000.002em 4.129em -999.998em); top: -3.978em; left: 0.002em;"><span class="mi" id="MathJax-Span-1921" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span><span style="position: absolute; top: -4.318em; left: 0.488em;"><span class="mi" id="MathJax-Span-1922" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-185">\delta^l</script> in terms of the error in
  the next layer, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-186-Frame"><nobr><span class="math" id="MathJax-Span-1923" role="math" style="width: 1.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.701em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(2.964em 1000.002em 4.129em -999.998em); top: -3.978em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1924"><span class="msubsup" id="MathJax-Span-1925"><span style="display: inline-block; position: relative; width: 1.701em; height: 0px;"><span style="position: absolute; clip: rect(3.109em 1000.002em 4.129em -999.998em); top: -3.978em; left: 0.002em;"><span class="mi" id="MathJax-Span-1926" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span><span style="position: absolute; top: -4.318em; left: 0.488em;"><span class="texatom" id="MathJax-Span-1927"><span class="mrow" id="MathJax-Span-1928"><span class="mi" id="MathJax-Span-1929" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-1930" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-1931" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-186">\delta^{l+1}</script>:</strong> In particular
<a class="displaced_anchor" name="eqtnBP2"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-187-Frame"><nobr><span class="math" id="MathJax-Span-1932" role="math" style="width: 100%; display: inline-block; min-width: 20.051em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 20.051em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-1933"><span class="mtable" id="MathJax-Span-1934" style="min-width: 20.444em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 20.051em;"><span style="display: inline-block; position: absolute; width: 11.914em; height: 0px; clip: rect(-0.978em 1000.002em 0.493em -999.998em); top: 0.002em; left: 50%; margin-left: -5.978em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.914em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-1938"><span class="mrow" id="MathJax-Span-1939"><span class="msubsup" id="MathJax-Span-1940"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1941" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-1942" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1943" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-1944" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="mo" id="MathJax-Span-1945" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1946"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1947" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-1948"><span class="mrow" id="MathJax-Span-1949"><span class="mi" id="MathJax-Span-1950" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-1951" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-1952" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-1953"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-1954" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-1955" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-1956"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1957" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-1958"><span class="mrow" id="MathJax-Span-1959"><span class="mi" id="MathJax-Span-1960" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-1961" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-1962" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1963" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-1964" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-1965" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1966" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-1967" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1968" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1969"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1970" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-1971" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-1972" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-1973" style="font-family: MathJax_Main;">,</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 2.65em; height: 0px; clip: rect(-0.831em 1000.002em 0.493em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="mjx-eqn-BP2"><span class="mrow" id="MathJax-Span-1936"><span class="mtext" id="MathJax-Span-1937" style="font-family: MathJax_Main;">(BP2)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-187">\begin{eqnarray} 
  \delta^l = ((w^{l+1})^T \delta^{l+1}) \odot \sigma'(z^l),
\tag{BP2}\end{eqnarray}</script>
where <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-188-Frame"><nobr><span class="math" id="MathJax-Span-1974" role="math" style="width: 3.336em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.238em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1975"><span class="mo" id="MathJax-Span-1976" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-1977"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1978" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.738em;"><span class="texatom" id="MathJax-Span-1979"><span class="mrow" id="MathJax-Span-1980"><span class="mi" id="MathJax-Span-1981" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-1982" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-1983" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-1984"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-1985" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="mi" id="MathJax-Span-1986" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-188">(w^{l+1})^T</script> is the tranpose of the weight matrix <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-189-Frame"><nobr><span class="math" id="MathJax-Span-1987" role="math" style="width: 1.963em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1988"><span class="msubsup" id="MathJax-Span-1989"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-1990" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.738em;"><span class="texatom" id="MathJax-Span-1991"><span class="mrow" id="MathJax-Span-1992"><span class="mi" id="MathJax-Span-1993" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-1994" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-1995" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-189">w^{l+1}</script> for
the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-190-Frame"><nobr><span class="math" id="MathJax-Span-1996" role="math" style="width: 3.679em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.581em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-1997"><span class="mo" id="MathJax-Span-1998" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-1999" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2000" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="mn" id="MathJax-Span-2001" style="font-family: MathJax_Main; padding-left: 0.248em;">1</span><span class="msubsup" id="MathJax-Span-2002"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-2003" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-2004"><span class="mrow" id="MathJax-Span-2005"><span class="mi" id="MathJax-Span-2006" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-2007" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-190">(l+1)^{\rm th}</script> layer.  This equation appears complicated, but
each element has a nice interpretation.  Suppose we know the error
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-191-Frame"><nobr><span class="math" id="MathJax-Span-2008" role="math" style="width: 1.767em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2009"><span class="msubsup" id="MathJax-Span-2010"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2011" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="texatom" id="MathJax-Span-2012"><span class="mrow" id="MathJax-Span-2013"><span class="mi" id="MathJax-Span-2014" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2015" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2016" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-191">\delta^{l+1}</script> at the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-192-Frame"><nobr><span class="math" id="MathJax-Span-2017" role="math" style="width: 2.846em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.797em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.267em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2018"><span class="mi" id="MathJax-Span-2019" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2020" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="msubsup" id="MathJax-Span-2021" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mn" id="MathJax-Span-2022" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-2023"><span class="mrow" id="MathJax-Span-2024"><span class="mi" id="MathJax-Span-2025" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-2026" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.148em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-192">l+1^{\rm th}</script> layer.  When we apply the
transpose weight matrix, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-193-Frame"><nobr><span class="math" id="MathJax-Span-2027" role="math" style="width: 3.336em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.238em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2028"><span class="mo" id="MathJax-Span-2029" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2030"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2031" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.738em;"><span class="texatom" id="MathJax-Span-2032"><span class="mrow" id="MathJax-Span-2033"><span class="mi" id="MathJax-Span-2034" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2035" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2036" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2037"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-2038" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="mi" id="MathJax-Span-2039" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-193">(w^{l+1})^T</script>, we can think intuitively of
this as moving the error <em>backward</em> through the network, giving
us some sort of measure of the error at the output of the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-194-Frame"><nobr><span class="math" id="MathJax-Span-2040" role="math" style="width: 1.081em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2041"><span class="msubsup" id="MathJax-Span-2042"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2043" style="font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.297em;"><span class="texatom" id="MathJax-Span-2044"><span class="mrow" id="MathJax-Span-2045"><span class="mi" id="MathJax-Span-2046" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-2047" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-194">l^{\rm th}</script>
layer.  We then take the Hadamard product <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-195-Frame"><nobr><span class="math" id="MathJax-Span-2048" role="math" style="width: 3.336em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.238em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2049"><span class="mo" id="MathJax-Span-2050" style="font-family: MathJax_Main;">⊙</span><span class="msup" id="MathJax-Span-2051"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2052" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.64em;"><span class="mo" id="MathJax-Span-2053" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2054" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2055"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2056" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2057" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2058" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-195">\odot \sigma'(z^l)</script>.  This
moves the error backward through the activation function in layer <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-196-Frame"><nobr><span class="math" id="MathJax-Span-2059" role="math" style="width: 0.297em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.297em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2060"><span class="mi" id="MathJax-Span-2061" style="font-family: MathJax_Math-italic;">l</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-196">l</script>,
giving us the error <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-197-Frame"><nobr><span class="math" id="MathJax-Span-2062" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2063"><span class="msubsup" id="MathJax-Span-2064"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2065" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2066" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-197">\delta^l</script> in the weighted input to layer <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-198-Frame"><nobr><span class="math" id="MathJax-Span-2067" role="math" style="width: 0.297em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.297em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2068"><span class="mi" id="MathJax-Span-2069" style="font-family: MathJax_Math-italic;">l</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-198">l</script>.</p><p>By combining <span id="margin_81638401609_reveal" class="equation_link">(BP2)</span><span id="margin_81638401609" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP2" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-199-Frame"><nobr><span class="math" id="MathJax-Span-2070" role="math" style="width: 12.159em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.914em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2071"><span class="mtable" id="MathJax-Span-2072" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2073"><span class="mrow" id="MathJax-Span-2074"><span class="msubsup" id="MathJax-Span-2075"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2076" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-2077" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2078" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-2079" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="mo" id="MathJax-Span-2080" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2081"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2082" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-2083"><span class="mrow" id="MathJax-Span-2084"><span class="mi" id="MathJax-Span-2085" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2086" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2087" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2088"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-2089" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-2090" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2091"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2092" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-2093"><span class="mrow" id="MathJax-Span-2094"><span class="mi" id="MathJax-Span-2095" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2096" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2097" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2098" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-2099" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-2100" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2101" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-2102" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2103" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2104"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2105" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-2106" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2107" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-199">\begin{eqnarray} 
  \delta^l = ((w^{l+1})^T \delta^{l+1}) \odot \sigma'(z^l) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_81638401609_reveal').click(function() {$('#margin_81638401609').toggle('slow', function() {});});</script> with <span id="margin_883043255664_reveal" class="equation_link">(BP1)</span><span id="margin_883043255664" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-200-Frame"><nobr><span class="math" id="MathJax-Span-2108" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2109"><span class="mtable" id="MathJax-Span-2110" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2111"><span class="mrow" id="MathJax-Span-2112"><span class="msubsup" id="MathJax-Span-2113"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2114" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2115" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2116" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2117" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-2118" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2119"><span class="mi" id="MathJax-Span-2120" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2121" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-2122"><span class="mi" id="MathJax-Span-2123" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2124"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2125" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2126" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-2127" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-2128"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2129" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-2130" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2131" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2132"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2133" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2134" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2135" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2136" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-200">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_883043255664_reveal').click(function() {$('#margin_883043255664').toggle('slow', function() {});});</script> we can compute the error
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-201-Frame"><nobr><span class="math" id="MathJax-Span-2137" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2138"><span class="msubsup" id="MathJax-Span-2139"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2140" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2141" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-201">\delta^l</script> for any layer in the network.  We start by
using <span id="margin_210323647822_reveal" class="equation_link">(BP1)</span><span id="margin_210323647822" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-202-Frame"><nobr><span class="math" id="MathJax-Span-2142" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2143"><span class="mtable" id="MathJax-Span-2144" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2145"><span class="mrow" id="MathJax-Span-2146"><span class="msubsup" id="MathJax-Span-2147"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2148" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2149" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2150" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2151" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-2152" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2153"><span class="mi" id="MathJax-Span-2154" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2155" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-2156"><span class="mi" id="MathJax-Span-2157" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2158"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2159" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2160" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-2161" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-2162"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2163" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-2164" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2165" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2166"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2167" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2168" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2169" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2170" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-202">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_210323647822_reveal').click(function() {$('#margin_210323647822').toggle('slow', function() {});});</script> to compute <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-203-Frame"><nobr><span class="math" id="MathJax-Span-2171" role="math" style="width: 1.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2172"><span class="msubsup" id="MathJax-Span-2173"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2174" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2175" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-203">\delta^L</script>, then apply
Equation <span id="margin_230179785268_reveal" class="equation_link">(BP2)</span><span id="margin_230179785268" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP2" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-204-Frame"><nobr><span class="math" id="MathJax-Span-2176" role="math" style="width: 12.159em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.914em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2177"><span class="mtable" id="MathJax-Span-2178" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2179"><span class="mrow" id="MathJax-Span-2180"><span class="msubsup" id="MathJax-Span-2181"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2182" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-2183" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2184" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-2185" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="mo" id="MathJax-Span-2186" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2187"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2188" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-2189"><span class="mrow" id="MathJax-Span-2190"><span class="mi" id="MathJax-Span-2191" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2192" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2193" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2194"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-2195" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-2196" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2197"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2198" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-2199"><span class="mrow" id="MathJax-Span-2200"><span class="mi" id="MathJax-Span-2201" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2202" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2203" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2204" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-2205" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-2206" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2207" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-2208" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2209" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2210"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2211" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-2212" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2213" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-204">\begin{eqnarray} 
  \delta^l = ((w^{l+1})^T \delta^{l+1}) \odot \sigma'(z^l) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_230179785268_reveal').click(function() {$('#margin_230179785268').toggle('slow', function() {});});</script> to compute <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-205-Frame"><nobr><span class="math" id="MathJax-Span-2214" role="math" style="width: 2.012em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.963em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2215"><span class="msubsup" id="MathJax-Span-2216"><span style="display: inline-block; position: relative; width: 1.963em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2217" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="texatom" id="MathJax-Span-2218"><span class="mrow" id="MathJax-Span-2219"><span class="mi" id="MathJax-Span-2220" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-2221" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-2222" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-205">\delta^{L-1}</script>, then
Equation <span id="margin_137922501086_reveal" class="equation_link">(BP2)</span><span id="margin_137922501086" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP2" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-206-Frame"><nobr><span class="math" id="MathJax-Span-2223" role="math" style="width: 12.159em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.914em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2224"><span class="mtable" id="MathJax-Span-2225" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2226"><span class="mrow" id="MathJax-Span-2227"><span class="msubsup" id="MathJax-Span-2228"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2229" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-2230" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2231" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-2232" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="mo" id="MathJax-Span-2233" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2234"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2235" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-2236"><span class="mrow" id="MathJax-Span-2237"><span class="mi" id="MathJax-Span-2238" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2239" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2240" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2241"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-2242" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-2243" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2244"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2245" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-2246"><span class="mrow" id="MathJax-Span-2247"><span class="mi" id="MathJax-Span-2248" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2249" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2250" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2251" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-2252" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-2253" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2254" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-2255" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2256" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2257"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2258" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-2259" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2260" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-206">\begin{eqnarray} 
  \delta^l = ((w^{l+1})^T \delta^{l+1}) \odot \sigma'(z^l) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_137922501086_reveal').click(function() {$('#margin_137922501086').toggle('slow', function() {});});</script> again to compute <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-207-Frame"><nobr><span class="math" id="MathJax-Span-2261" role="math" style="width: 2.012em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.963em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2262"><span class="msubsup" id="MathJax-Span-2263"><span style="display: inline-block; position: relative; width: 1.963em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2264" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="texatom" id="MathJax-Span-2265"><span class="mrow" id="MathJax-Span-2266"><span class="mi" id="MathJax-Span-2267" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-2268" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-2269" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-207">\delta^{L-2}</script>, and so on, all
the way back through the network.</p><p><strong>An equation for the rate of change of the cost with respect to
  any bias in the network:</strong> In particular:
<a class="displaced_anchor" name="eqtnBP3"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-208-Frame"><nobr><span class="math" id="MathJax-Span-2270" role="math" style="width: 100%; display: inline-block; min-width: 12.453em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 12.453em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-2271"><span class="mtable" id="MathJax-Span-2272" style="min-width: 12.699em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 12.453em;"><span style="display: inline-block; position: absolute; width: 4.169em; height: 0px; clip: rect(-1.713em 1000.002em 1.228em -999.998em); top: 0.002em; left: 50%; margin-left: -2.105em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 4.169em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2276"><span class="mrow" id="MathJax-Span-2277"><span class="mfrac" id="MathJax-Span-2278"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2279"><span class="mi" id="MathJax-Span-2280" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2281" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2282"><span class="mi" id="MathJax-Span-2283" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2284"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2285" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-2286" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2287" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.473em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-2288" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-2289" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2290" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2291" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2292" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2293" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 2.65em; height: 0px; clip: rect(-1.076em 1000.002em 0.199em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="mjx-eqn-BP3"><span class="mrow" id="MathJax-Span-2274"><span class="mtext" id="MathJax-Span-2275" style="font-family: MathJax_Main;">(BP3)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-208">\begin{eqnarray}  \frac{\partial C}{\partial b^l_j} =
  \delta^l_j.
\tag{BP3}\end{eqnarray}</script>
That is, the error <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-209-Frame"><nobr><span class="math" id="MathJax-Span-2294" role="math" style="width: 0.885em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2295"><span class="msubsup" id="MathJax-Span-2296"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2297" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2298" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2299" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-209">\delta^l_j</script> is <em>exactly equal</em> to the rate of
change <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-210-Frame"><nobr><span class="math" id="MathJax-Span-2300" role="math" style="width: 3.287em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.189em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2301"><span class="mi" id="MathJax-Span-2302" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2303" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-2304"><span class="mrow" id="MathJax-Span-2305"><span class="mo" id="MathJax-Span-2306" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-2307" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2308"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2309" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-2310" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2311" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-210">\partial C / \partial b^l_j</script>.  This is great news, since
<span id="margin_789251717216_reveal" class="equation_link">(BP1)</span><span id="margin_789251717216" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-211-Frame"><nobr><span class="math" id="MathJax-Span-2312" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2313"><span class="mtable" id="MathJax-Span-2314" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2315"><span class="mrow" id="MathJax-Span-2316"><span class="msubsup" id="MathJax-Span-2317"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2318" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2319" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2320" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2321" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-2322" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2323"><span class="mi" id="MathJax-Span-2324" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2325" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-2326"><span class="mi" id="MathJax-Span-2327" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2328"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2329" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2330" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-2331" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-2332"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2333" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-2334" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2335" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2336"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2337" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2338" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2339" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2340" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-211">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_789251717216_reveal').click(function() {$('#margin_789251717216').toggle('slow', function() {});});</script> and <span id="margin_354519809635_reveal" class="equation_link">(BP2)</span><span id="margin_354519809635" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP2" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-212-Frame"><nobr><span class="math" id="MathJax-Span-2341" role="math" style="width: 12.159em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.914em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2342"><span class="mtable" id="MathJax-Span-2343" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2344"><span class="mrow" id="MathJax-Span-2345"><span class="msubsup" id="MathJax-Span-2346"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2347" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-2348" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2349" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-2350" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="mo" id="MathJax-Span-2351" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2352"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2353" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-2354"><span class="mrow" id="MathJax-Span-2355"><span class="mi" id="MathJax-Span-2356" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2357" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2358" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2359"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-2360" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-2361" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2362"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2363" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-2364"><span class="mrow" id="MathJax-Span-2365"><span class="mi" id="MathJax-Span-2366" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2367" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2368" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2369" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-2370" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-2371" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2372" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-2373" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2374" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2375"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2376" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-2377" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2378" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-212">\begin{eqnarray} 
  \delta^l = ((w^{l+1})^T \delta^{l+1}) \odot \sigma'(z^l) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_354519809635_reveal').click(function() {$('#margin_354519809635').toggle('slow', function() {});});</script> have already told us how to compute
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-213-Frame"><nobr><span class="math" id="MathJax-Span-2379" role="math" style="width: 0.885em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2380"><span class="msubsup" id="MathJax-Span-2381"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2382" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2383" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2384" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-213">\delta^l_j</script>.  We can rewrite <span id="margin_958498612371_reveal" class="equation_link">(BP3)</span><span id="margin_958498612371" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP3" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-214-Frame"><nobr><span class="math" id="MathJax-Span-2385" role="math" style="width: 4.316em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.218em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2386"><span class="mtable" id="MathJax-Span-2387" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 3.924em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 3.924em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2388"><span class="mrow" id="MathJax-Span-2389"><span class="mfrac" id="MathJax-Span-2390"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2391"><span class="mi" id="MathJax-Span-2392" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2393" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2394"><span class="mi" id="MathJax-Span-2395" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2396"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2397" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-2398" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2399" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.473em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-2400" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-2401" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2402" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2403" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2404" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-214">\begin{eqnarray}  \frac{\partial C}{\partial b^l_j} =
  \delta^l_j \nonumber\end{eqnarray}</script></a></span><script>$('#margin_958498612371_reveal').click(function() {$('#margin_958498612371').toggle('slow', function() {});});</script> in shorthand as
<a class="displaced_anchor" name="eqtn31"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-215-Frame"><nobr><span class="math" id="MathJax-Span-2405" role="math" style="width: 100%; display: inline-block; min-width: 10.346em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 10.346em;"><span style="position: absolute; clip: rect(2.551em 1000.002em 4.953em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-2406"><span class="mtable" id="MathJax-Span-2407" style="min-width: 10.542em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 10.346em;"><span style="display: inline-block; position: absolute; width: 3.777em; height: 0px; clip: rect(-1.468em 1000.002em 0.934em -999.998em); top: 0.002em; left: 50%; margin-left: -1.909em;"><span style="position: absolute; clip: rect(2.551em 1000.002em 4.953em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 3.777em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 4.855em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2411"><span class="mrow" id="MathJax-Span-2412"><span class="mfrac" id="MathJax-Span-2413"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2414"><span class="mi" id="MathJax-Span-2415" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2416" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -3.331em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-2417"><span class="mi" id="MathJax-Span-2418" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2419" style="font-family: MathJax_Math-italic;">b</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.424em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-2420" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-2421" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-2422" style="font-family: MathJax_Main;">,</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.782em 1000.002em 0.493em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="mjx-eqn-31"><span class="mrow" id="MathJax-Span-2409"><span class="mtext" id="MathJax-Span-2410" style="font-family: MathJax_Main;">(31)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.252em; vertical-align: -0.847em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-215">\begin{eqnarray}
  \frac{\partial C}{\partial b} = \delta,
\tag{31}\end{eqnarray}</script>
where it is understood that <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-216-Frame"><nobr><span class="math" id="MathJax-Span-2423" role="math" style="width: 0.444em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.444em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2424"><span class="mi" id="MathJax-Span-2425" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-216">\delta</script> is being evaluated at the same
neuron as the bias <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-217-Frame"><nobr><span class="math" id="MathJax-Span-2426" role="math" style="width: 0.444em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.444em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2427"><span class="mi" id="MathJax-Span-2428" style="font-family: MathJax_Math-italic;">b</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-217">b</script>.</p><p><strong>An equation for the rate of change of the cost with respect to
  any weight in the network:</strong>  In particular:
<a class="displaced_anchor" name="eqtnBP4"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-218-Frame"><nobr><span class="math" id="MathJax-Span-2429" role="math" style="width: 100%; display: inline-block; min-width: 14.806em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 14.806em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-2430"><span class="mtable" id="MathJax-Span-2431" style="min-width: 15.1em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 14.806em;"><span style="display: inline-block; position: absolute; width: 6.571em; height: 0px; clip: rect(-1.713em 1000.002em 1.228em -999.998em); top: 0.002em; left: 50%; margin-left: -3.282em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 6.571em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2435"><span class="mrow" id="MathJax-Span-2436"><span class="mfrac" id="MathJax-Span-2437"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2438"><span class="mi" id="MathJax-Span-2439" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2440" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-2441"><span class="mi" id="MathJax-Span-2442" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2443"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2444" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-2445" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-2446"><span class="mrow" id="MathJax-Span-2447"><span class="mi" id="MathJax-Span-2448" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-2449" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-2450" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-2451" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2452" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-2453"><span class="mrow" id="MathJax-Span-2454"><span class="mi" id="MathJax-Span-2455" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2456" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-2457" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-2458" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2459"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2460" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2461" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2462" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2463" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 2.65em; height: 0px; clip: rect(-1.076em 1000.002em 0.199em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="mjx-eqn-BP4"><span class="mrow" id="MathJax-Span-2433"><span class="mtext" id="MathJax-Span-2434" style="font-family: MathJax_Main;">(BP4)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-218">\begin{eqnarray}
  
  \frac{\partial C}{\partial w^l_{jk}} = a^{l-1}_k \delta^l_j.
\tag{BP4}\end{eqnarray}</script>
This tells us how to compute the partial derivatives <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-219-Frame"><nobr><span class="math" id="MathJax-Span-2464" role="math" style="width: 3.924em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.826em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2465"><span class="mi" id="MathJax-Span-2466" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2467" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-2468"><span class="mrow" id="MathJax-Span-2469"><span class="mo" id="MathJax-Span-2470" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-2471" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2472"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2473" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-2474" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-2475"><span class="mrow" id="MathJax-Span-2476"><span class="mi" id="MathJax-Span-2477" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-2478" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-219">\partial C
/ \partial w^l_{jk}</script> in terms of the quantities <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-220-Frame"><nobr><span class="math" id="MathJax-Span-2479" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2480"><span class="msubsup" id="MathJax-Span-2481"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2482" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2483" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-220">\delta^l</script> and
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-221-Frame"><nobr><span class="math" id="MathJax-Span-2484" role="math" style="width: 1.767em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2485"><span class="msubsup" id="MathJax-Span-2486"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2487" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-2488"><span class="mrow" id="MathJax-Span-2489"><span class="mi" id="MathJax-Span-2490" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2491" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-2492" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-221">a^{l-1}</script>, which we already know how to compute.  The equation can be
rewritten in a less index-heavy notation as
<a class="displaced_anchor" name="eqtn32"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-222-Frame"><nobr><span class="math" id="MathJax-Span-2493" role="math" style="width: 100%; display: inline-block; min-width: 12.6em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 12.6em;"><span style="position: absolute; clip: rect(2.551em 1000.002em 4.953em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-2494"><span class="mtable" id="MathJax-Span-2495" style="min-width: 12.846em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 12.6em;"><span style="display: inline-block; position: absolute; width: 6.081em; height: 0px; clip: rect(-1.468em 1000.002em 0.934em -999.998em); top: 0.002em; left: 50%; margin-left: -3.037em;"><span style="position: absolute; clip: rect(2.551em 1000.002em 4.953em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 6.081em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 4.855em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2499"><span class="mrow" id="MathJax-Span-2500"><span class="mfrac" id="MathJax-Span-2501"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2502"><span class="mi" id="MathJax-Span-2503" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2504" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -3.331em; left: 50%; margin-left: -0.635em;"><span class="mrow" id="MathJax-Span-2505"><span class="mi" id="MathJax-Span-2506" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2507" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.424em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-2508" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-2509" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2510" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.542em;"><span class="texatom" id="MathJax-Span-2511"><span class="mrow" id="MathJax-Span-2512"><span class="mi" id="MathJax-Span-2513" style="font-size: 70.7%; font-family: MathJax_Main;">i</span><span class="mi" id="MathJax-Span-2514" style="font-size: 70.7%; font-family: MathJax_Main;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2515"><span style="display: inline-block; position: relative; width: 1.522em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2516" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.444em;"><span class="texatom" id="MathJax-Span-2517"><span class="mrow" id="MathJax-Span-2518"><span class="mi" id="MathJax-Span-2519" style="font-size: 70.7%; font-family: MathJax_Main;">o</span><span class="mi" id="MathJax-Span-2520" style="font-size: 70.7%; font-family: MathJax_Main;">u</span><span class="mi" id="MathJax-Span-2521" style="font-size: 70.7%; font-family: MathJax_Main;">t</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2522" style="font-family: MathJax_Main;">,</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.782em 1000.002em 0.493em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="mjx-eqn-32"><span class="mrow" id="MathJax-Span-2497"><span class="mtext" id="MathJax-Span-2498" style="font-family: MathJax_Main;">(32)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.252em; vertical-align: -0.847em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-222">\begin{eqnarray}  \frac{\partial
    C}{\partial w} = a_{\rm in} \delta_{\rm out},
\tag{32}\end{eqnarray}</script>
where it's understood that <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-223-Frame"><nobr><span class="math" id="MathJax-Span-2523" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.316em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2524"><span class="msubsup" id="MathJax-Span-2525"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2526" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.542em;"><span class="texatom" id="MathJax-Span-2527"><span class="mrow" id="MathJax-Span-2528"><span class="mi" id="MathJax-Span-2529" style="font-size: 70.7%; font-family: MathJax_Main;">i</span><span class="mi" id="MathJax-Span-2530" style="font-size: 70.7%; font-family: MathJax_Main;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.703em; vertical-align: -0.198em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-223">a_{\rm in}</script> is the activation of the
neuron input to the weight <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-224-Frame"><nobr><span class="math" id="MathJax-Span-2531" role="math" style="width: 0.787em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2532"><span class="mi" id="MathJax-Span-2533" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-224">w</script>, and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-225-Frame"><nobr><span class="math" id="MathJax-Span-2534" role="math" style="width: 1.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.522em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.316em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2535"><span class="msubsup" id="MathJax-Span-2536"><span style="display: inline-block; position: relative; width: 1.522em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2537" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.444em;"><span class="texatom" id="MathJax-Span-2538"><span class="mrow" id="MathJax-Span-2539"><span class="mi" id="MathJax-Span-2540" style="font-size: 70.7%; font-family: MathJax_Main;">o</span><span class="mi" id="MathJax-Span-2541" style="font-size: 70.7%; font-family: MathJax_Main;">u</span><span class="mi" id="MathJax-Span-2542" style="font-size: 70.7%; font-family: MathJax_Main;">t</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.198em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-225">\delta_{\rm out}</script> is the error of
the neuron output from the weight <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-226-Frame"><nobr><span class="math" id="MathJax-Span-2543" role="math" style="width: 0.787em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2544"><span class="mi" id="MathJax-Span-2545" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-226">w</script>.  Zooming in to look at just the
weight <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-227-Frame"><nobr><span class="math" id="MathJax-Span-2546" role="math" style="width: 0.787em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2547"><span class="mi" id="MathJax-Span-2548" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-227">w</script>, and the two neurons connected by that weight, we can
depict this as:
</p><center>
<img src="./Neural networks and deep learning 2_files/tikz20.png">
</center>
A nice consequence of Equation <span id="margin_733481406500_reveal" class="equation_link">(32)</span><span id="margin_733481406500" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn32" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-228-Frame"><nobr><span class="math" id="MathJax-Span-2549" role="math" style="width: 6.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.081em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.551em 1000.002em 4.953em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2550"><span class="mtable" id="MathJax-Span-2551" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 5.787em; height: 0px;"><span style="position: absolute; clip: rect(2.551em 1000.002em 4.953em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 5.787em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 4.855em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2552"><span class="mrow" id="MathJax-Span-2553"><span class="mfrac" id="MathJax-Span-2554"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2555"><span class="mi" id="MathJax-Span-2556" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2557" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -3.331em; left: 50%; margin-left: -0.635em;"><span class="mrow" id="MathJax-Span-2558"><span class="mi" id="MathJax-Span-2559" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2560" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.424em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-2561" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-2562" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2563" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.542em;"><span class="texatom" id="MathJax-Span-2564"><span class="mrow" id="MathJax-Span-2565"><span class="mi" id="MathJax-Span-2566" style="font-size: 70.7%; font-family: MathJax_Main;">i</span><span class="mi" id="MathJax-Span-2567" style="font-size: 70.7%; font-family: MathJax_Main;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2568"><span style="display: inline-block; position: relative; width: 1.522em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2569" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.444em;"><span class="texatom" id="MathJax-Span-2570"><span class="mrow" id="MathJax-Span-2571"><span class="mi" id="MathJax-Span-2572" style="font-size: 70.7%; font-family: MathJax_Main;">o</span><span class="mi" id="MathJax-Span-2573" style="font-size: 70.7%; font-family: MathJax_Main;">u</span><span class="mi" id="MathJax-Span-2574" style="font-size: 70.7%; font-family: MathJax_Main;">t</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.252em; vertical-align: -0.847em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-228">\begin{eqnarray}  \frac{\partial
    C}{\partial w} = a_{\rm in} \delta_{\rm out} \nonumber\end{eqnarray}</script></a></span><script>$('#margin_733481406500_reveal').click(function() {$('#margin_733481406500').toggle('slow', function() {});});</script> is
that when the activation <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-229-Frame"><nobr><span class="math" id="MathJax-Span-2575" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.316em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2576"><span class="msubsup" id="MathJax-Span-2577"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2578" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.542em;"><span class="texatom" id="MathJax-Span-2579"><span class="mrow" id="MathJax-Span-2580"><span class="mi" id="MathJax-Span-2581" style="font-size: 70.7%; font-family: MathJax_Main;">i</span><span class="mi" id="MathJax-Span-2582" style="font-size: 70.7%; font-family: MathJax_Main;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.703em; vertical-align: -0.198em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-229">a_{\rm in}</script> is small, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-230-Frame"><nobr><span class="math" id="MathJax-Span-2583" role="math" style="width: 3.189em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.091em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.316em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2584"><span class="msubsup" id="MathJax-Span-2585"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2586" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.542em;"><span class="texatom" id="MathJax-Span-2587"><span class="mrow" id="MathJax-Span-2588"><span class="mi" id="MathJax-Span-2589" style="font-size: 70.7%; font-family: MathJax_Main;">i</span><span class="mi" id="MathJax-Span-2590" style="font-size: 70.7%; font-family: MathJax_Main;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2591" style="font-family: MathJax_Main; padding-left: 0.297em;">≈</span><span class="mn" id="MathJax-Span-2592" style="font-family: MathJax_Main; padding-left: 0.297em;">0</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.198em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-230">a_{\rm in} \approx
0</script>, the gradient term <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-231-Frame"><nobr><span class="math" id="MathJax-Span-2593" role="math" style="width: 3.189em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.091em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2594"><span class="mi" id="MathJax-Span-2595" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2596" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-2597"><span class="mrow" id="MathJax-Span-2598"><span class="mo" id="MathJax-Span-2599" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-2600" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2601" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-231">\partial C / \partial w</script> will also tend to be
small.  In this case, we'll say the weight <em>learns slowly</em>,
meaning that it's not changing much during gradient descent.  In other
words, one consequence of <span id="margin_788355975816_reveal" class="equation_link">(BP4)</span><span id="margin_788355975816" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP4" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-232-Frame"><nobr><span class="math" id="MathJax-Span-2602" role="math" style="width: 6.718em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.571em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2603"><span class="mtable" id="MathJax-Span-2604" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 6.277em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 6.277em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2605"><span class="mrow" id="MathJax-Span-2606"><span class="mfrac" id="MathJax-Span-2607"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2608"><span class="mi" id="MathJax-Span-2609" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2610" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-2611"><span class="mi" id="MathJax-Span-2612" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2613"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2614" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-2615" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-2616"><span class="mrow" id="MathJax-Span-2617"><span class="mi" id="MathJax-Span-2618" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-2619" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-2620" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-2621" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2622" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-2623"><span class="mrow" id="MathJax-Span-2624"><span class="mi" id="MathJax-Span-2625" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2626" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-2627" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-2628" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2629"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2630" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2631" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2632" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-232">\begin{eqnarray}  
  \frac{\partial C}{\partial w^l_{jk}} = a^{l-1}_k \delta^l_j \nonumber\end{eqnarray}</script></a></span><script>$('#margin_788355975816_reveal').click(function() {$('#margin_788355975816').toggle('slow', function() {});});</script> is that weights output from
low-activation neurons learn slowly.<p></p><p>There are other insights along these lines which can be obtained
from <span id="margin_332316549401_reveal" class="equation_link">(BP1)</span><span id="margin_332316549401" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-233-Frame"><nobr><span class="math" id="MathJax-Span-2633" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2634"><span class="mtable" id="MathJax-Span-2635" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2636"><span class="mrow" id="MathJax-Span-2637"><span class="msubsup" id="MathJax-Span-2638"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2639" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2640" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2641" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2642" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-2643" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2644"><span class="mi" id="MathJax-Span-2645" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2646" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-2647"><span class="mi" id="MathJax-Span-2648" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2649"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2650" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2651" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-2652" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-2653"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2654" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-2655" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2656" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2657"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2658" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2659" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2660" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2661" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-233">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_332316549401_reveal').click(function() {$('#margin_332316549401').toggle('slow', function() {});});</script>-<span id="margin_545404144913_reveal" class="equation_link">(BP4)</span><span id="margin_545404144913" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP4" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-234-Frame"><nobr><span class="math" id="MathJax-Span-2662" role="math" style="width: 6.718em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.571em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2663"><span class="mtable" id="MathJax-Span-2664" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 6.277em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 6.277em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2665"><span class="mrow" id="MathJax-Span-2666"><span class="mfrac" id="MathJax-Span-2667"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2668"><span class="mi" id="MathJax-Span-2669" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2670" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-2671"><span class="mi" id="MathJax-Span-2672" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2673"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2674" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-2675" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-2676"><span class="mrow" id="MathJax-Span-2677"><span class="mi" id="MathJax-Span-2678" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-2679" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-2680" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-2681" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2682" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-2683"><span class="mrow" id="MathJax-Span-2684"><span class="mi" id="MathJax-Span-2685" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2686" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-2687" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-2688" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2689"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2690" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2691" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2692" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-234">\begin{eqnarray}  
  \frac{\partial C}{\partial w^l_{jk}} = a^{l-1}_k \delta^l_j \nonumber\end{eqnarray}</script></a></span><script>$('#margin_545404144913_reveal').click(function() {$('#margin_545404144913').toggle('slow', function() {});});</script>.  Let's start by looking at the output
layer.  Consider the term <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-235-Frame"><nobr><span class="math" id="MathJax-Span-2693" role="math" style="width: 2.797em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.748em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2694"><span class="msup" id="MathJax-Span-2695"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2696" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.64em;"><span class="mo" id="MathJax-Span-2697" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2698" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2699"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2700" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2701" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2702" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2703" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-235">\sigma'(z^L_j)</script> in <span id="margin_835799154353_reveal" class="equation_link">(BP1)</span><span id="margin_835799154353" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-236-Frame"><nobr><span class="math" id="MathJax-Span-2704" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2705"><span class="mtable" id="MathJax-Span-2706" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2707"><span class="mrow" id="MathJax-Span-2708"><span class="msubsup" id="MathJax-Span-2709"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2710" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2711" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2712" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2713" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-2714" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2715"><span class="mi" id="MathJax-Span-2716" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2717" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-2718"><span class="mi" id="MathJax-Span-2719" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2720"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2721" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2722" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-2723" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-2724"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2725" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-2726" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2727" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2728"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2729" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2730" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2731" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2732" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-236">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_835799154353_reveal').click(function() {$('#margin_835799154353').toggle('slow', function() {});});</script>.  Recall
from the <a href="http://neuralnetworksanddeeplearning.com/chap1.html#sigmoid_graph">graph of the sigmoid
  function in the last chapter</a> that the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-237-Frame"><nobr><span class="math" id="MathJax-Span-2733" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2734"><span class="mi" id="MathJax-Span-2735" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-237">\sigma</script> function becomes
very flat when <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-238-Frame"><nobr><span class="math" id="MathJax-Span-2736" role="math" style="width: 2.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2737"><span class="mi" id="MathJax-Span-2738" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-2739" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2740"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2741" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2742" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2743" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2744" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-238">\sigma(z^L_j)</script> is approximately <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-239-Frame"><nobr><span class="math" id="MathJax-Span-2745" role="math" style="width: 0.493em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2746"><span class="mn" id="MathJax-Span-2747" style="font-family: MathJax_Main;">0</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-239">0</script> or <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-240-Frame"><nobr><span class="math" id="MathJax-Span-2748" role="math" style="width: 0.493em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.493em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2749"><span class="mn" id="MathJax-Span-2750" style="font-family: MathJax_Main;">1</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-240">1</script>.  When this
occurs we will have <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-241-Frame"><nobr><span class="math" id="MathJax-Span-2751" role="math" style="width: 4.708em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.61em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2752"><span class="msup" id="MathJax-Span-2753"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2754" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.64em;"><span class="mo" id="MathJax-Span-2755" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2756" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2757"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2758" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2759" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2760" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2761" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-2762" style="font-family: MathJax_Main; padding-left: 0.297em;">≈</span><span class="mn" id="MathJax-Span-2763" style="font-family: MathJax_Main; padding-left: 0.297em;">0</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-241">\sigma'(z^L_j) \approx 0</script>.  And so the lesson is
that a weight in the final layer will learn slowly if the output
neuron is either low activation (<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-242-Frame"><nobr><span class="math" id="MathJax-Span-2764" role="math" style="width: 1.62em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.571em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2765"><span class="mo" id="MathJax-Span-2766" style="font-family: MathJax_Main;">≈</span><span class="mn" id="MathJax-Span-2767" style="font-family: MathJax_Main; padding-left: 0.297em;">0</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-242">\approx 0</script>) or high activation
(<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-243-Frame"><nobr><span class="math" id="MathJax-Span-2768" role="math" style="width: 1.62em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.571em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2769"><span class="mo" id="MathJax-Span-2770" style="font-family: MathJax_Main;">≈</span><span class="mn" id="MathJax-Span-2771" style="font-family: MathJax_Main; padding-left: 0.297em;">1</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-243">\approx 1</script>).  In this case it's common to say the output neuron has
<em>saturated</em> and, as a result, the weight has stopped learning (or
is learning slowly).  Similar remarks hold also for the biases of
output neuron.</p><p>We can obtain similar insights for earlier layers.  In particular,
note the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-244-Frame"><nobr><span class="math" id="MathJax-Span-2772" role="math" style="width: 2.502em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.453em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2773"><span class="msup" id="MathJax-Span-2774"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2775" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.64em;"><span class="mo" id="MathJax-Span-2776" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2777" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2778"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2779" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2780" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2781" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-244">\sigma'(z^l)</script> term in <span id="margin_324242227780_reveal" class="equation_link">(BP2)</span><span id="margin_324242227780" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP2" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-245-Frame"><nobr><span class="math" id="MathJax-Span-2782" role="math" style="width: 12.159em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.914em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2783"><span class="mtable" id="MathJax-Span-2784" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2785"><span class="mrow" id="MathJax-Span-2786"><span class="msubsup" id="MathJax-Span-2787"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2788" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-2789" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2790" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-2791" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="mo" id="MathJax-Span-2792" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2793"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2794" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-2795"><span class="mrow" id="MathJax-Span-2796"><span class="mi" id="MathJax-Span-2797" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2798" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2799" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2800"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-2801" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-2802" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2803"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2804" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-2805"><span class="mrow" id="MathJax-Span-2806"><span class="mi" id="MathJax-Span-2807" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2808" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2809" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2810" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-2811" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-2812" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2813" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-2814" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2815" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2816"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2817" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-2818" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2819" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-245">\begin{eqnarray} 
  \delta^l = ((w^{l+1})^T \delta^{l+1}) \odot \sigma'(z^l) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_324242227780_reveal').click(function() {$('#margin_324242227780').toggle('slow', function() {});});</script>.  This means that
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-246-Frame"><nobr><span class="math" id="MathJax-Span-2820" role="math" style="width: 0.885em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2821"><span class="msubsup" id="MathJax-Span-2822"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2823" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2824" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2825" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-246">\delta^l_j</script> is likely to get small if the neuron is near saturation.
And this, in turn, means that any weights input to a saturated neuron
will learn slowly*<span class="marginnote">
*This reasoning won't hold if <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-247-Frame"><nobr><span class="math" id="MathJax-Span-2826" role="math" style="width: 4.252em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.171em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.7em 1000.004em 4.252em -999.996em); top: -3.999em; left: 0.004em;"><span class="mrow" id="MathJax-Span-2827"><span class="msubsup" id="MathJax-Span-2828"><span style="display: inline-block; position: relative; width: 2.455em; height: 0px;"><span style="position: absolute; clip: rect(2.945em 1000.004em 4.252em -999.996em); top: -3.999em; left: 0.004em;"><span class="texatom" id="MathJax-Span-2829"><span class="mrow" id="MathJax-Span-2830"><span class="msubsup" id="MathJax-Span-2831"><span style="display: inline-block; position: relative; width: 1.883em; height: 0px;"><span style="position: absolute; clip: rect(3.354em 1000.004em 4.252em -999.996em); top: -3.999em; left: 0.004em;"><span class="mi" id="MathJax-Span-2832" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.326em; left: 0.739em;"><span class="texatom" id="MathJax-Span-2833"><span class="mrow" id="MathJax-Span-2834"><span class="mi" id="MathJax-Span-2835" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2836" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2837" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.571em; left: 1.883em;"><span class="mi" id="MathJax-Span-2838" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.086em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2839"><span style="display: inline-block; position: relative; width: 1.72em; height: 0px;"><span style="position: absolute; clip: rect(3.027em 1000.004em 4.252em -999.996em); top: -3.999em; left: 0.004em;"><span class="mi" id="MathJax-Span-2840" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.326em; left: 0.494em;"><span class="texatom" id="MathJax-Span-2841"><span class="mrow" id="MathJax-Span-2842"><span class="mi" id="MathJax-Span-2843" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2844" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2845" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.254em; vertical-align: -0.079em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-247">{w^{l+1}}^T
  \delta^{l+1}</script> has large enough entries to compensate for the
  smallness of <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-248-Frame"><nobr><span class="math" id="MathJax-Span-2846" role="math" style="width: 2.618em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.537em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.945em 1000.004em 4.661em -999.996em); top: -3.999em; left: 0.004em;"><span class="mrow" id="MathJax-Span-2847"><span class="msup" id="MathJax-Span-2848"><span style="display: inline-block; position: relative; width: 0.903em; height: 0px;"><span style="position: absolute; clip: rect(3.354em 1000.004em 4.252em -999.996em); top: -3.999em; left: 0.004em;"><span class="mi" id="MathJax-Span-2849" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.326em; left: 0.658em;"><span class="mo" id="MathJax-Span-2850" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-2851" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2852"><span style="display: inline-block; position: relative; width: 0.821em; height: 0px;"><span style="position: absolute; clip: rect(3.354em 1000.004em 4.252em -999.996em); top: -3.999em; left: 0.004em;"><span class="mi" id="MathJax-Span-2853" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.272em 1000.004em 4.252em -999.996em); top: -4.326em; left: 0.494em;"><span class="mi" id="MathJax-Span-2854" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.272em 1000.004em 4.416em -999.996em); top: -3.672em; left: 0.494em;"><span class="mi" id="MathJax-Span-2855" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-2856" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.504em; vertical-align: -0.496em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-248">\sigma'(z^l_j)</script>.  But I'm speaking of the general
  tendency.</span>.</p><p>Summing up, we've learnt that a weight will learn slowly if either the
input neuron is low-activation, or if the output neuron has saturated,
i.e., is either high- or low-activation.  </p><p>None of these observations is too greatly surprising.  Still, they
help improve our mental model of what's going on as a neural network
learns.  Furthermore, we can turn this type of reasoning around.  The
four fundamental equations turn out to hold for any activation
function, not just the standard sigmoid function (that's because, as
we'll see in a moment, the proofs don't use any special properties of
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-249-Frame"><nobr><span class="math" id="MathJax-Span-2857" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2858"><span class="mi" id="MathJax-Span-2859" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-249">\sigma</script>).  And so we can use these equations to <em>design</em>
activation functions which have particular desired learning
properties.  As an example to give you the idea, suppose we were to
choose a (non-sigmoid) activation function <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-250-Frame"><nobr><span class="math" id="MathJax-Span-2860" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2861"><span class="mi" id="MathJax-Span-2862" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-250">\sigma</script> so that <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-251-Frame"><nobr><span class="math" id="MathJax-Span-2863" role="math" style="width: 0.934em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2864"><span class="msup" id="MathJax-Span-2865"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2866" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.64em;"><span class="mo" id="MathJax-Span-2867" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.903em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-251">\sigma'</script>
is always positive, and never gets close to zero.  That would prevent
the slow-down of learning that occurs when ordinary sigmoid neurons
saturate.  Later in the book we'll see examples where this kind of
modification is made to the activation function.  Keeping the four
equations <span id="margin_27899938618_reveal" class="equation_link">(BP1)</span><span id="margin_27899938618" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-252-Frame"><nobr><span class="math" id="MathJax-Span-2868" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2869"><span class="mtable" id="MathJax-Span-2870" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2871"><span class="mrow" id="MathJax-Span-2872"><span class="msubsup" id="MathJax-Span-2873"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2874" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2875" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2876" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2877" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-2878" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2879"><span class="mi" id="MathJax-Span-2880" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2881" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-2882"><span class="mi" id="MathJax-Span-2883" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2884"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2885" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2886" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-2887" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-2888"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2889" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-2890" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2891" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2892"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2893" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2894" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2895" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2896" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-252">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_27899938618_reveal').click(function() {$('#margin_27899938618').toggle('slow', function() {});});</script>-<span id="margin_438232791529_reveal" class="equation_link">(BP4)</span><span id="margin_438232791529" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP4" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-253-Frame"><nobr><span class="math" id="MathJax-Span-2897" role="math" style="width: 6.718em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.571em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2898"><span class="mtable" id="MathJax-Span-2899" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 6.277em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 6.277em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2900"><span class="mrow" id="MathJax-Span-2901"><span class="mfrac" id="MathJax-Span-2902"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2903"><span class="mi" id="MathJax-Span-2904" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2905" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-2906"><span class="mi" id="MathJax-Span-2907" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2908"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2909" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-2910" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-2911"><span class="mrow" id="MathJax-Span-2912"><span class="mi" id="MathJax-Span-2913" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-2914" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-2915" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-2916" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2917" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-2918"><span class="mrow" id="MathJax-Span-2919"><span class="mi" id="MathJax-Span-2920" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2921" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-2922" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-2923" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2924"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2925" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2926" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2927" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-253">\begin{eqnarray}  
  \frac{\partial C}{\partial w^l_{jk}} = a^{l-1}_k \delta^l_j \nonumber\end{eqnarray}</script></a></span><script>$('#margin_438232791529_reveal').click(function() {$('#margin_438232791529').toggle('slow', function() {});});</script> in mind can help explain why such
modifications are tried, and what impact they can have.</p><p><a id="backpropsummary"></a></p><p></p><center>
<img src="./Neural networks and deep learning 2_files/tikz21.png">
</center><p></p><p><a id="alternative_backprop"></a></p><p></p><h4><a name="problem_756761"></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#problem_756761">Problem</a></h4><ul>
<li><strong>Alternate presentation of the equations of backpropagation:</strong>
  I've stated the equations of backpropagation (notably <span id="margin_675916102520_reveal" class="equation_link">(BP1)</span><span id="margin_675916102520" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-254-Frame"><nobr><span class="math" id="MathJax-Span-2928" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2929"><span class="mtable" id="MathJax-Span-2930" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2931"><span class="mrow" id="MathJax-Span-2932"><span class="msubsup" id="MathJax-Span-2933"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2934" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-2935" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2936" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2937" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-2938" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-2939"><span class="mi" id="MathJax-Span-2940" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-2941" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-2942"><span class="mi" id="MathJax-Span-2943" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-2944"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2945" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2946" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-2947" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-2948"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2949" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-2950" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2951" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2952"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2953" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-2954" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-2955" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2956" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-254">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_675916102520_reveal').click(function() {$('#margin_675916102520').toggle('slow', function() {});});</script>
  and <span id="margin_367274591015_reveal" class="equation_link">(BP2)</span><span id="margin_367274591015" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP2" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-255-Frame"><nobr><span class="math" id="MathJax-Span-2957" role="math" style="width: 12.159em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.914em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2958"><span class="mtable" id="MathJax-Span-2959" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2960"><span class="mrow" id="MathJax-Span-2961"><span class="msubsup" id="MathJax-Span-2962"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2963" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-2964" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2965" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-2966" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="mo" id="MathJax-Span-2967" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2968"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2969" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-2970"><span class="mrow" id="MathJax-Span-2971"><span class="mi" id="MathJax-Span-2972" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2973" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2974" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2975"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-2976" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-2977" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-2978"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2979" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-2980"><span class="mrow" id="MathJax-Span-2981"><span class="mi" id="MathJax-Span-2982" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-2983" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2984" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2985" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-2986" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-2987" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2988" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-2989" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2990" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-2991"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-2992" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-2993" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-2994" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-255">\begin{eqnarray} 
  \delta^l = ((w^{l+1})^T \delta^{l+1}) \odot \sigma'(z^l) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_367274591015_reveal').click(function() {$('#margin_367274591015').toggle('slow', function() {});});</script>) using the Hadamard product.  This presentation may
  be disconcerting if you're unused to the Hadamard product.  There's
  an alternative approach, based on conventional matrix
  multiplication, which some readers may find enlightening.  (1) Show
  that <span id="margin_449507266976_reveal" class="equation_link">(BP1)</span><span id="margin_449507266976" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-256-Frame"><nobr><span class="math" id="MathJax-Span-2995" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-2996"><span class="mtable" id="MathJax-Span-2997" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-2998"><span class="mrow" id="MathJax-Span-2999"><span class="msubsup" id="MathJax-Span-3000"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3001" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3002" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3003" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3004" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-3005" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3006"><span class="mi" id="MathJax-Span-3007" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3008" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-3009"><span class="mi" id="MathJax-Span-3010" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3011"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3012" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3013" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-3014" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-3015"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3016" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-3017" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3018" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3019"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3020" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3021" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3022" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3023" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-256">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_449507266976_reveal').click(function() {$('#margin_449507266976').toggle('slow', function() {});});</script> may be rewritten as
  <a class="displaced_anchor" name="eqtn33"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-257-Frame"><nobr><span class="math" id="MathJax-Span-3024" role="math" style="width: 100%; display: inline-block; min-width: 14.071em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 14.071em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-3025"><span class="mtable" id="MathJax-Span-3026" style="min-width: 14.365em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 14.071em;"><span style="display: inline-block; position: absolute; width: 7.6em; height: 0px; clip: rect(-0.978em 1000.002em 0.493em -999.998em); top: 0.002em; left: 50%; margin-left: -3.772em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.6em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.968em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3030"><span class="mrow" id="MathJax-Span-3031"><span class="msubsup" id="MathJax-Span-3032"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3033" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-3034" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3035" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msup" id="MathJax-Span-3036" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3037" style="font-family: MathJax_Main;">Σ</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="mo" id="MathJax-Span-3038" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3039" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3040"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3041" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-3042" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3043" style="font-family: MathJax_Main;">)</span><span class="msubsup" id="MathJax-Span-3044"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.218em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3045" style="font-family: MathJax_Main;">∇</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.836em;"><span class="mi" id="MathJax-Span-3046" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mi" id="MathJax-Span-3047" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-3048" style="font-family: MathJax_Main;">,</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.831em 1000.002em 0.493em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -3.968em; right: 0.002em;"><span class="mtd" id="mjx-eqn-33"><span class="mrow" id="MathJax-Span-3028"><span class="mtext" id="MathJax-Span-3029" style="font-family: MathJax_Main;">(33)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-257">\begin{eqnarray}
    \delta^L = \Sigma'(z^L) \nabla_a C,
  \tag{33}\end{eqnarray}</script>
  where <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-258-Frame"><nobr><span class="math" id="MathJax-Span-3049" role="math" style="width: 2.895em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.846em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3050"><span class="msup" id="MathJax-Span-3051"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3052" style="font-family: MathJax_Main;">Σ</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.738em;"><span class="mo" id="MathJax-Span-3053" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3054" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3055"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3056" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3057" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3058" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-258">\Sigma'(z^L)</script> is a square matrix whose diagonal entries are
  the values <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-259-Frame"><nobr><span class="math" id="MathJax-Span-3059" role="math" style="width: 2.797em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.748em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3060"><span class="msup" id="MathJax-Span-3061"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3062" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.64em;"><span class="mo" id="MathJax-Span-3063" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3064" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3065"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3066" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3067" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3068" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3069" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-259">\sigma'(z^L_j)</script>, and whose off-diagonal entries are
  zero.  Note that this matrix acts on <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-260-Frame"><nobr><span class="math" id="MathJax-Span-3070" role="math" style="width: 2.11em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.061em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.316em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3071"><span class="msubsup" id="MathJax-Span-3072"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.218em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3073" style="font-family: MathJax_Main;">∇</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.836em;"><span class="mi" id="MathJax-Span-3074" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mi" id="MathJax-Span-3075" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.198em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-260">\nabla_a C</script> by conventional
  matrix multiplication.  (2) Show that <span id="margin_841445587482_reveal" class="equation_link">(BP2)</span><span id="margin_841445587482" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP2" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-261-Frame"><nobr><span class="math" id="MathJax-Span-3076" role="math" style="width: 12.159em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.914em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3077"><span class="mtable" id="MathJax-Span-3078" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3079"><span class="mrow" id="MathJax-Span-3080"><span class="msubsup" id="MathJax-Span-3081"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3082" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-3083" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3084" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-3085" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="mo" id="MathJax-Span-3086" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3087"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3088" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-3089"><span class="mrow" id="MathJax-Span-3090"><span class="mi" id="MathJax-Span-3091" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3092" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3093" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3094"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-3095" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-3096" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3097"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3098" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-3099"><span class="mrow" id="MathJax-Span-3100"><span class="mi" id="MathJax-Span-3101" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3102" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3103" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3104" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3105" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-3106" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3107" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-3108" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3109" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3110"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3111" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-3112" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3113" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-261">\begin{eqnarray} 
  \delta^l = ((w^{l+1})^T \delta^{l+1}) \odot \sigma'(z^l) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_841445587482_reveal').click(function() {$('#margin_841445587482').toggle('slow', function() {});});</script> may be rewritten
  as
  <a class="displaced_anchor" name="eqtn34"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-262-Frame"><nobr><span class="math" id="MathJax-Span-3114" role="math" style="width: 100%; display: inline-block; min-width: 16.375em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 16.375em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-3115"><span class="mtable" id="MathJax-Span-3116" style="min-width: 16.718em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 16.375em;"><span style="display: inline-block; position: absolute; width: 9.953em; height: 0px; clip: rect(-0.978em 1000.002em 0.493em -999.998em); top: 0.002em; left: 50%; margin-left: -4.998em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 9.953em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3120"><span class="mrow" id="MathJax-Span-3121"><span class="msubsup" id="MathJax-Span-3122"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3123" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-3124" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3125" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msup" id="MathJax-Span-3126" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3127" style="font-family: MathJax_Main;">Σ</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="mo" id="MathJax-Span-3128" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3129" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3130"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3131" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-3132" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3133" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3134" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3135"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3136" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-3137"><span class="mrow" id="MathJax-Span-3138"><span class="mi" id="MathJax-Span-3139" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3140" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3141" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3142"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-3143" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-3144" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3145"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3146" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-3147"><span class="mrow" id="MathJax-Span-3148"><span class="mi" id="MathJax-Span-3149" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3150" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3151" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3152" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.831em 1000.002em 0.493em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="mjx-eqn-34"><span class="mrow" id="MathJax-Span-3118"><span class="mtext" id="MathJax-Span-3119" style="font-family: MathJax_Main;">(34)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-262">\begin{eqnarray}
    \delta^l = \Sigma'(z^l) (w^{l+1})^T \delta^{l+1}.
  \tag{34}\end{eqnarray}</script>
  (3) By combining observations (1) and (2) show that
  <a class="displaced_anchor" name="eqtn35"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-263-Frame"><nobr><span class="math" id="MathJax-Span-3153" role="math" style="width: 100%; display: inline-block; min-width: 26.963em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 26.963em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-3154"><span class="mtable" id="MathJax-Span-3155" style="min-width: 27.502em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 26.963em;"><span style="display: inline-block; position: absolute; width: 20.738em; height: 0px; clip: rect(-0.978em 1000.002em 0.493em -999.998em); top: 0.002em; left: 50%; margin-left: -10.341em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 20.738em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3159"><span class="mrow" id="MathJax-Span-3160"><span class="msubsup" id="MathJax-Span-3161"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3162" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-3163" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3164" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msup" id="MathJax-Span-3165" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3166" style="font-family: MathJax_Main;">Σ</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="mo" id="MathJax-Span-3167" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3168" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3169"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3170" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-3171" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3172" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3173" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3174"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3175" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-3176"><span class="mrow" id="MathJax-Span-3177"><span class="mi" id="MathJax-Span-3178" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3179" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3180" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3181"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-3182" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-3183" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3184" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span><span class="msup" id="MathJax-Span-3185" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3186" style="font-family: MathJax_Main;">Σ</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="mo" id="MathJax-Span-3187" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3188" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3189"><span style="display: inline-block; position: relative; width: 1.963em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3190" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-3191"><span class="mrow" id="MathJax-Span-3192"><span class="mi" id="MathJax-Span-3193" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-3194" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-3195" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3196" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3197" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3198"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3199" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="mi" id="MathJax-Span-3200" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3201"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-3202" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-3203" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msup" id="MathJax-Span-3204"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3205" style="font-family: MathJax_Main;">Σ</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="mo" id="MathJax-Span-3206" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3207" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3208"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3209" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-3210" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3211" style="font-family: MathJax_Main;">)</span><span class="msubsup" id="MathJax-Span-3212"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.218em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3213" style="font-family: MathJax_Main;">∇</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.836em;"><span class="mi" id="MathJax-Span-3214" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mi" id="MathJax-Span-3215" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.831em 1000.002em 0.493em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="mjx-eqn-35"><span class="mrow" id="MathJax-Span-3157"><span class="mtext" id="MathJax-Span-3158" style="font-family: MathJax_Main;">(35)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-263">\begin{eqnarray}
    \delta^l = \Sigma'(z^l) (w^{l+1})^T \ldots \Sigma'(z^{L-1}) (w^L)^T 
    \Sigma'(z^L) \nabla_a C
  \tag{35}\end{eqnarray}</script>
  For readers comfortable with matrix multiplication this equation may
  be easier to understand than <span id="margin_859874175726_reveal" class="equation_link">(BP1)</span><span id="margin_859874175726" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-264-Frame"><nobr><span class="math" id="MathJax-Span-3216" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3217"><span class="mtable" id="MathJax-Span-3218" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3219"><span class="mrow" id="MathJax-Span-3220"><span class="msubsup" id="MathJax-Span-3221"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3222" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3223" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3224" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3225" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-3226" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3227"><span class="mi" id="MathJax-Span-3228" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3229" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-3230"><span class="mi" id="MathJax-Span-3231" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3232"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3233" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3234" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-3235" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-3236"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3237" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-3238" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3239" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3240"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3241" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3242" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3243" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3244" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-264">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_859874175726_reveal').click(function() {$('#margin_859874175726').toggle('slow', function() {});});</script> and <span id="margin_553371831040_reveal" class="equation_link">(BP2)</span><span id="margin_553371831040" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP2" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-265-Frame"><nobr><span class="math" id="MathJax-Span-3245" role="math" style="width: 12.159em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.914em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3246"><span class="mtable" id="MathJax-Span-3247" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3248"><span class="mrow" id="MathJax-Span-3249"><span class="msubsup" id="MathJax-Span-3250"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3251" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-3252" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3253" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-3254" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="mo" id="MathJax-Span-3255" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3256"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3257" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-3258"><span class="mrow" id="MathJax-Span-3259"><span class="mi" id="MathJax-Span-3260" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3261" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3262" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3263"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-3264" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-3265" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3266"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3267" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-3268"><span class="mrow" id="MathJax-Span-3269"><span class="mi" id="MathJax-Span-3270" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3271" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3272" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3273" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3274" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-3275" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3276" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-3277" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3278" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3279"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3280" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-3281" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3282" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-265">\begin{eqnarray} 
  \delta^l = ((w^{l+1})^T \delta^{l+1}) \odot \sigma'(z^l) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_553371831040_reveal').click(function() {$('#margin_553371831040').toggle('slow', function() {});});</script>.  The
  reason I've focused on <span id="margin_218277791097_reveal" class="equation_link">(BP1)</span><span id="margin_218277791097" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-266-Frame"><nobr><span class="math" id="MathJax-Span-3283" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3284"><span class="mtable" id="MathJax-Span-3285" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3286"><span class="mrow" id="MathJax-Span-3287"><span class="msubsup" id="MathJax-Span-3288"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3289" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3290" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3291" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3292" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-3293" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3294"><span class="mi" id="MathJax-Span-3295" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3296" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-3297"><span class="mi" id="MathJax-Span-3298" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3299"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3300" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3301" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-3302" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-3303"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3304" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-3305" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3306" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3307"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3308" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3309" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3310" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3311" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-266">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_218277791097_reveal').click(function() {$('#margin_218277791097').toggle('slow', function() {});});</script> and <span id="margin_749807908016_reveal" class="equation_link">(BP2)</span><span id="margin_749807908016" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP2" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-267-Frame"><nobr><span class="math" id="MathJax-Span-3312" role="math" style="width: 12.159em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.914em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3313"><span class="mtable" id="MathJax-Span-3314" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3315"><span class="mrow" id="MathJax-Span-3316"><span class="msubsup" id="MathJax-Span-3317"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3318" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-3319" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3320" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-3321" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="mo" id="MathJax-Span-3322" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3323"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3324" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-3325"><span class="mrow" id="MathJax-Span-3326"><span class="mi" id="MathJax-Span-3327" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3328" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3329" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3330"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-3331" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-3332" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3333"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3334" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-3335"><span class="mrow" id="MathJax-Span-3336"><span class="mi" id="MathJax-Span-3337" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3338" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3339" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3340" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3341" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-3342" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3343" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-3344" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3345" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3346"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3347" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-3348" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3349" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-267">\begin{eqnarray} 
  \delta^l = ((w^{l+1})^T \delta^{l+1}) \odot \sigma'(z^l) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_749807908016_reveal').click(function() {$('#margin_749807908016').toggle('slow', function() {});});</script> is because that
  approach turns out to be faster to implement numerically.
</li></ul><p></p><p></p><h3><a name="proof_of_the_four_fundamental_equations_(optional)"></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#proof_of_the_four_fundamental_equations_(optional)">Proof of the four fundamental equations (optional)</a></h3> <p></p><p>We'll now prove the four fundamental
equations <span id="margin_604322409943_reveal" class="equation_link">(BP1)</span><span id="margin_604322409943" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-268-Frame"><nobr><span class="math" id="MathJax-Span-3350" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3351"><span class="mtable" id="MathJax-Span-3352" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3353"><span class="mrow" id="MathJax-Span-3354"><span class="msubsup" id="MathJax-Span-3355"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3356" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3357" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3358" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3359" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-3360" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3361"><span class="mi" id="MathJax-Span-3362" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3363" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-3364"><span class="mi" id="MathJax-Span-3365" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3366"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3367" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3368" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-3369" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-3370"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3371" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-3372" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3373" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3374"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3375" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3376" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3377" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3378" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-268">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_604322409943_reveal').click(function() {$('#margin_604322409943').toggle('slow', function() {});});</script>-<span id="margin_30367952844_reveal" class="equation_link">(BP4)</span><span id="margin_30367952844" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP4" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-269-Frame"><nobr><span class="math" id="MathJax-Span-3379" role="math" style="width: 6.718em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.571em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3380"><span class="mtable" id="MathJax-Span-3381" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 6.277em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 6.277em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3382"><span class="mrow" id="MathJax-Span-3383"><span class="mfrac" id="MathJax-Span-3384"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3385"><span class="mi" id="MathJax-Span-3386" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3387" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-3388"><span class="mi" id="MathJax-Span-3389" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3390"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3391" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-3392" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-3393"><span class="mrow" id="MathJax-Span-3394"><span class="mi" id="MathJax-Span-3395" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-3396" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-3397" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-3398" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3399" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-3400"><span class="mrow" id="MathJax-Span-3401"><span class="mi" id="MathJax-Span-3402" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3403" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-3404" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-3405" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3406"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3407" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3408" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3409" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-269">\begin{eqnarray}  
  \frac{\partial C}{\partial w^l_{jk}} = a^{l-1}_k \delta^l_j \nonumber\end{eqnarray}</script></a></span><script>$('#margin_30367952844_reveal').click(function() {$('#margin_30367952844').toggle('slow', function() {});});</script>.  All four are consequences of the
chain rule from multivariable calculus.  If you're comfortable with
the chain rule, then I strongly encourage you to attempt the
derivation yourself before reading on.</p><p>Let's begin with Equation <span id="margin_864819733537_reveal" class="equation_link">(BP1)</span><span id="margin_864819733537" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-270-Frame"><nobr><span class="math" id="MathJax-Span-3410" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3411"><span class="mtable" id="MathJax-Span-3412" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3413"><span class="mrow" id="MathJax-Span-3414"><span class="msubsup" id="MathJax-Span-3415"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3416" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3417" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3418" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3419" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-3420" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3421"><span class="mi" id="MathJax-Span-3422" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3423" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-3424"><span class="mi" id="MathJax-Span-3425" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3426"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3427" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3428" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-3429" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-3430"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3431" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-3432" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3433" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3434"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3435" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3436" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3437" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3438" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-270">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_864819733537_reveal').click(function() {$('#margin_864819733537').toggle('slow', function() {});});</script>, which gives an expression for
the output error, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-271-Frame"><nobr><span class="math" id="MathJax-Span-3439" role="math" style="width: 1.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3440"><span class="msubsup" id="MathJax-Span-3441"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3442" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3443" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-271">\delta^L</script>.  To prove this equation, recall that by
definition
<a class="displaced_anchor" name="eqtn36"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-272-Frame"><nobr><span class="math" id="MathJax-Span-3444" role="math" style="width: 100%; display: inline-block; min-width: 11.228em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 11.228em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-3445"><span class="mtable" id="MathJax-Span-3446" style="min-width: 11.473em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 11.228em;"><span style="display: inline-block; position: absolute; width: 4.708em; height: 0px; clip: rect(-1.713em 1000.002em 1.228em -999.998em); top: 0.002em; left: 50%; margin-left: -2.35em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 4.708em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3450"><span class="mrow" id="MathJax-Span-3451"><span class="msubsup" id="MathJax-Span-3452"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3453" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3454" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3455" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3456" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-3457" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3458"><span class="mi" id="MathJax-Span-3459" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3460" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-3461"><span class="mi" id="MathJax-Span-3462" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3463"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3464" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3465" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3466" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-3467" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-1.076em 1000.002em 0.248em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="mjx-eqn-36"><span class="mrow" id="MathJax-Span-3448"><span class="mtext" id="MathJax-Span-3449" style="font-family: MathJax_Main;">(36)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-272">\begin{eqnarray}
  \delta^L_j = \frac{\partial C}{\partial z^L_j}.
\tag{36}\end{eqnarray}</script>
Applying the chain rule, we can re-express the partial derivative
above in terms of partial derivatives with respect to the output
activations,
<a class="displaced_anchor" name="eqtn37"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-273-Frame"><nobr><span class="math" id="MathJax-Span-3468" role="math" style="width: 100%; display: inline-block; min-width: 14.806em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 14.806em;"><span style="position: absolute; clip: rect(2.208em 1000.002em 5.346em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-3469"><span class="mtable" id="MathJax-Span-3470" style="min-width: 15.1em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 14.806em;"><span style="display: inline-block; position: absolute; width: 8.336em; height: 0px; clip: rect(-1.811em 1000.002em 1.326em -999.998em); top: 0.002em; left: 50%; margin-left: -4.164em;"><span style="position: absolute; clip: rect(2.208em 1000.002em 5.346em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 8.336em; height: 0px;"><span style="position: absolute; clip: rect(2.257em 1000.002em 5.395em -999.998em); top: -4.066em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3474"><span class="mrow" id="MathJax-Span-3475"><span class="msubsup" id="MathJax-Span-3476"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3477" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3478" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3479" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3480" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="munderover" id="MathJax-Span-3481" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-3482" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.267em -999.998em); top: -2.89em; left: 0.542em;"><span class="mi" id="MathJax-Span-3483" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-3484" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3485"><span class="mi" id="MathJax-Span-3486" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3487" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-3488"><span class="mi" id="MathJax-Span-3489" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3490"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3491" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3492" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-3493" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-3494"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.801em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-3495"><span class="mi" id="MathJax-Span-3496" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3497"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3498" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3499" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-3500" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-3501"><span class="mi" id="MathJax-Span-3502" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3503"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3504" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3505" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3506" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-3507" style="font-family: MathJax_Main;">,</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.929em 1000.002em 0.346em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.066em; right: 0.002em;"><span class="mtd" id="mjx-eqn-37"><span class="mrow" id="MathJax-Span-3472"><span class="mtext" id="MathJax-Span-3473" style="font-family: MathJax_Main;">(37)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.002em; vertical-align: -1.248em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-273">\begin{eqnarray}
  \delta^L_j = \sum_k \frac{\partial C}{\partial a^L_k} \frac{\partial a^L_k}{\partial z^L_j},
\tag{37}\end{eqnarray}</script>
where the sum is over all neurons <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-274-Frame"><nobr><span class="math" id="MathJax-Span-3508" role="math" style="width: 0.542em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.542em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3509"><span class="mi" id="MathJax-Span-3510" style="font-family: MathJax_Math-italic;">k</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-274">k</script> in the output layer.  Of course,
the output activation <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-275-Frame"><nobr><span class="math" id="MathJax-Span-3511" role="math" style="width: 1.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3512"><span class="msubsup" id="MathJax-Span-3513"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3514" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3515" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-3516" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-275">a^L_k</script> of the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-276-Frame"><nobr><span class="math" id="MathJax-Span-3517" role="math" style="width: 1.326em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3518"><span class="msubsup" id="MathJax-Span-3519"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3520" style="font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-3521"><span class="mrow" id="MathJax-Span-3522"><span class="mi" id="MathJax-Span-3523" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-3524" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-276">k^{\rm th}</script> neuron depends only
on the input weight <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-277-Frame"><nobr><span class="math" id="MathJax-Span-3525" role="math" style="width: 1.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3526"><span class="msubsup" id="MathJax-Span-3527"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3528" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3529" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3530" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-277">z^L_j</script> for the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-278-Frame"><nobr><span class="math" id="MathJax-Span-3531" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3532"><span class="msubsup" id="MathJax-Span-3533"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3534" style="font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-3535"><span class="mrow" id="MathJax-Span-3536"><span class="mi" id="MathJax-Span-3537" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-3538" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-278">j^{\rm th}</script> neuron when <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-279-Frame"><nobr><span class="math" id="MathJax-Span-3539" role="math" style="width: 2.355em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.306em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3540"><span class="mi" id="MathJax-Span-3541" style="font-family: MathJax_Math-italic;">k</span><span class="mo" id="MathJax-Span-3542" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-3543" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">j</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-279">k = j</script>.
And so <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-280-Frame"><nobr><span class="math" id="MathJax-Span-3544" role="math" style="width: 3.875em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.777em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3545"><span class="mi" id="MathJax-Span-3546" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3547"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3548" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3549" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-3550" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3551"><span class="mrow" id="MathJax-Span-3552"><span class="mo" id="MathJax-Span-3553" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-3554" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3555"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3556" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3557" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3558" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-280">\partial a^L_k / \partial z^L_j</script> vanishes when <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-281-Frame"><nobr><span class="math" id="MathJax-Span-3559" role="math" style="width: 2.355em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.306em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3560"><span class="mi" id="MathJax-Span-3561" style="font-family: MathJax_Math-italic;">k</span><span class="mo" id="MathJax-Span-3562" style="font-family: MathJax_Main; padding-left: 0.297em;">≠</span><span class="mi" id="MathJax-Span-3563" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">j</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.052em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-281">k \neq j</script>.  As
a result we can simplify the previous equation to
<a class="displaced_anchor" name="eqtn38"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-282-Frame"><nobr><span class="math" id="MathJax-Span-3564" role="math" style="width: 100%; display: inline-block; min-width: 13.238em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 13.238em;"><span style="position: absolute; clip: rect(2.159em 1000.002em 5.395em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-3565"><span class="mtable" id="MathJax-Span-3566" style="min-width: 13.483em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 13.238em;"><span style="display: inline-block; position: absolute; width: 6.718em; height: 0px; clip: rect(-1.86em 1000.002em 1.375em -999.998em); top: 0.002em; left: 50%; margin-left: -3.38em;"><span style="position: absolute; clip: rect(2.159em 1000.002em 5.395em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 6.718em; height: 0px;"><span style="position: absolute; clip: rect(2.159em 1000.002em 5.395em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3570"><span class="mrow" id="MathJax-Span-3571"><span class="msubsup" id="MathJax-Span-3572"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3573" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3574" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3575" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3576" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-3577" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3578"><span class="mi" id="MathJax-Span-3579" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3580" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-3581"><span class="mi" id="MathJax-Span-3582" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3583"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3584" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3585" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-3586" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-3587"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.949em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-3588"><span class="mi" id="MathJax-Span-3589" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3590"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3591" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3592" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-3593" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-3594"><span class="mi" id="MathJax-Span-3595" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3596"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3597" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3598" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3599" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-3600" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.88em 1000.002em 0.395em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="mjx-eqn-38"><span class="mrow" id="MathJax-Span-3568"><span class="mtext" id="MathJax-Span-3569" style="font-family: MathJax_Main;">(38)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.152em; vertical-align: -1.297em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-282">\begin{eqnarray}
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \frac{\partial a^L_j}{\partial z^L_j}.
\tag{38}\end{eqnarray}</script>
Recalling that <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-283-Frame"><nobr><span class="math" id="MathJax-Span-3601" role="math" style="width: 5.002em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.904em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3602"><span class="msubsup" id="MathJax-Span-3603"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3604" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3605" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-3606" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3607" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-3608" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-3609" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3610"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3611" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3612" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3613" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3614" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-283">a^L_j = \sigma(z^L_j)</script> the second term on the right
can be written as <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-284-Frame"><nobr><span class="math" id="MathJax-Span-3615" role="math" style="width: 2.797em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.748em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3616"><span class="msup" id="MathJax-Span-3617"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3618" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.64em;"><span class="mo" id="MathJax-Span-3619" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3620" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3621"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3622" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3623" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3624" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3625" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-284">\sigma'(z^L_j)</script>, and the equation becomes
<a class="displaced_anchor" name="eqtn39"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-285-Frame"><nobr><span class="math" id="MathJax-Span-3626" role="math" style="width: 100%; display: inline-block; min-width: 13.924em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 13.924em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-3627"><span class="mtable" id="MathJax-Span-3628" style="min-width: 14.218em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 13.924em;"><span style="display: inline-block; position: absolute; width: 7.453em; height: 0px; clip: rect(-1.713em 1000.002em 1.228em -999.998em); top: 0.002em; left: 50%; margin-left: -3.723em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.453em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3632"><span class="mrow" id="MathJax-Span-3633"><span class="msubsup" id="MathJax-Span-3634"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3635" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3636" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3637" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3638" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-3639" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3640"><span class="mi" id="MathJax-Span-3641" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3642" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-3643"><span class="mi" id="MathJax-Span-3644" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3645"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3646" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3647" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-3648" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-3649"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3650" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-3651" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3652" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3653"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3654" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3655" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3656" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3657" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3658" style="font-family: MathJax_Main;">,</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-1.076em 1000.002em 0.248em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="mjx-eqn-39"><span class="mrow" id="MathJax-Span-3630"><span class="mtext" id="MathJax-Span-3631" style="font-family: MathJax_Main;">(39)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-285">\begin{eqnarray}
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j),
\tag{39}\end{eqnarray}</script>
which is just <span id="margin_67004879321_reveal" class="equation_link">(BP1)</span><span id="margin_67004879321" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP1" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-286-Frame"><nobr><span class="math" id="MathJax-Span-3659" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3660"><span class="mtable" id="MathJax-Span-3661" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.208em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.395em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3662"><span class="mrow" id="MathJax-Span-3663"><span class="msubsup" id="MathJax-Span-3664"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3665" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3666" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3667" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3668" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mfrac" id="MathJax-Span-3669" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3670"><span class="mi" id="MathJax-Span-3671" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3672" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-3673"><span class="mi" id="MathJax-Span-3674" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3675"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3676" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3677" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-3678" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msup" id="MathJax-Span-3679"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3680" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-3681" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3682" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3683"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3684" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3685" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3686" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3687" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-286">\begin{eqnarray} 
  \delta^L_j = \frac{\partial C}{\partial a^L_j} \sigma'(z^L_j) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_67004879321_reveal').click(function() {$('#margin_67004879321').toggle('slow', function() {});});</script>, in component form.</p><p>Next, we'll prove <span id="margin_155431360747_reveal" class="equation_link">(BP2)</span><span id="margin_155431360747" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP2" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-287-Frame"><nobr><span class="math" id="MathJax-Span-3688" role="math" style="width: 12.159em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.914em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3689"><span class="mtable" id="MathJax-Span-3690" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3691"><span class="mrow" id="MathJax-Span-3692"><span class="msubsup" id="MathJax-Span-3693"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3694" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-3695" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3696" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-3697" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="mo" id="MathJax-Span-3698" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3699"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3700" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-3701"><span class="mrow" id="MathJax-Span-3702"><span class="mi" id="MathJax-Span-3703" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3704" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3705" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3706"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-3707" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-3708" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3709"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3710" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-3711"><span class="mrow" id="MathJax-Span-3712"><span class="mi" id="MathJax-Span-3713" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3714" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3715" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3716" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3717" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-3718" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3719" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-3720" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3721" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3722"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3723" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-3724" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3725" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-287">\begin{eqnarray} 
  \delta^l = ((w^{l+1})^T \delta^{l+1}) \odot \sigma'(z^l) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_155431360747_reveal').click(function() {$('#margin_155431360747').toggle('slow', function() {});});</script>, which gives an equation for the error
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-288-Frame"><nobr><span class="math" id="MathJax-Span-3726" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3727"><span class="msubsup" id="MathJax-Span-3728"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3729" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3730" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-288">\delta^l</script> in terms of the error in the next layer, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-289-Frame"><nobr><span class="math" id="MathJax-Span-3731" role="math" style="width: 1.767em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3732"><span class="msubsup" id="MathJax-Span-3733"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3734" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="texatom" id="MathJax-Span-3735"><span class="mrow" id="MathJax-Span-3736"><span class="mi" id="MathJax-Span-3737" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3738" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3739" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-289">\delta^{l+1}</script>.
To do this, we want to rewrite <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-290-Frame"><nobr><span class="math" id="MathJax-Span-3740" role="math" style="width: 5.493em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.395em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3741"><span class="msubsup" id="MathJax-Span-3742"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3743" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3744" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3745" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3746" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-3747" style="font-family: MathJax_Main; padding-left: 0.297em;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3748" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-3749"><span class="mrow" id="MathJax-Span-3750"><span class="mo" id="MathJax-Span-3751" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-3752" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3753"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3754" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3755" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3756" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-290">\delta^l_j = \partial C / \partial
z^l_j</script> in terms of <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-291-Frame"><nobr><span class="math" id="MathJax-Span-3757" role="math" style="width: 7.306em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.159em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3758"><span class="msubsup" id="MathJax-Span-3759"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3760" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-3761"><span class="mrow" id="MathJax-Span-3762"><span class="mi" id="MathJax-Span-3763" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3764" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3765" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.444em;"><span class="mi" id="MathJax-Span-3766" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3767" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-3768" style="font-family: MathJax_Main; padding-left: 0.297em;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3769" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-3770"><span class="mrow" id="MathJax-Span-3771"><span class="mo" id="MathJax-Span-3772" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-3773" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3774"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3775" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-3776"><span class="mrow" id="MathJax-Span-3777"><span class="mi" id="MathJax-Span-3778" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3779" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3780" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.444em;"><span class="mi" id="MathJax-Span-3781" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.398em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-291">\delta^{l+1}_k = \partial C / \partial z^{l+1}_k</script>.
We can do this using the chain rule,
<a class="displaced_anchor" name="eqtn40"></a><a class="displaced_anchor" name="eqtn41"></a><a class="displaced_anchor" name="eqtn42"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-292-Frame"><nobr><span class="math" id="MathJax-Span-3782" role="math" style="width: 100%; display: inline-block; min-width: 15.885em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 15.885em;"><span style="position: absolute; clip: rect(5.199em 1000.002em 14.61em -999.998em); top: -10.145em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-3783"><span class="mtable" id="MathJax-Span-3784" style="min-width: 16.228em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 15.885em;"><span style="display: inline-block; position: absolute; width: 9.463em; height: 0px; clip: rect(-4.949em 1000.002em 4.463em -999.998em); top: 0.002em; left: 50%; margin-left: -4.703em;"><span style="position: absolute; clip: rect(3.924em 1000.002em 11.522em -999.998em); top: -8.331em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -7.449em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3788"><span class="mrow" id="MathJax-Span-3789"><span class="msubsup" id="MathJax-Span-3790"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3791" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-3792" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3793" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.875em 1000.002em 4.169em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3813"><span class="mrow" id="MathJax-Span-3814"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.875em 1000.002em 4.169em -999.998em); top: -0.978em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3859"><span class="mrow" id="MathJax-Span-3860"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 8.336em;"></span></span><span style="position: absolute; clip: rect(3.924em 1000.002em 11.032em -999.998em); top: -7.841em; left: 1.081em;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.532em 1000.002em 4.169em -999.998em); top: -7.449em; left: 50%; margin-left: -0.537em;"><span class="mtd" id="MathJax-Span-3794"><span class="mrow" id="MathJax-Span-3795"><span class="mi" id="MathJax-Span-3796"></span><span class="mo" id="MathJax-Span-3797" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.169em -999.998em); top: -4.213em; left: 50%; margin-left: -0.537em;"><span class="mtd" id="MathJax-Span-3815"><span class="mrow" id="MathJax-Span-3816"><span class="mi" id="MathJax-Span-3817"></span><span class="mo" id="MathJax-Span-3818" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.169em -999.998em); top: -0.978em; left: 50%; margin-left: -0.537em;"><span class="mtd" id="MathJax-Span-3861"><span class="mrow" id="MathJax-Span-3862"><span class="mi" id="MathJax-Span-3863"></span><span class="mo" id="MathJax-Span-3864" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 7.846em;"></span></span><span style="position: absolute; clip: rect(5.199em 1000.002em 14.61em -999.998em); top: -10.145em; left: 2.453em;"><span style="display: inline-block; position: relative; width: 7.012em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -7.449em; left: 0.002em;"><span class="mtd" id="MathJax-Span-3798"><span class="mrow" id="MathJax-Span-3799"><span class="mfrac" id="MathJax-Span-3800"><span style="display: inline-block; position: relative; width: 1.522em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3801"><span class="mi" id="MathJax-Span-3802" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3803" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3804"><span class="mi" id="MathJax-Span-3805" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3806"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3807" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3808" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3809" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.522em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(2.208em 1000.002em 5.444em -999.998em); top: -4.213em; left: 0.002em;"><span class="mtd" id="MathJax-Span-3819"><span class="mrow" id="MathJax-Span-3820"><span class="mi" id="MathJax-Span-3821"></span><span class="munderover" id="MathJax-Span-3822" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-3823" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.267em -999.998em); top: -2.89em; left: 0.542em;"><span class="mi" id="MathJax-Span-3824" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-3825" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3826"><span class="mi" id="MathJax-Span-3827" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-3828" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(2.993em 1000.002em 4.512em -999.998em); top: -3.184em; left: 50%; margin-left: -1.125em;"><span class="mrow" id="MathJax-Span-3829"><span class="mi" id="MathJax-Span-3830" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3831"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3832" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-3833"><span class="mrow" id="MathJax-Span-3834"><span class="mi" id="MathJax-Span-3835" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3836" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3837" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.444em;"><span class="mi" id="MathJax-Span-3838" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.404em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-3839"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.512em -999.998em); top: -4.801em; left: 50%; margin-left: -1.125em;"><span class="mrow" id="MathJax-Span-3840"><span class="mi" id="MathJax-Span-3841" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3842"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3843" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-3844"><span class="mrow" id="MathJax-Span-3845"><span class="mi" id="MathJax-Span-3846" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3847" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3848" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.444em;"><span class="mi" id="MathJax-Span-3849" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3850"><span class="mi" id="MathJax-Span-3851" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3852"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3853" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3854" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3855" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.404em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(2.208em 1000.002em 5.444em -999.998em); top: -0.978em; left: 0.002em;"><span class="mtd" id="MathJax-Span-3865"><span class="mrow" id="MathJax-Span-3866"><span class="mi" id="MathJax-Span-3867"></span><span class="munderover" id="MathJax-Span-3868" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-3869" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.267em -999.998em); top: -2.89em; left: 0.542em;"><span class="mi" id="MathJax-Span-3870" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-3871" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.512em -999.998em); top: -4.801em; left: 50%; margin-left: -1.125em;"><span class="mrow" id="MathJax-Span-3872"><span class="mi" id="MathJax-Span-3873" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3874"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3875" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-3876"><span class="mrow" id="MathJax-Span-3877"><span class="mi" id="MathJax-Span-3878" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3879" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3880" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.444em;"><span class="mi" id="MathJax-Span-3881" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-3882"><span class="mi" id="MathJax-Span-3883" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3884"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3885" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3886" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3887" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.404em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3888"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3889" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-3890"><span class="mrow" id="MathJax-Span-3891"><span class="mi" id="MathJax-Span-3892" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3893" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3894" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.444em;"><span class="mi" id="MathJax-Span-3895" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3896" style="font-family: MathJax_Main;">,</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 10.15em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-4.311em 1000.002em 3.483em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -7.449em; right: 0.002em;"><span class="mtd" id="mjx-eqn-40"><span class="mrow" id="MathJax-Span-3786"><span class="mtext" id="MathJax-Span-3787" style="font-family: MathJax_Main;">(40)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="mjx-eqn-41"><span class="mrow" id="MathJax-Span-3811"><span class="mtext" id="MathJax-Span-3812" style="font-family: MathJax_Main;">(41)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -0.978em; right: 0.002em;"><span class="mtd" id="mjx-eqn-42"><span class="mrow" id="MathJax-Span-3857"><span class="mtext" id="MathJax-Span-3858" style="font-family: MathJax_Main;">(42)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 10.15em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 9.402em; vertical-align: -4.447em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-292">\begin{eqnarray}
  \delta^l_j & = & \frac{\partial C}{\partial z^l_j} \tag{40}\\
  & = & \sum_k \frac{\partial C}{\partial z^{l+1}_k} \frac{\partial z^{l+1}_k}{\partial z^l_j} \tag{41}\\ 
  & = & \sum_k \frac{\partial z^{l+1}_k}{\partial z^l_j} \delta^{l+1}_k,
\tag{42}\end{eqnarray}</script>
where in the last line we have interchanged the two terms on the
right-hand side, and substituted the definition of <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-293-Frame"><nobr><span class="math" id="MathJax-Span-3897" role="math" style="width: 1.767em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-3898"><span class="msubsup" id="MathJax-Span-3899"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3900" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-3901"><span class="mrow" id="MathJax-Span-3902"><span class="mi" id="MathJax-Span-3903" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3904" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3905" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.444em;"><span class="mi" id="MathJax-Span-3906" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.398em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-293">\delta^{l+1}_k</script>.
To evaluate the first term on the last line, note that
<a class="displaced_anchor" name="eqtn43"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-294-Frame"><nobr><span class="math" id="MathJax-Span-3907" role="math" style="width: 100%; display: inline-block; min-width: 26.816em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 26.816em;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.051em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-3908"><span class="mtable" id="MathJax-Span-3909" style="min-width: 27.355em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 26.816em;"><span style="display: inline-block; position: absolute; width: 20.591em; height: 0px; clip: rect(-1.517em 1000.002em 1.032em -999.998em); top: 0.002em; left: 50%; margin-left: -10.292em;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.051em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 20.591em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 5.493em -999.998em); top: -4.458em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3913"><span class="mrow" id="MathJax-Span-3914"><span class="msubsup" id="MathJax-Span-3915"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3916" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-3917"><span class="mrow" id="MathJax-Span-3918"><span class="mi" id="MathJax-Span-3919" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3920" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3921" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.444em;"><span class="mi" id="MathJax-Span-3922" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3923" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="munderover" id="MathJax-Span-3924" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-3925" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.414em -999.998em); top: -2.939em; left: 0.591em;"><span class="mi" id="MathJax-Span-3926" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3927" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3928" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-3929"><span class="mrow" id="MathJax-Span-3930"><span class="mi" id="MathJax-Span-3931" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3932" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3933" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-3934"><span class="mrow" id="MathJax-Span-3935"><span class="mi" id="MathJax-Span-3936" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span class="mi" id="MathJax-Span-3937" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3938"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3939" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3940" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-3941" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3942" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="msubsup" id="MathJax-Span-3943" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 1.62em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3944" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.444em;"><span class="texatom" id="MathJax-Span-3945"><span class="mrow" id="MathJax-Span-3946"><span class="mi" id="MathJax-Span-3947" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3948" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3949" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.444em;"><span class="mi" id="MathJax-Span-3950" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3951" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="munderover" id="MathJax-Span-3952" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-3953" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.414em -999.998em); top: -2.939em; left: 0.591em;"><span class="mi" id="MathJax-Span-3954" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3955" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3956" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-3957"><span class="mrow" id="MathJax-Span-3958"><span class="mi" id="MathJax-Span-3959" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3960" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3961" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-3962"><span class="mrow" id="MathJax-Span-3963"><span class="mi" id="MathJax-Span-3964" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span class="mi" id="MathJax-Span-3965" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mi" id="MathJax-Span-3966" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-3967" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3968"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3969" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-3970" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-3971" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3972" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3973" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="msubsup" id="MathJax-Span-3974" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 1.62em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3975" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.444em;"><span class="texatom" id="MathJax-Span-3976"><span class="mrow" id="MathJax-Span-3977"><span class="mi" id="MathJax-Span-3978" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3979" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3980" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.444em;"><span class="mi" id="MathJax-Span-3981" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-3982" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-1.321em 1000.002em -0.047em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.458em; right: 0.002em;"><span class="mtd" id="mjx-eqn-43"><span class="mrow" id="MathJax-Span-3911"><span class="mtext" id="MathJax-Span-3912" style="font-family: MathJax_Main;">(43)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.402em; vertical-align: -0.948em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-294">\begin{eqnarray}
  z^{l+1}_k = \sum_j w^{l+1}_{kj} a^l_j +b^{l+1}_k = \sum_j w^{l+1}_{kj} \sigma(z^l_j) +b^{l+1}_k.
\tag{43}\end{eqnarray}</script>
Differentiating, we obtain
<a class="displaced_anchor" name="eqtn44"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-295-Frame"><nobr><span class="math" id="MathJax-Span-3983" role="math" style="width: 100%; display: inline-block; min-width: 15.15em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 15.15em;"><span style="position: absolute; clip: rect(2.159em 1000.002em 5.395em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-3984"><span class="mtable" id="MathJax-Span-3985" style="min-width: 15.444em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 15.15em;"><span style="display: inline-block; position: absolute; width: 8.679em; height: 0px; clip: rect(-1.86em 1000.002em 1.375em -999.998em); top: 0.002em; left: 50%; margin-left: -4.36em;"><span style="position: absolute; clip: rect(2.159em 1000.002em 5.395em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 8.679em; height: 0px;"><span style="position: absolute; clip: rect(2.208em 1000.002em 5.444em -999.998em); top: -4.066em; right: 0.002em;"><span class="mtd" id="MathJax-Span-3989"><span class="mrow" id="MathJax-Span-3990"><span class="mfrac" id="MathJax-Span-3991"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.512em -999.998em); top: -4.801em; left: 50%; margin-left: -1.125em;"><span class="mrow" id="MathJax-Span-3992"><span class="mi" id="MathJax-Span-3993" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-3994"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-3995" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-3996"><span class="mrow" id="MathJax-Span-3997"><span class="mi" id="MathJax-Span-3998" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-3999" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4000" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.444em;"><span class="mi" id="MathJax-Span-4001" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-4002"><span class="mi" id="MathJax-Span-4003" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4004"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4005" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-4006" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-4007" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.404em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-4008" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-4009" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4010" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-4011"><span class="mrow" id="MathJax-Span-4012"><span class="mi" id="MathJax-Span-4013" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4014" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4015" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-4016"><span class="mrow" id="MathJax-Span-4017"><span class="mi" id="MathJax-Span-4018" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span class="mi" id="MathJax-Span-4019" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msup" id="MathJax-Span-4020"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4021" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-4022" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4023" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4024"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4025" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-4026" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-4027" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4028" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4029" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.929em 1000.002em 0.346em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.066em; right: 0.002em;"><span class="mtd" id="mjx-eqn-44"><span class="mrow" id="MathJax-Span-3987"><span class="mtext" id="MathJax-Span-3988" style="font-family: MathJax_Main;">(44)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.103em; vertical-align: -1.297em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-295">\begin{eqnarray}
  \frac{\partial z^{l+1}_k}{\partial z^l_j} = w^{l+1}_{kj} \sigma'(z^l_j).
\tag{44}\end{eqnarray}</script>
Substituting back into <span id="margin_613056009374_reveal" class="equation_link">(42)</span><span id="margin_613056009374" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn42" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-296-Frame"><nobr><span class="math" id="MathJax-Span-4030" role="math" style="width: 8.189em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.993em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.159em 1000.002em 5.395em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4031"><span class="mtable" id="MathJax-Span-4032" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.699em; height: 0px;"><span style="position: absolute; clip: rect(3.826em 1000.002em 4.12em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 0.002em; height: 0px;"><span style="position: absolute; clip: rect(3.875em 1000.002em 4.169em -999.998em); top: -4.066em; right: 0.002em;"><span class="mtd" id="MathJax-Span-4033"><span class="mrow" id="MathJax-Span-4034"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.483em 1000.002em 4.12em -999.998em); top: -4.017em; left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.532em 1000.002em 4.169em -999.998em); top: -4.066em; left: 50%; margin-left: -0.537em;"><span class="mtd" id="MathJax-Span-4035"><span class="mrow" id="MathJax-Span-4036"><span class="mi" id="MathJax-Span-4037"></span><span class="mo" id="MathJax-Span-4038" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(2.159em 1000.002em 5.395em -999.998em); top: -4.017em; left: 1.62em;"><span style="display: inline-block; position: relative; width: 6.081em; height: 0px;"><span style="position: absolute; clip: rect(2.208em 1000.002em 5.444em -999.998em); top: -4.066em; left: 0.002em;"><span class="mtd" id="MathJax-Span-4039"><span class="mrow" id="MathJax-Span-4040"><span class="mi" id="MathJax-Span-4041"></span><span class="munderover" id="MathJax-Span-4042" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-4043" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.267em -999.998em); top: -2.89em; left: 0.542em;"><span class="mi" id="MathJax-Span-4044" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-4045" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.512em -999.998em); top: -4.801em; left: 50%; margin-left: -1.125em;"><span class="mrow" id="MathJax-Span-4046"><span class="mi" id="MathJax-Span-4047" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4048"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4049" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4050"><span class="mrow" id="MathJax-Span-4051"><span class="mi" id="MathJax-Span-4052" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4053" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4054" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.444em;"><span class="mi" id="MathJax-Span-4055" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-4056"><span class="mi" id="MathJax-Span-4057" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4058"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4059" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-4060" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-4061" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.404em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4062"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4063" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-4064"><span class="mrow" id="MathJax-Span-4065"><span class="mi" id="MathJax-Span-4066" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4067" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4068" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.444em;"><span class="mi" id="MathJax-Span-4069" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.103em; vertical-align: -1.297em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-296">\begin{eqnarray} 
  & = & \sum_k \frac{\partial z^{l+1}_k}{\partial z^l_j} \delta^{l+1}_k \nonumber\end{eqnarray}</script></a></span><script>$('#margin_613056009374_reveal').click(function() {$('#margin_613056009374').toggle('slow', function() {});});</script> we obtain
<a class="displaced_anchor" name="eqtn45"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-297-Frame"><nobr><span class="math" id="MathJax-Span-4070" role="math" style="width: 100%; display: inline-block; min-width: 16.571em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 16.571em;"><span style="position: absolute; clip: rect(2.551em 1000.002em 5.002em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-4071"><span class="mtable" id="MathJax-Span-4072" style="min-width: 16.914em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 16.571em;"><span style="display: inline-block; position: absolute; width: 10.15em; height: 0px; clip: rect(-1.468em 1000.002em 0.983em -999.998em); top: 0.002em; left: 50%; margin-left: -5.096em;"><span style="position: absolute; clip: rect(2.551em 1000.002em 5.002em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 10.15em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 5.395em -999.998em); top: -4.409em; right: 0.002em;"><span class="mtd" id="MathJax-Span-4076"><span class="mrow" id="MathJax-Span-4077"><span class="msubsup" id="MathJax-Span-4078"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4079" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-4080" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-4081" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4082" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="munderover" id="MathJax-Span-4083" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-4084" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.267em -999.998em); top: -2.89em; left: 0.542em;"><span class="mi" id="MathJax-Span-4085" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4086" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4087" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-4088"><span class="mrow" id="MathJax-Span-4089"><span class="mi" id="MathJax-Span-4090" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4091" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4092" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-4093"><span class="mrow" id="MathJax-Span-4094"><span class="mi" id="MathJax-Span-4095" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span class="mi" id="MathJax-Span-4096" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4097"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4098" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-4099"><span class="mrow" id="MathJax-Span-4100"><span class="mi" id="MathJax-Span-4101" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4102" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4103" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.444em;"><span class="mi" id="MathJax-Span-4104" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msup" id="MathJax-Span-4105"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4106" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-4107" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4108" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4109"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4110" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-4111" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-4112" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4113" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4114" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-1.272em 1000.002em 0.002em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.409em; right: 0.002em;"><span class="mtd" id="mjx-eqn-45"><span class="mrow" id="MathJax-Span-4074"><span class="mtext" id="MathJax-Span-4075" style="font-family: MathJax_Main;">(45)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.302em; vertical-align: -0.897em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-297">\begin{eqnarray}
  \delta^l_j = \sum_k w^{l+1}_{kj}  \delta^{l+1}_k \sigma'(z^l_j).
\tag{45}\end{eqnarray}</script>
This is just <span id="margin_363460257160_reveal" class="equation_link">(BP2)</span><span id="margin_363460257160" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP2" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-298-Frame"><nobr><span class="math" id="MathJax-Span-4115" role="math" style="width: 12.159em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.914em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4116"><span class="mtable" id="MathJax-Span-4117" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.414em -999.998em); top: -3.919em; right: 0.002em;"><span class="mtd" id="MathJax-Span-4118"><span class="mrow" id="MathJax-Span-4119"><span class="msubsup" id="MathJax-Span-4120"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4121" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="mi" id="MathJax-Span-4122" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4123" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-4124" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="mo" id="MathJax-Span-4125" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4126"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4127" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.738em;"><span class="texatom" id="MathJax-Span-4128"><span class="mrow" id="MathJax-Span-4129"><span class="mi" id="MathJax-Span-4130" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4131" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4132" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4133"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-4134" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.395em;"><span class="mi" id="MathJax-Span-4135" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4136"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4137" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.493em;"><span class="texatom" id="MathJax-Span-4138"><span class="mrow" id="MathJax-Span-4139"><span class="mi" id="MathJax-Span-4140" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4141" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4142" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4143" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4144" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-4145" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4146" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.64em;"><span class="mo" id="MathJax-Span-4147" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4148" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4149"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4150" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.409em; left: 0.542em;"><span class="mi" id="MathJax-Span-4151" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4152" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.398em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-298">\begin{eqnarray} 
  \delta^l = ((w^{l+1})^T \delta^{l+1}) \odot \sigma'(z^l) \nonumber\end{eqnarray}</script></a></span><script>$('#margin_363460257160_reveal').click(function() {$('#margin_363460257160').toggle('slow', function() {});});</script> written in component form.</p><p>The final two equations we want to prove are <span id="margin_689245453069_reveal" class="equation_link">(BP3)</span><span id="margin_689245453069" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP3" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-299-Frame"><nobr><span class="math" id="MathJax-Span-4153" role="math" style="width: 4.316em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.218em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4154"><span class="mtable" id="MathJax-Span-4155" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 3.924em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 3.924em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-4156"><span class="mrow" id="MathJax-Span-4157"><span class="mfrac" id="MathJax-Span-4158"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-4159"><span class="mi" id="MathJax-Span-4160" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4161" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-4162"><span class="mi" id="MathJax-Span-4163" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4164"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4165" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-4166" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-4167" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.473em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-4168" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-4169" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4170" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-4171" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-4172" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-299">\begin{eqnarray}  \frac{\partial C}{\partial b^l_j} =
  \delta^l_j \nonumber\end{eqnarray}</script></a></span><script>$('#margin_689245453069_reveal').click(function() {$('#margin_689245453069').toggle('slow', function() {});});</script>
and <span id="margin_60131387022_reveal" class="equation_link">(BP4)</span><span id="margin_60131387022" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP4" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-300-Frame"><nobr><span class="math" id="MathJax-Span-4173" role="math" style="width: 6.718em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.571em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4174"><span class="mtable" id="MathJax-Span-4175" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 6.277em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 6.277em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-4176"><span class="mrow" id="MathJax-Span-4177"><span class="mfrac" id="MathJax-Span-4178"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-4179"><span class="mi" id="MathJax-Span-4180" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4181" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-4182"><span class="mi" id="MathJax-Span-4183" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4184"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4185" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-4186" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-4187"><span class="mrow" id="MathJax-Span-4188"><span class="mi" id="MathJax-Span-4189" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-4190" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-4191" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-4192" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4193" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4194"><span class="mrow" id="MathJax-Span-4195"><span class="mi" id="MathJax-Span-4196" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4197" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-4198" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-4199" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4200"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4201" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-4202" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-4203" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-300">\begin{eqnarray}  
  \frac{\partial C}{\partial w^l_{jk}} = a^{l-1}_k \delta^l_j \nonumber\end{eqnarray}</script></a></span><script>$('#margin_60131387022_reveal').click(function() {$('#margin_60131387022').toggle('slow', function() {});});</script>.  These also follow from the chain rule, in a manner
similar to the proofs of the two equations above.  I leave them to you
as an exercise. </p><p></p><h4><a name="exercise_179493"></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#exercise_179493">Exercise</a></h4><ul>
<li> Prove Equations <span id="margin_901314534419_reveal" class="equation_link">(BP3)</span><span id="margin_901314534419" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP3" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-301-Frame"><nobr><span class="math" id="MathJax-Span-4204" role="math" style="width: 4.316em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.218em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4205"><span class="mtable" id="MathJax-Span-4206" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 3.924em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 3.924em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-4207"><span class="mrow" id="MathJax-Span-4208"><span class="mfrac" id="MathJax-Span-4209"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-4210"><span class="mi" id="MathJax-Span-4211" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4212" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-4213"><span class="mi" id="MathJax-Span-4214" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4215"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4216" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-4217" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-4218" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.473em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-4219" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-4220" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4221" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-4222" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-4223" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-301">\begin{eqnarray}  \frac{\partial C}{\partial b^l_j} =
  \delta^l_j \nonumber\end{eqnarray}</script></a></span><script>$('#margin_901314534419_reveal').click(function() {$('#margin_901314534419').toggle('slow', function() {});});</script> and <span id="margin_664129119905_reveal" class="equation_link">(BP4)</span><span id="margin_664129119905" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtnBP4" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-302-Frame"><nobr><span class="math" id="MathJax-Span-4224" role="math" style="width: 6.718em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.571em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4225"><span class="mtable" id="MathJax-Span-4226" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 6.277em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 6.277em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-4227"><span class="mrow" id="MathJax-Span-4228"><span class="mfrac" id="MathJax-Span-4229"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-4230"><span class="mi" id="MathJax-Span-4231" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4232" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-4233"><span class="mi" id="MathJax-Span-4234" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4235"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4236" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-4237" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-4238"><span class="mrow" id="MathJax-Span-4239"><span class="mi" id="MathJax-Span-4240" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-4241" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-4242" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-4243" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4244" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4245"><span class="mrow" id="MathJax-Span-4246"><span class="mi" id="MathJax-Span-4247" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4248" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-4249" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-4250" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4251"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4252" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-4253" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-4254" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-302">\begin{eqnarray}  
  \frac{\partial C}{\partial w^l_{jk}} = a^{l-1}_k \delta^l_j \nonumber\end{eqnarray}</script></a></span><script>$('#margin_664129119905_reveal').click(function() {$('#margin_664129119905').toggle('slow', function() {});});</script>.
</li></ul><p></p><p>That completes the proof of the four fundamental equations of
backpropagation.  The proof may seem complicated.  But it's really
just the outcome of carefully applying the chain rule.  A little less
succinctly, we can think of backpropagation as a way of computing the
gradient of the cost function by systematically applying the chain
rule from multi-variable calculus.  That's all there really is to
backpropagation - the rest is details.</p><p></p><h3><a name="the_backpropagation_algorithm"></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#the_backpropagation_algorithm">The backpropagation algorithm</a></h3><p></p><p>The backpropagation equations provide us with a way of computing the
gradient of the cost function.  Let's explicitly write this out in the
form of an algorithm:
</p><ol>
<li> <strong>Input <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-303-Frame"><nobr><span class="math" id="MathJax-Span-4255" role="math" style="width: 0.633em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.585em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(3.4em 1000.002em 4.129em -999.998em); top: -3.978em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4256"><span class="mi" id="MathJax-Span-4257" style="font-family: MathJax_Math-italic;">x</span></span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-303">x</script>:</strong> Set the corresponding activation <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-304-Frame"><nobr><span class="math" id="MathJax-Span-4258" role="math" style="width: 1.032em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4259"><span class="msubsup" id="MathJax-Span-4260"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4261" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4262"><span class="mrow" id="MathJax-Span-4263"><span class="mn" id="MathJax-Span-4264" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-304">a^{1}</script> for
  the input layer.  <p></p><p></p></li><li> <strong>Feedforward:</strong> For each <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-305-Frame"><nobr><span class="math" id="MathJax-Span-4265" role="math" style="width: 6.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.983em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4266"><span class="mi" id="MathJax-Span-4267" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4268" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mn" id="MathJax-Span-4269" style="font-family: MathJax_Main; padding-left: 0.297em;">2</span><span class="mo" id="MathJax-Span-4270" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-4271" style="font-family: MathJax_Main; padding-left: 0.15em;">3</span><span class="mo" id="MathJax-Span-4272" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-4273" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span><span class="mo" id="MathJax-Span-4274" style="font-family: MathJax_Main; padding-left: 0.15em;">,</span><span class="mi" id="MathJax-Span-4275" style="font-family: MathJax_Math-italic; padding-left: 0.15em;">L</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-305">l = 2, 3, \ldots, L</script> compute
  <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-306-Frame"><nobr><span class="math" id="MathJax-Span-4276" role="math" style="width: 7.012em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.865em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.267em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4277"><span class="msubsup" id="MathJax-Span-4278"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4279" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4280"><span class="mrow" id="MathJax-Span-4281"><span class="mi" id="MathJax-Span-4282" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4283" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-4284" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4285" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-4286" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4287"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4288" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4289"><span class="mrow" id="MathJax-Span-4290"><span class="mi" id="MathJax-Span-4291" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4292" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-4293" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4294" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="msubsup" id="MathJax-Span-4295" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4296" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-4297" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.052em; vertical-align: -0.148em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-306">z^{l} = w^l a^{l-1}+b^l</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-307-Frame"><nobr><span class="math" id="MathJax-Span-4298" role="math" style="width: 4.463em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.365em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4299"><span class="msubsup" id="MathJax-Span-4300"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4301" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4302"><span class="mrow" id="MathJax-Span-4303"><span class="mi" id="MathJax-Span-4304" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4305" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-4306" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-4307" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4308"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4309" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4310"><span class="mrow" id="MathJax-Span-4311"><span class="mi" id="MathJax-Span-4312" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4313" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-307">a^{l} = \sigma(z^{l})</script>.<p></p><p></p></li><li> <strong>Output error <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-308-Frame"><nobr><span class="math" id="MathJax-Span-4314" role="math" style="width: 1.119em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(3.012em 1000.002em 4.129em -999.998em); top: -3.978em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4315"><span class="msubsup" id="MathJax-Span-4316"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px;"><span style="position: absolute; clip: rect(3.109em 1000.002em 4.129em -999.998em); top: -3.978em; left: 0.002em;"><span class="mi" id="MathJax-Span-4317" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span><span style="position: absolute; top: -4.318em; left: 0.488em;"><span class="mi" id="MathJax-Span-4318" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-308">\delta^L</script>:</strong> Compute the vector <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-309-Frame"><nobr><span class="math" id="MathJax-Span-4319" role="math" style="width: 8.679em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.483em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4320"><span class="msubsup" id="MathJax-Span-4321"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4322" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="texatom" id="MathJax-Span-4323"><span class="mrow" id="MathJax-Span-4324"><span class="mi" id="MathJax-Span-4325" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4326" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-4327" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.218em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4328" style="font-family: MathJax_Main;">∇</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.836em;"><span class="mi" id="MathJax-Span-4329" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mi" id="MathJax-Span-4330" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-4331" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-4332" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4333" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.64em;"><span class="mo" id="MathJax-Span-4334" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4335" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4336"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4337" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-4338" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4339" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-309">\delta^{L}
  = \nabla_a C \odot \sigma'(z^L)</script>.<p></p><p></p></li><li> <strong>Backpropagate the error:</strong> For each <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-310-Frame"><nobr><span class="math" id="MathJax-Span-4340" role="math" style="width: 9.904em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.708em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4341"><span class="mi" id="MathJax-Span-4342" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4343" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-4344" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">L</span><span class="mo" id="MathJax-Span-4345" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mn" id="MathJax-Span-4346" style="font-family: MathJax_Main; padding-left: 0.248em;">1</span><span class="mo" id="MathJax-Span-4347" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4348" style="font-family: MathJax_Math-italic; padding-left: 0.15em;">L</span><span class="mo" id="MathJax-Span-4349" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mn" id="MathJax-Span-4350" style="font-family: MathJax_Main; padding-left: 0.248em;">2</span><span class="mo" id="MathJax-Span-4351" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-4352" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span><span class="mo" id="MathJax-Span-4353" style="font-family: MathJax_Main; padding-left: 0.15em;">,</span><span class="mn" id="MathJax-Span-4354" style="font-family: MathJax_Main; padding-left: 0.15em;">2</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-310">l = L-1, L-2,
  \ldots, 2</script> compute <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-311-Frame"><nobr><span class="math" id="MathJax-Span-4355" role="math" style="width: 11.865em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.62em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4356"><span class="msubsup" id="MathJax-Span-4357"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4358" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="texatom" id="MathJax-Span-4359"><span class="mrow" id="MathJax-Span-4360"><span class="mi" id="MathJax-Span-4361" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4362" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-4363" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="mo" id="MathJax-Span-4364" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4365"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4366" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.738em;"><span class="texatom" id="MathJax-Span-4367"><span class="mrow" id="MathJax-Span-4368"><span class="mi" id="MathJax-Span-4369" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4370" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4371" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4372"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-4373" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="mi" id="MathJax-Span-4374" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4375"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4376" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="texatom" id="MathJax-Span-4377"><span class="mrow" id="MathJax-Span-4378"><span class="mi" id="MathJax-Span-4379" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4380" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4381" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4382" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4383" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-4384" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4385" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.64em;"><span class="mo" id="MathJax-Span-4386" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4387" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4388"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4389" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4390"><span class="mrow" id="MathJax-Span-4391"><span class="mi" id="MathJax-Span-4392" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4393" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-311">\delta^{l} = ((w^{l+1})^T \delta^{l+1}) \odot
  \sigma'(z^{l})</script>.<p></p><p></p></li><li> <strong>Output:</strong> The gradient of the cost function is given by
  <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-312-Frame"><nobr><span class="math" id="MathJax-Span-4394" role="math" style="width: 5.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.689em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.944em 1000.002em 5.002em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4395"><span class="mfrac" id="MathJax-Span-4396"><span style="display: inline-block; position: relative; width: 1.571em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.458em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-4397"><span class="mi" id="MathJax-Span-4398" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4399" style="font-size: 70.7%; font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.287em 1000.002em 4.512em -999.998em); top: -3.527em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-4400"><span class="mi" id="MathJax-Span-4401" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4402"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4403" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.169em -999.998em); top: -4.262em; left: 0.493em;"><span class="mi" id="MathJax-Span-4404" style="font-size: 50%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.267em -999.998em); top: -3.772em; left: 0.493em;"><span class="texatom" id="MathJax-Span-4405"><span class="mrow" id="MathJax-Span-4406"><span class="mi" id="MathJax-Span-4407" style="font-size: 50%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-4408" style="font-size: 50%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.571em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-4409" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-4410" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4411" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4412"><span class="mrow" id="MathJax-Span-4413"><span class="mi" id="MathJax-Span-4414" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4415" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-4416" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -3.674em; left: 0.542em;"><span class="mi" id="MathJax-Span-4417" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4418"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4419" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-4420" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-4421" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.902em; vertical-align: -0.897em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-312">\frac{\partial C}{\partial w^l_{jk}} = a^{l-1}_k \delta^l_j</script> and
  <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-313-Frame"><nobr><span class="math" id="MathJax-Span-4422" role="math" style="width: 3.63em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.532em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.944em 1000.002em 5.002em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4423"><span class="mfrac" id="MathJax-Span-4424"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.458em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-4425"><span class="mi" id="MathJax-Span-4426" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4427" style="font-size: 70.7%; font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.238em 1000.002em 4.463em -999.998em); top: -3.478em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-4428"><span class="mi" id="MathJax-Span-4429" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4430"><span style="display: inline-block; position: relative; width: 0.542em; height: 0px;"><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4431" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.169em -999.998em); top: -4.311em; left: 0.297em;"><span class="mi" id="MathJax-Span-4432" style="font-size: 50%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.267em -999.998em); top: -3.821em; left: 0.297em;"><span class="mi" id="MathJax-Span-4433" style="font-size: 50%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.081em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-4434" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-4435" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4436" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-4437" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-4438" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.902em; vertical-align: -0.897em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-313">\frac{\partial C}{\partial b^l_j} = \delta^l_j</script>.
</li></ol><p></p><p>Examining the algorithm you can see why it's called
<em>back</em>propagation.  We compute the error vectors <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-314-Frame"><nobr><span class="math" id="MathJax-Span-4439" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4440"><span class="msubsup" id="MathJax-Span-4441"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4442" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="mi" id="MathJax-Span-4443" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-314">\delta^l</script>
backward, starting from the final layer.  It may seem peculiar that
we're going through the network backward.  But if you think about the
proof of backpropagation, the backward movement is a consequence of
the fact that the cost is a function of outputs from the network.  To
understand how the cost varies with earlier weights and biases we need
to repeatedly apply the chain rule, working backward through the
layers to obtain useable expressions.</p><p></p><h4><a name="exercises_675621"></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#exercises_675621">Exercises</a></h4><ul>
<li><strong>Backpropagation with a single modified neuron</strong> Suppose we modify
  a single neuron in a feedforward network so that the output from the
  neuron is given by <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-315-Frame"><nobr><span class="math" id="MathJax-Span-4444" role="math" style="width: 6.767em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.62em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4445"><span class="mi" id="MathJax-Span-4446" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-4447" style="font-family: MathJax_Main;">(</span><span class="munderover" id="MathJax-Span-4448"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-4449" style="font-family: MathJax_Size1; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.723em; left: 1.081em;"><span class="mi" id="MathJax-Span-4450" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4451" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4452" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-4453" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4454"><span style="display: inline-block; position: relative; width: 0.934em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4455" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.591em;"><span class="mi" id="MathJax-Span-4456" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4457" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="mi" id="MathJax-Span-4458" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">b</span><span class="mo" id="MathJax-Span-4459" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-315">f(\sum_j w_j x_j + b)</script>, where <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-316-Frame"><nobr><span class="math" id="MathJax-Span-4460" role="math" style="width: 0.542em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.542em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4461"><span class="mi" id="MathJax-Span-4462" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.052em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-316">f</script> is some
  function other than the sigmoid.  How should we modify the
  backpropagation algorithm in this case?<p></p><p></p></li><li><strong>Backpropagation with linear neurons</strong> Suppose we replace the
  usual non-linear <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-317-Frame"><nobr><span class="math" id="MathJax-Span-4463" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4464"><span class="mi" id="MathJax-Span-4465" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-317">\sigma</script> function with <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-318-Frame"><nobr><span class="math" id="MathJax-Span-4466" role="math" style="width: 3.777em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.679em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4467"><span class="mi" id="MathJax-Span-4468" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-4469" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4470" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-4471" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4472" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-4473" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-318">\sigma(z) = z</script> throughout
  the network.  Rewrite the backpropagation algorithm for this case.
</li></ul><p></p><p>As I've described it above, the backpropagation algorithm computes the
gradient of the cost function for a single training example, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-319-Frame"><nobr><span class="math" id="MathJax-Span-4474" role="math" style="width: 3.434em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.336em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.316em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4475"><span class="mi" id="MathJax-Span-4476" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-4477" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-4478" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4479" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-4480" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.198em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-319">C =
C_x</script>.  In practice, it's common to combine backpropagation with a
learning algorithm such as stochastic gradient descent, in which we
compute the gradient for many training examples.  In particular, given
a mini-batch of <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-320-Frame"><nobr><span class="math" id="MathJax-Span-4481" role="math" style="width: 0.934em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4482"><span class="mi" id="MathJax-Span-4483" style="font-family: MathJax_Math-italic;">m</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-320">m</script> training examples, the following algorithm applies
a gradient descent learning step based on that mini-batch:
</p><ol>
<li> <strong>Input a set of training examples</strong><p></p><p></p></li><li> <strong>For each training example <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-321-Frame"><nobr><span class="math" id="MathJax-Span-4484" role="math" style="width: 0.633em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.585em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(3.4em 1000.002em 4.129em -999.998em); top: -3.978em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4485"><span class="mi" id="MathJax-Span-4486" style="font-family: MathJax_Math-italic;">x</span></span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-321">x</script>:</strong> Set the corresponding
  input activation <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-322-Frame"><nobr><span class="math" id="MathJax-Span-4487" role="math" style="width: 1.62em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.571em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4488"><span class="msubsup" id="MathJax-Span-4489"><span style="display: inline-block; position: relative; width: 1.571em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4490" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4491"><span class="mrow" id="MathJax-Span-4492"><span class="mi" id="MathJax-Span-4493" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-4494" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-4495" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-322">a^{x,1}</script>, and perform the following steps:<p></p><p></p><ul>
<li> <strong>Feedforward:</strong> For each <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-323-Frame"><nobr><span class="math" id="MathJax-Span-4496" role="math" style="width: 6.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.983em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4497"><span class="mi" id="MathJax-Span-4498" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4499" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mn" id="MathJax-Span-4500" style="font-family: MathJax_Main; padding-left: 0.297em;">2</span><span class="mo" id="MathJax-Span-4501" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-4502" style="font-family: MathJax_Main; padding-left: 0.15em;">3</span><span class="mo" id="MathJax-Span-4503" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-4504" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span><span class="mo" id="MathJax-Span-4505" style="font-family: MathJax_Main; padding-left: 0.15em;">,</span><span class="mi" id="MathJax-Span-4506" style="font-family: MathJax_Math-italic; padding-left: 0.15em;">L</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-323">l = 2, 3, \ldots, L</script> compute
  <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-324-Frame"><nobr><span class="math" id="MathJax-Span-4507" role="math" style="width: 8.287em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.091em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.267em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4508"><span class="msubsup" id="MathJax-Span-4509"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4510" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4511"><span class="mrow" id="MathJax-Span-4512"><span class="mi" id="MathJax-Span-4513" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-4514" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4515" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4516" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-4517" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4518" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-4519" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4520"><span style="display: inline-block; position: relative; width: 2.306em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4521" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4522"><span class="mrow" id="MathJax-Span-4523"><span class="mi" id="MathJax-Span-4524" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-4525" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4526" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4527" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-4528" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4529" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="msubsup" id="MathJax-Span-4530" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4531" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-4532" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.052em; vertical-align: -0.148em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-324">z^{x,l} = w^l a^{x,l-1}+b^l</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-325-Frame"><nobr><span class="math" id="MathJax-Span-4533" role="math" style="width: 5.689em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.542em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4534"><span class="msubsup" id="MathJax-Span-4535"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4536" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4537"><span class="mrow" id="MathJax-Span-4538"><span class="mi" id="MathJax-Span-4539" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-4540" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4541" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4542" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-4543" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-4544" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4545"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4546" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4547"><span class="mrow" id="MathJax-Span-4548"><span class="mi" id="MathJax-Span-4549" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-4550" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4551" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4552" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-325">a^{x,l} = \sigma(z^{x,l})</script>.<p></p><p></p></li><li> <strong>Output error <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-326-Frame"><nobr><span class="math" id="MathJax-Span-4553" role="math" style="width: 1.701em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.653em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(3.012em 1000.002em 4.129em -999.998em); top: -3.978em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4554"><span class="msubsup" id="MathJax-Span-4555"><span style="display: inline-block; position: relative; width: 1.653em; height: 0px;"><span style="position: absolute; clip: rect(3.109em 1000.002em 4.129em -999.998em); top: -3.978em; left: 0.002em;"><span class="mi" id="MathJax-Span-4556" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span><span style="position: absolute; top: -4.318em; left: 0.488em;"><span class="texatom" id="MathJax-Span-4557"><span class="mrow" id="MathJax-Span-4558"><span class="mi" id="MathJax-Span-4559" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-4560" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4561" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span></span></span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.983em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-326">\delta^{x,L}</script>:</strong> Compute the vector
  <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-327-Frame"><nobr><span class="math" id="MathJax-Span-4562" role="math" style="width: 10.346em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.15em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4563"><span class="msubsup" id="MathJax-Span-4564"><span style="display: inline-block; position: relative; width: 1.669em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4565" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="texatom" id="MathJax-Span-4566"><span class="mrow" id="MathJax-Span-4567"><span class="mi" id="MathJax-Span-4568" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-4569" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4570" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4571" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="msubsup" id="MathJax-Span-4572" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.218em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4573" style="font-family: MathJax_Main;">∇</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.836em;"><span class="mi" id="MathJax-Span-4574" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4575"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4576" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-4577" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4578" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-4579" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4580" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.64em;"><span class="mo" id="MathJax-Span-4581" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4582" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4583"><span style="display: inline-block; position: relative; width: 1.669em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4584" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4585"><span class="mrow" id="MathJax-Span-4586"><span class="mi" id="MathJax-Span-4587" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-4588" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4589" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4590" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-327">\delta^{x,L} = \nabla_a C_x \odot \sigma'(z^{x,L})</script>.<p></p><p></p></li><li> <strong>Backpropagate the error:</strong> For each <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-328-Frame"><nobr><span class="math" id="MathJax-Span-4591" role="math" style="width: 9.904em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.708em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4592"><span class="mi" id="MathJax-Span-4593" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4594" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-4595" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">L</span><span class="mo" id="MathJax-Span-4596" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mn" id="MathJax-Span-4597" style="font-family: MathJax_Main; padding-left: 0.248em;">1</span><span class="mo" id="MathJax-Span-4598" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4599" style="font-family: MathJax_Math-italic; padding-left: 0.15em;">L</span><span class="mo" id="MathJax-Span-4600" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mn" id="MathJax-Span-4601" style="font-family: MathJax_Main; padding-left: 0.248em;">2</span><span class="mo" id="MathJax-Span-4602" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-4603" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span><span class="mo" id="MathJax-Span-4604" style="font-family: MathJax_Main; padding-left: 0.15em;">,</span><span class="mn" id="MathJax-Span-4605" style="font-family: MathJax_Main; padding-left: 0.15em;">2</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-328">l = L-1, L-2,
  \ldots, 2</script> compute <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-329-Frame"><nobr><span class="math" id="MathJax-Span-4606" role="math" style="width: 13.728em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.434em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4607"><span class="msubsup" id="MathJax-Span-4608"><span style="display: inline-block; position: relative; width: 1.375em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4609" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="texatom" id="MathJax-Span-4610"><span class="mrow" id="MathJax-Span-4611"><span class="mi" id="MathJax-Span-4612" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-4613" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4614" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4615" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-4616" style="font-family: MathJax_Main; padding-left: 0.297em;">(</span><span class="mo" id="MathJax-Span-4617" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4618"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4619" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.738em;"><span class="texatom" id="MathJax-Span-4620"><span class="mrow" id="MathJax-Span-4621"><span class="mi" id="MathJax-Span-4622" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4623" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4624" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4625"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-4626" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="mi" id="MathJax-Span-4627" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4628"><span style="display: inline-block; position: relative; width: 2.306em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4629" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="texatom" id="MathJax-Span-4630"><span class="mrow" id="MathJax-Span-4631"><span class="mi" id="MathJax-Span-4632" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-4633" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4634" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4635" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4636" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4637" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4638" style="font-family: MathJax_Main; padding-left: 0.248em;">⊙</span><span class="msup" id="MathJax-Span-4639" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4640" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.64em;"><span class="mo" id="MathJax-Span-4641" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4642" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4643"><span style="display: inline-block; position: relative; width: 1.424em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4644" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4645"><span class="mrow" id="MathJax-Span-4646"><span class="mi" id="MathJax-Span-4647" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-4648" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4649" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4650" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-329">\delta^{x,l} = ((w^{l+1})^T \delta^{x,l+1})
  \odot \sigma'(z^{x,l})</script>.
</li></ul><p></p><p></p></li><li> <strong>Gradient descent:</strong> For each <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-330-Frame"><nobr><span class="math" id="MathJax-Span-4651" role="math" style="width: 8.042em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.895em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4652"><span class="mi" id="MathJax-Span-4653" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4654" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-4655" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">L</span><span class="mo" id="MathJax-Span-4656" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4657" style="font-family: MathJax_Math-italic; padding-left: 0.15em;">L</span><span class="mo" id="MathJax-Span-4658" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mn" id="MathJax-Span-4659" style="font-family: MathJax_Main; padding-left: 0.248em;">1</span><span class="mo" id="MathJax-Span-4660" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-4661" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span><span class="mo" id="MathJax-Span-4662" style="font-family: MathJax_Main; padding-left: 0.15em;">,</span><span class="mn" id="MathJax-Span-4663" style="font-family: MathJax_Main; padding-left: 0.15em;">2</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-330">l = L, L-1, \ldots, 2</script>
  update the weights according to the rule <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-331-Frame"><nobr><span class="math" id="MathJax-Span-4664" role="math" style="width: 12.993em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.748em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4665"><span class="msubsup" id="MathJax-Span-4666"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4667" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-4668" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4669" style="font-family: MathJax_Main; padding-left: 0.297em;">→</span><span class="msubsup" id="MathJax-Span-4670" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4671" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-4672" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4673" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mfrac" id="MathJax-Span-4674" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -4.556em; left: 50%; margin-left: -0.194em;"><span class="mi" id="MathJax-Span-4675" style="font-size: 70.7%; font-family: MathJax_Math-italic;">η<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.674em; left: 50%; margin-left: -0.292em;"><span class="mi" id="MathJax-Span-4676" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 0.738em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="munderover" id="MathJax-Span-4677" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.522em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-4678" style="font-family: MathJax_Size1; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.723em; left: 1.081em;"><span class="mi" id="MathJax-Span-4679" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4680" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.375em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4681" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="texatom" id="MathJax-Span-4682"><span class="mrow" id="MathJax-Span-4683"><span class="mi" id="MathJax-Span-4684" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-4685" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4686" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4687" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4688"><span style="display: inline-block; position: relative; width: 2.306em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4689" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-4690"><span class="mrow" id="MathJax-Span-4691"><span class="mi" id="MathJax-Span-4692" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-4693" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4694" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-4695" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-4696" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4697"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-4698" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="mi" id="MathJax-Span-4699" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.1em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.398em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-331">w^l \rightarrow
  w^l-\frac{\eta}{m} \sum_x \delta^{x,l} (a^{x,l-1})^T</script>, and the
  biases according to the rule <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-332-Frame"><nobr><span class="math" id="MathJax-Span-4700" role="math" style="width: 8.679em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.483em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.512em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4701"><span class="msubsup" id="MathJax-Span-4702"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4703" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-4704" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4705" style="font-family: MathJax_Main; padding-left: 0.297em;">→</span><span class="msubsup" id="MathJax-Span-4706" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4707" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-4708" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4709" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mfrac" id="MathJax-Span-4710" style="padding-left: 0.248em;"><span style="display: inline-block; position: relative; width: 0.738em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -4.556em; left: 50%; margin-left: -0.194em;"><span class="mi" id="MathJax-Span-4711" style="font-size: 70.7%; font-family: MathJax_Math-italic;">η<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.674em; left: 50%; margin-left: -0.292em;"><span class="mi" id="MathJax-Span-4712" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 0.738em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="munderover" id="MathJax-Span-4713" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.522em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-4714" style="font-family: MathJax_Size1; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.723em; left: 1.081em;"><span class="mi" id="MathJax-Span-4715" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4716" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.375em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4717" style="font-family: MathJax_Math-italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.493em;"><span class="texatom" id="MathJax-Span-4718"><span class="mrow" id="MathJax-Span-4719"><span class="mi" id="MathJax-Span-4720" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-4721" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4722" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.398em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-332">b^l \rightarrow b^l-\frac{\eta}{m}
  \sum_x \delta^{x,l}</script>.<p></p><p></p></li></ol>
Of course, to implement stochastic gradient descent in practice you
also need an outer loop generating mini-batches of training examples,
and an outer loop stepping through multiple epochs of training.  I've
omitted those for simplicity.  <p></p><p></p><p>
</p><h3><a name="the_code_for_backpropagation"></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#the_code_for_backpropagation">The code for backpropagation</a></h3><p></p><p>Having understood backpropagation in the abstract, we can now
understand the code used in the last chapter to implement
backpropagation.  Recall from
<a href="http://neuralnetworksanddeeplearning.com/chap1.html#implementing_our_network_to_classify_digits">that
  chapter</a> that the code was contained in the <tt>update_mini_batch</tt>
and <tt>backprop</tt> methods of the <tt>Network</tt> class.  The code for
these methods is a direct translation of the algorithm described
above.  In particular, the <tt>update_mini_batch</tt> method updates the
<tt>Network</tt>'s weights and biases by computing the gradient for the
current <tt>mini_batch</tt> of training examples:
</p><div class="highlight"><pre><span class="k">class</span> <span class="nc">Network</span><span class="p">():</span>
<span class="o">...</span>
    <span class="k">def</span> <span class="nf">update_mini_batch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mini_batch</span><span class="p">,</span> <span class="n">eta</span><span class="p">):</span>
        <span class="sd">"""Update the network's weights and biases by applying</span>
<span class="sd">        gradient descent using backpropagation to a single mini batch.</span>
<span class="sd">        The "mini_batch" is a list of tuples "(x, y)", and "eta"</span>
<span class="sd">        is the learning rate."""</span>
        <span class="n">nabla_b</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">biases</span><span class="p">]</span>
        <span class="n">nabla_w</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">w</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">weights</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">mini_batch</span><span class="p">:</span>
            <span class="n">delta_nabla_b</span><span class="p">,</span> <span class="n">delta_nabla_w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">backprop</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            <span class="n">nabla_b</span> <span class="o">=</span> <span class="p">[</span><span class="n">nb</span><span class="o">+</span><span class="n">dnb</span> <span class="k">for</span> <span class="n">nb</span><span class="p">,</span> <span class="n">dnb</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">nabla_b</span><span class="p">,</span> <span class="n">delta_nabla_b</span><span class="p">)]</span>
            <span class="n">nabla_w</span> <span class="o">=</span> <span class="p">[</span><span class="n">nw</span><span class="o">+</span><span class="n">dnw</span> <span class="k">for</span> <span class="n">nw</span><span class="p">,</span> <span class="n">dnw</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">nabla_w</span><span class="p">,</span> <span class="n">delta_nabla_w</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="o">-</span><span class="p">(</span><span class="n">eta</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">mini_batch</span><span class="p">))</span><span class="o">*</span><span class="n">nw</span> 
                        <span class="k">for</span> <span class="n">w</span><span class="p">,</span> <span class="n">nw</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">weights</span><span class="p">,</span> <span class="n">nabla_w</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">biases</span> <span class="o">=</span> <span class="p">[</span><span class="n">b</span><span class="o">-</span><span class="p">(</span><span class="n">eta</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">mini_batch</span><span class="p">))</span><span class="o">*</span><span class="n">nb</span> 
                       <span class="k">for</span> <span class="n">b</span><span class="p">,</span> <span class="n">nb</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">biases</span><span class="p">,</span> <span class="n">nabla_b</span><span class="p">)]</span>
</pre></div>

Most of the work is done by the line
<tt>delta_nabla_b, delta_nabla_w = self.backprop(x, y)</tt> which uses
the <tt>backprop</tt> method to figure out the partial derivatives
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-333-Frame"><nobr><span class="math" id="MathJax-Span-4723" role="math" style="width: 3.728em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.63em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4724"><span class="mi" id="MathJax-Span-4725" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4726"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4727" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-4728" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="texatom" id="MathJax-Span-4729"><span class="mrow" id="MathJax-Span-4730"><span class="mo" id="MathJax-Span-4731" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-4732" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4733"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4734" style="font-family: MathJax_Math-italic;">b</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.444em;"><span class="mi" id="MathJax-Span-4735" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.444em;"><span class="mi" id="MathJax-Span-4736" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-333">\partial C_x / \partial b^l_j</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-334-Frame"><nobr><span class="math" id="MathJax-Span-4737" role="math" style="width: 4.365em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.267em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4738"><span class="mi" id="MathJax-Span-4739" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4740"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4741" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-4742" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="texatom" id="MathJax-Span-4743"><span class="mrow" id="MathJax-Span-4744"><span class="mo" id="MathJax-Span-4745" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-4746" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4747"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4748" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-4749" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-4750"><span class="mrow" id="MathJax-Span-4751"><span class="mi" id="MathJax-Span-4752" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-4753" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-334">\partial C_x / \partial
w^l_{jk}</script>.  The <tt>backprop</tt> method follows the algorithm in the
last section closely.  There is one small change - we use a slightly
different approach to indexing the layers.  This change is made to
take advantage of a feature of Python, namely the use of negative list
indices to count backward from the end of a list, so, e.g.,
<tt>l[-3]</tt> is the third last entry in a list <tt>l</tt>.  The code for
<tt>backprop</tt> is below, together with a few helper functions, which
are used to compute the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-335-Frame"><nobr><span class="math" id="MathJax-Span-4754" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4755"><span class="mi" id="MathJax-Span-4756" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-335">\sigma</script> function and its vectorized form, the
derivative <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-336-Frame"><nobr><span class="math" id="MathJax-Span-4757" role="math" style="width: 0.934em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4758"><span class="msup" id="MathJax-Span-4759"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4760" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.64em;"><span class="mo" id="MathJax-Span-4761" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.903em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-336">\sigma'</script> and its vectorized form, and the derivative of
the cost function.  With these inclusions you should be able to
understand the code in a self-contained way.  If something's tripping
you up, you may find it helpful to consult
<a href="http://neuralnetworksanddeeplearning.com/chap1.html#implementing_our_network_to_classify_digits">the
  original description (and complete listing) of the code</a>.
<div class="highlight"><pre><span class="k">class</span> <span class="nc">Network</span><span class="p">():</span>
<span class="o">...</span>
   <span class="k">def</span> <span class="nf">backprop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">"""Return a tuple "(nabla_b, nabla_w)" representing the</span>
<span class="sd">        gradient for the cost function C_x.  "nabla_b" and</span>
<span class="sd">        "nabla_w" are layer-by-layer lists of numpy arrays, similar</span>
<span class="sd">        to "self.biases" and "self.weights"."""</span>
        <span class="n">nabla_b</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">biases</span><span class="p">]</span>
        <span class="n">nabla_w</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">w</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">weights</span><span class="p">]</span>
        <span class="c"># feedforward</span>
        <span class="n">activation</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">activations</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="c"># list to store all the activations, layer by layer</span>
        <span class="n">zs</span> <span class="o">=</span> <span class="p">[]</span> <span class="c"># list to store all the z vectors, layer by layer</span>
        <span class="k">for</span> <span class="n">b</span><span class="p">,</span> <span class="n">w</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">biases</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">weights</span><span class="p">):</span>
            <span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">activation</span><span class="p">)</span><span class="o">+</span><span class="n">b</span>
            <span class="n">zs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
            <span class="n">activation</span> <span class="o">=</span> <span class="n">sigmoid_vec</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
            <span class="n">activations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">activation</span><span class="p">)</span>
        <span class="c"># backward pass</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cost_derivative</span><span class="p">(</span><span class="n">activations</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">y</span><span class="p">)</span> <span class="o">*</span> \
            <span class="n">sigmoid_prime_vec</span><span class="p">(</span><span class="n">zs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">nabla_b</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">delta</span>
        <span class="n">nabla_w</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="n">activations</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">transpose</span><span class="p">())</span>
        <span class="c"># Note that the variable l in the loop below is used a little</span>
        <span class="c"># differently to the notation in Chapter 2 of the book.  Here,</span>
        <span class="c"># l = 1 means the last layer of neurons, l = 2 is the</span>
        <span class="c"># second-last layer, and so on.  It's a renumbering of the</span>
        <span class="c"># scheme in the book, used here to take advantage of the fact</span>
        <span class="c"># that Python can use negative indices in lists.</span>
        <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_layers</span><span class="p">):</span>
            <span class="n">z</span> <span class="o">=</span> <span class="n">zs</span><span class="p">[</span><span class="o">-</span><span class="n">l</span><span class="p">]</span>
            <span class="n">spv</span> <span class="o">=</span> <span class="n">sigmoid_prime_vec</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">weights</span><span class="p">[</span><span class="o">-</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">transpose</span><span class="p">(),</span> <span class="n">delta</span><span class="p">)</span> <span class="o">*</span> <span class="n">spv</span>
            <span class="n">nabla_b</span><span class="p">[</span><span class="o">-</span><span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="n">delta</span>
            <span class="n">nabla_w</span><span class="p">[</span><span class="o">-</span><span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="n">activations</span><span class="p">[</span><span class="o">-</span><span class="n">l</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">transpose</span><span class="p">())</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">nabla_b</span><span class="p">,</span> <span class="n">nabla_w</span><span class="p">)</span>

<span class="o">...</span>

    <span class="k">def</span> <span class="nf">cost_derivative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_activations</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">"""Return the vector of partial derivatives \partial C_x /</span>
<span class="sd">        \partial a for the output activations."""</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">output_activations</span><span class="o">-</span><span class="n">y</span><span class="p">)</span> 

<span class="k">def</span> <span class="nf">sigmoid</span><span class="p">(</span><span class="n">z</span><span class="p">):</span>
    <span class="sd">"""The sigmoid function."""</span>
    <span class="k">return</span> <span class="mf">1.0</span><span class="o">/</span><span class="p">(</span><span class="mf">1.0</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">z</span><span class="p">))</span>

<span class="n">sigmoid_vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">sigmoid</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">sigmoid_prime</span><span class="p">(</span><span class="n">z</span><span class="p">):</span>
    <span class="sd">"""Derivative of the sigmoid function."""</span>
    <span class="k">return</span> <span class="n">sigmoid</span><span class="p">(</span><span class="n">z</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">sigmoid</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>

<span class="n">sigmoid_prime_vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">sigmoid_prime</span><span class="p">)</span>
</pre></div>
<p></p><p><a id="backprop_over_minibatch"></a>
</p><h4><a name="problem_269962"></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#problem_269962">Problem</a></h4><ul>
<li><strong>Fully matrix-based approach to backpropagation over a
  mini-batch</strong> Our implementation of stochastic gradient descent loops
  over training examples in a mini-batch.  It's possible to modify the
  backpropagation algorithm so that it computes the gradients for all
  training examples in a mini-batch simultaneously.  The idea is that
  instead of beginning with a single input vector, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-337-Frame"><nobr><span class="math" id="MathJax-Span-4762" role="math" style="width: 0.591em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.591em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4763"><span class="mi" id="MathJax-Span-4764" style="font-family: MathJax_Math-italic;">x</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.552em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-337">x</script>, we can begin
  with a matrix <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-338-Frame"><nobr><span class="math" id="MathJax-Span-4765" role="math" style="width: 7.65em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.502em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4766"><span class="mi" id="MathJax-Span-4767" style="font-family: MathJax_Math-italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-4768" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mo" id="MathJax-Span-4769" style="font-family: MathJax_Main; padding-left: 0.297em;">[</span><span class="msubsup" id="MathJax-Span-4770"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4771" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.591em;"><span class="mn" id="MathJax-Span-4772" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-4773"><span style="display: inline-block; position: relative; width: 0.983em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4774" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.591em;"><span class="mn" id="MathJax-Span-4775" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4776" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span><span class="msubsup" id="MathJax-Span-4777" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4778" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.591em;"><span class="mi" id="MathJax-Span-4779" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4780" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-338">X = [x_1 x_2 \ldots x_m]</script> whose columns are the
  vectors in the mini-batch.  We forward-propagate by multiplying by
  the weight matrices, adding a suitable matrix for the bias terms,
  and applying the sigmoid function everywhere. We backpropagate along
  similar lines.  Explicitly write out pseudocode for this approach to
  the backpropagation algorithm.  Modify <tt>network.py</tt> so that it
  uses this fully matrix-based approach.  The advantage of this
  approach is that it takes full advantage of modern libraries for
  linear algebra.  As a result it can be quite a bit faster than
  looping over the mini-batch.  (On my laptop, for example, the
  speedup is about a factor of two when run on MNIST classification
  problems like those we considered in the last chapter.)  In
  practice, all serious libraries for backpropagation use this fully
  matrix-based approach or some variant.
</li></ul><p></p><p></p><h3><a name="in_what_sense_is_backpropagation_a_fast_algorithm"></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#in_what_sense_is_backpropagation_a_fast_algorithm">In what sense is backpropagation a fast algorithm?</a></h3><p></p><p>In what sense is backpropagation a fast algorithm?  To answer this
question, let's consider another approach to computing the gradient.
Imagine it's the early days of neural networks research.  Maybe it's
the 1950s or 1960s, and you're the first person in the world to think
of using gradient descent to learn!  But to make the idea work you
need a way of computing the gradient of the cost function.  You think
back to your knowledge of calculus, and decide to see if you can use
the chain rule to compute the gradient.  But after playing around a
bit, the algebra looks complicated, and you get discouraged.  So you
try to find another approach.  You decide to regard the cost as a
function of the weights <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-339-Frame"><nobr><span class="math" id="MathJax-Span-4781" role="math" style="width: 4.463em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.365em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4782"><span class="mi" id="MathJax-Span-4783" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-4784" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="mi" id="MathJax-Span-4785" style="font-family: MathJax_Math-italic; padding-left: 0.297em;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-4786" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4787" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-4788" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-339">C = C(w)</script> alone (we'll get back to the biases
in a moment).  You number the weights <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-340-Frame"><nobr><span class="math" id="MathJax-Span-4789" role="math" style="width: 4.414em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.316em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4790"><span class="msubsup" id="MathJax-Span-4791"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4792" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mn" id="MathJax-Span-4793" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4794" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-4795" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4796" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mn" id="MathJax-Span-4797" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4798" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-4799" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.753em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-340">w_1, w_2, \ldots</script>, and want to
compute <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-341-Frame"><nobr><span class="math" id="MathJax-Span-4800" role="math" style="width: 3.581em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.483em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4801"><span class="mi" id="MathJax-Span-4802" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4803" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-4804"><span class="mrow" id="MathJax-Span-4805"><span class="mo" id="MathJax-Span-4806" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-4807" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4808"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4809" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-4810" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.153em; vertical-align: -0.348em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-341">\partial C / \partial w_j</script> for some particular weight <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-342-Frame"><nobr><span class="math" id="MathJax-Span-4811" role="math" style="width: 1.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.463em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4812"><span class="msubsup" id="MathJax-Span-4813"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4814" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-4815" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.348em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-342">w_j</script>.
An obvious way of doing that is to use the approximation
<a class="displaced_anchor" name="eqtn46"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-343-Frame"><nobr><span class="math" id="MathJax-Span-4816" role="math" style="width: 100%; display: inline-block; min-width: 18.679em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 18.679em;"><span style="position: absolute; clip: rect(2.404em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-4817"><span class="mtable" id="MathJax-Span-4818" style="min-width: 19.071em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 18.679em;"><span style="display: inline-block; position: absolute; width: 12.306em; height: 0px; clip: rect(-1.615em 1000.002em 1.13em -999.998em); top: 0.002em; left: 50%; margin-left: -6.174em;"><span style="position: absolute; clip: rect(2.404em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 12.306em; height: 0px;"><span style="position: absolute; clip: rect(2.355em 1000.002em 5.15em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-4822"><span class="mrow" id="MathJax-Span-4823"><span class="mfrac" id="MathJax-Span-4824"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-4825"><span class="mi" id="MathJax-Span-4826" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4827" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -3.331em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-4828"><span class="mi" id="MathJax-Span-4829" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4830"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4831" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="texatom" id="MathJax-Span-4832"><span class="mrow" id="MathJax-Span-4833"><span class="mi" id="MathJax-Span-4834" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-4835" style="font-family: MathJax_Main; padding-left: 0.297em;">≈</span><span class="mfrac" id="MathJax-Span-4836" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 8.434em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -4.752em; left: 50%; margin-left: -4.164em;"><span class="mrow" id="MathJax-Span-4837"><span class="mi" id="MathJax-Span-4838" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-4839" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4840" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-4841" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="mi" id="MathJax-Span-4842" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">ϵ</span><span class="msubsup" id="MathJax-Span-4843"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4844" style="font-family: MathJax_Math-italic;">e</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.493em;"><span class="mi" id="MathJax-Span-4845" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4846" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4847" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mi" id="MathJax-Span-4848" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-4849" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4850" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-4851" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -3.331em; left: 50%; margin-left: -0.194em;"><span class="mi" id="MathJax-Span-4852" style="font-family: MathJax_Math-italic;">ϵ</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 8.434em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-4853" style="font-family: MathJax_Main;">,</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.88em 1000.002em 0.395em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="mjx-eqn-46"><span class="mrow" id="MathJax-Span-4820"><span class="mtext" id="MathJax-Span-4821" style="font-family: MathJax_Main;">(46)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.652em; vertical-align: -1.047em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-343">\begin{eqnarray}  \frac{\partial
    C}{\partial w_{j}} \approx \frac{C(w+\epsilon
    e_j)-C(w)}{\epsilon},
\tag{46}\end{eqnarray}</script>
where <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-344-Frame"><nobr><span class="math" id="MathJax-Span-4854" role="math" style="width: 2.306em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.257em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.218em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4855"><span class="mi" id="MathJax-Span-4856" style="font-family: MathJax_Math-italic;">ϵ</span><span class="mo" id="MathJax-Span-4857" style="font-family: MathJax_Main; padding-left: 0.297em;">&gt;</span><span class="mn" id="MathJax-Span-4858" style="font-family: MathJax_Main; padding-left: 0.297em;">0</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.802em; vertical-align: -0.098em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-344">\epsilon > 0</script> is a small positive number, and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-345-Frame"><nobr><span class="math" id="MathJax-Span-4859" role="math" style="width: 0.885em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.463em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4860"><span class="msubsup" id="MathJax-Span-4861"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4862" style="font-family: MathJax_Math-italic;">e</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.493em;"><span class="mi" id="MathJax-Span-4863" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.348em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-345">e_j</script> is the unit
vector in the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-346-Frame"><nobr><span class="math" id="MathJax-Span-4864" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4865"><span class="msubsup" id="MathJax-Span-4866"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4867" style="font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-4868"><span class="mrow" id="MathJax-Span-4869"><span class="mi" id="MathJax-Span-4870" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-4871" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-346">j^{\rm th}</script> direction.  In other words, we can estimate
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-347-Frame"><nobr><span class="math" id="MathJax-Span-4872" role="math" style="width: 3.581em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.483em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4873"><span class="mi" id="MathJax-Span-4874" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4875" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-4876"><span class="mrow" id="MathJax-Span-4877"><span class="mo" id="MathJax-Span-4878" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-4879" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4880"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4881" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-4882" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.153em; vertical-align: -0.348em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-347">\partial C / \partial w_j</script> by computing the cost <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-348-Frame"><nobr><span class="math" id="MathJax-Span-4883" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4884"><span class="mi" id="MathJax-Span-4885" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-348">C</script> for two slightly
different values of <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-349-Frame"><nobr><span class="math" id="MathJax-Span-4886" role="math" style="width: 1.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.463em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4887"><span class="msubsup" id="MathJax-Span-4888"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4889" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-4890" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.348em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-349">w_j</script>, and then applying
Equation <span id="margin_474714476887_reveal" class="equation_link">(46)</span><span id="margin_474714476887" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn46" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-350-Frame"><nobr><span class="math" id="MathJax-Span-4891" role="math" style="width: 12.6em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.355em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.404em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4892"><span class="mtable" id="MathJax-Span-4893" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 12.061em; height: 0px;"><span style="position: absolute; clip: rect(2.404em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 12.061em; height: 0px;"><span style="position: absolute; clip: rect(2.355em 1000.002em 5.15em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-4894"><span class="mrow" id="MathJax-Span-4895"><span class="mfrac" id="MathJax-Span-4896"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-4897"><span class="mi" id="MathJax-Span-4898" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4899" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -3.331em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-4900"><span class="mi" id="MathJax-Span-4901" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4902"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4903" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="texatom" id="MathJax-Span-4904"><span class="mrow" id="MathJax-Span-4905"><span class="mi" id="MathJax-Span-4906" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-4907" style="font-family: MathJax_Main; padding-left: 0.297em;">≈</span><span class="mfrac" id="MathJax-Span-4908" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 8.434em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -4.752em; left: 50%; margin-left: -4.164em;"><span class="mrow" id="MathJax-Span-4909"><span class="mi" id="MathJax-Span-4910" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-4911" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4912" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-4913" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="mi" id="MathJax-Span-4914" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">ϵ</span><span class="msubsup" id="MathJax-Span-4915"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4916" style="font-family: MathJax_Math-italic;">e</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.493em;"><span class="mi" id="MathJax-Span-4917" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4918" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4919" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mi" id="MathJax-Span-4920" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-4921" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4922" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-4923" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -3.331em; left: 50%; margin-left: -0.194em;"><span class="mi" id="MathJax-Span-4924" style="font-family: MathJax_Math-italic;">ϵ</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 8.434em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.652em; vertical-align: -1.047em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-350">\begin{eqnarray}  \frac{\partial
    C}{\partial w_{j}} \approx \frac{C(w+\epsilon
    e_j)-C(w)}{\epsilon} \nonumber\end{eqnarray}</script></a></span><script>$('#margin_474714476887_reveal').click(function() {$('#margin_474714476887').toggle('slow', function() {});});</script>.  The same idea will let us
compute the partial derivatives <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-351-Frame"><nobr><span class="math" id="MathJax-Span-4925" role="math" style="width: 2.895em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.846em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4926"><span class="mi" id="MathJax-Span-4927" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4928" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-4929"><span class="mrow" id="MathJax-Span-4930"><span class="mo" id="MathJax-Span-4931" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-4932" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4933" style="font-family: MathJax_Math-italic;">b</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-351">\partial C / \partial b</script> with respect
to the biases.</p><p>This approach looks very promising.  It's simple conceptually, and
extremely easy to implement, using just a few lines of code.
Certainly, it looks much more promising than the idea of using the
chain rule to compute the gradient!</p><p>Unfortunately, while this approach appears promising, when you
implement the code it turns out to be extremely slow.  To understand
why, imagine we have a million weights in our network.  Then for each
distinct weight <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-352-Frame"><nobr><span class="math" id="MathJax-Span-4934" role="math" style="width: 1.13em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.463em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4935"><span class="msubsup" id="MathJax-Span-4936"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4937" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-4938" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.348em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-352">w_j</script> we need to compute <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-353-Frame"><nobr><span class="math" id="MathJax-Span-4939" role="math" style="width: 4.855em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.757em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4940"><span class="mi" id="MathJax-Span-4941" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-4942" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4943" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-4944" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="mi" id="MathJax-Span-4945" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">ϵ</span><span class="msubsup" id="MathJax-Span-4946"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4947" style="font-family: MathJax_Math-italic;">e</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.493em;"><span class="mi" id="MathJax-Span-4948" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-4949" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.153em; vertical-align: -0.348em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-353">C(w+\epsilon e_j)</script> in order
to compute <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-354-Frame"><nobr><span class="math" id="MathJax-Span-4950" role="math" style="width: 3.581em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.483em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4951"><span class="mi" id="MathJax-Span-4952" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4953" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-4954"><span class="mrow" id="MathJax-Span-4955"><span class="mo" id="MathJax-Span-4956" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-4957" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4958"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4959" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-4960" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.153em; vertical-align: -0.348em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-354">\partial C / \partial w_j</script>.  That means that to compute
the gradient we need to compute the cost function a million different
times, requiring a million forward passes through the network (per
training example).  We need to compute <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-355-Frame"><nobr><span class="math" id="MathJax-Span-4961" role="math" style="width: 2.306em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.257em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4962"><span class="mi" id="MathJax-Span-4963" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-4964" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4965" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-4966" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-355">C(w)</script> as well, so that's a
total of a million and one passes through the network.</p><p>What's clever about backpropagation is that it enables us to
simultaneously compute <em>all</em> the partial derivatives <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-356-Frame"><nobr><span class="math" id="MathJax-Span-4967" role="math" style="width: 3.581em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.483em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4968"><span class="mi" id="MathJax-Span-4969" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4970" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-4971"><span class="mrow" id="MathJax-Span-4972"><span class="mo" id="MathJax-Span-4973" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-4974" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4975"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4976" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="mi" id="MathJax-Span-4977" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.153em; vertical-align: -0.348em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-356">\partial C
/ \partial w_j</script> using just one forward pass through the network,
followed by one backward pass through the network.  Roughly speaking,
the computational cost of the backward pass is about the same as the
forward pass*<span class="marginnote">
*This should be plausible, but it requires some
  analysis to make a careful statement.  It's plausible because the
  dominant computational cost in the forward pass is multiplying by
  the weight matrices, while in the backward pass it's multiplying by
  the transposes of the weight matrices.  These operations obviously
  have similar computational cost.</span>.  And so the total cost of
backpropagation is roughly the same as making just two forward passes
through the network.  Compare that to the million and one forward
passes we needed for the approach based
on <span id="margin_695655404455_reveal" class="equation_link">(46)</span><span id="margin_695655404455" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn46" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-357-Frame"><nobr><span class="math" id="MathJax-Span-4978" role="math" style="width: 12.6em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.355em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.404em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-4979"><span class="mtable" id="MathJax-Span-4980" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 12.061em; height: 0px;"><span style="position: absolute; clip: rect(2.404em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 12.061em; height: 0px;"><span style="position: absolute; clip: rect(2.355em 1000.002em 5.15em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-4981"><span class="mrow" id="MathJax-Span-4982"><span class="mfrac" id="MathJax-Span-4983"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-4984"><span class="mi" id="MathJax-Span-4985" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-4986" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -3.331em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-4987"><span class="mi" id="MathJax-Span-4988" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-4989"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-4990" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="texatom" id="MathJax-Span-4991"><span class="mrow" id="MathJax-Span-4992"><span class="mi" id="MathJax-Span-4993" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-4994" style="font-family: MathJax_Main; padding-left: 0.297em;">≈</span><span class="mfrac" id="MathJax-Span-4995" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 8.434em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -4.752em; left: 50%; margin-left: -4.164em;"><span class="mrow" id="MathJax-Span-4996"><span class="mi" id="MathJax-Span-4997" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-4998" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4999" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-5000" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="mi" id="MathJax-Span-5001" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">ϵ</span><span class="msubsup" id="MathJax-Span-5002"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5003" style="font-family: MathJax_Math-italic;">e</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.493em;"><span class="mi" id="MathJax-Span-5004" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5005" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-5006" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mi" id="MathJax-Span-5007" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-5008" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-5009" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-5010" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -3.331em; left: 50%; margin-left: -0.194em;"><span class="mi" id="MathJax-Span-5011" style="font-family: MathJax_Math-italic;">ϵ</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 8.434em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.652em; vertical-align: -1.047em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-357">\begin{eqnarray}  \frac{\partial
    C}{\partial w_{j}} \approx \frac{C(w+\epsilon
    e_j)-C(w)}{\epsilon} \nonumber\end{eqnarray}</script></a></span><script>$('#margin_695655404455_reveal').click(function() {$('#margin_695655404455').toggle('slow', function() {});});</script>!  And so even though backpropagation
appears superficially more complex than the approach based
on <span id="margin_948317423981_reveal" class="equation_link">(46)</span><span id="margin_948317423981" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn46" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-358-Frame"><nobr><span class="math" id="MathJax-Span-5012" role="math" style="width: 12.6em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.355em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.404em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5013"><span class="mtable" id="MathJax-Span-5014" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 12.061em; height: 0px;"><span style="position: absolute; clip: rect(2.404em 1000.002em 5.15em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 12.061em; height: 0px;"><span style="position: absolute; clip: rect(2.355em 1000.002em 5.15em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-5015"><span class="mrow" id="MathJax-Span-5016"><span class="mfrac" id="MathJax-Span-5017"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-5018"><span class="mi" id="MathJax-Span-5019" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5020" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -3.331em; left: 50%; margin-left: -0.831em;"><span class="mrow" id="MathJax-Span-5021"><span class="mi" id="MathJax-Span-5022" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5023"><span style="display: inline-block; position: relative; width: 1.081em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5024" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5025"><span class="mrow" id="MathJax-Span-5026"><span class="mi" id="MathJax-Span-5027" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.767em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-5028" style="font-family: MathJax_Main; padding-left: 0.297em;">≈</span><span class="mfrac" id="MathJax-Span-5029" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 8.434em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.463em -999.998em); top: -4.752em; left: 50%; margin-left: -4.164em;"><span class="mrow" id="MathJax-Span-5030"><span class="mi" id="MathJax-Span-5031" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-5032" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-5033" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-5034" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="mi" id="MathJax-Span-5035" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">ϵ</span><span class="msubsup" id="MathJax-Span-5036"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5037" style="font-family: MathJax_Math-italic;">e</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -3.87em; left: 0.493em;"><span class="mi" id="MathJax-Span-5038" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5039" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-5040" style="font-family: MathJax_Main; padding-left: 0.248em;">−</span><span class="mi" id="MathJax-Span-5041" style="font-family: MathJax_Math-italic; padding-left: 0.248em;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-5042" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-5043" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-5044" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -3.331em; left: 50%; margin-left: -0.194em;"><span class="mi" id="MathJax-Span-5045" style="font-family: MathJax_Math-italic;">ϵ</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 8.434em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.652em; vertical-align: -1.047em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-358">\begin{eqnarray}  \frac{\partial
    C}{\partial w_{j}} \approx \frac{C(w+\epsilon
    e_j)-C(w)}{\epsilon} \nonumber\end{eqnarray}</script></a></span><script>$('#margin_948317423981_reveal').click(function() {$('#margin_948317423981').toggle('slow', function() {});});</script>, it's actually much, much faster.</p><p>This speedup was first fully appreciated in 1986, and it greatly
expanded the range of problems that neural networks could solve.
That, in turn, caused a rush of people using neural networks.  Of
course, backpropagation is not a panacea.  Even in the late 1980s
people ran up against limits, especially when attempting to use
backpropagation to train deep neural networks, i.e., networks with
many hidden layers.  Later in the book we'll see how modern computers
and some clever new ideas now make it possible to use backpropagation
to train such deep neural networks.</p><p></p><h3><a name="backpropagation_the_big_picture"></a><a href="http://neuralnetworksanddeeplearning.com/chap2.html#backpropagation_the_big_picture">Backpropagation: the big picture</a></h3><p></p><p>As I've explained it, backpropagation presents two mysteries.  First,
what's the algorithm really doing?  We've developed a picture of the
error being backpropagated from the output.  But can we go any deeper,
and build up more intuition about what is going on when we do all
these matrix and vector multiplications?  The second mystery is how
someone could ever have discovered backpropagation in the first place?
It's one thing to follow the steps in an algorithm, or even to follow
the proof that the algorithm works.  But that doesn't mean you
understand the problem so well that you could have discovered the
algorithm in the first place.  Is there a plausible line of reasoning
that could have led you to discover the backpropagation algorithm?  In
this section I'll address both these mysteries.</p><p>To improve our intuition about what the algorithm is doing, let's
imagine that we've made a small change <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-359-Frame"><nobr><span class="math" id="MathJax-Span-5046" role="math" style="width: 2.355em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.306em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5047"><span class="mi" id="MathJax-Span-5048" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5049"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5050" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5051" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5052"><span class="mrow" id="MathJax-Span-5053"><span class="mi" id="MathJax-Span-5054" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5055" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-359">\Delta w^l_{jk}</script> to some
weight in the network, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-360-Frame"><nobr><span class="math" id="MathJax-Span-5056" role="math" style="width: 1.522em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5057"><span class="msubsup" id="MathJax-Span-5058"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5059" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5060" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5061"><span class="mrow" id="MathJax-Span-5062"><span class="mi" id="MathJax-Span-5063" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5064" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-360">w^l_{jk}</script>:
</p><center>
<img src="./Neural networks and deep learning 2_files/tikz22.png">
</center>
That change in weight will cause a change in the output activation
from the corresponding neuron:
<center>
<img src="./Neural networks and deep learning 2_files/tikz23.png">
</center>
That, in turn, will cause a change in <em>all</em> the activations in
the next layer:
<center>
<img src="./Neural networks and deep learning 2_files/tikz24.png">
</center>
Those changes will in turn cause changes in the next layer, and then
the next, and so on all the way through to causing a change in the
final layer, and then in the cost function:
<center>
<img src="./Neural networks and deep learning 2_files/tikz25.png">
</center>
The change <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-361-Frame"><nobr><span class="math" id="MathJax-Span-5065" role="math" style="width: 1.62em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.571em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5066"><span class="mi" id="MathJax-Span-5067" style="font-family: MathJax_Main;">Δ</span><span class="mi" id="MathJax-Span-5068" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-361">\Delta C</script> in the cost is related to the change <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-362-Frame"><nobr><span class="math" id="MathJax-Span-5069" role="math" style="width: 2.355em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.306em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5070"><span class="mi" id="MathJax-Span-5071" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5072"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5073" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5074" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5075"><span class="mrow" id="MathJax-Span-5076"><span class="mi" id="MathJax-Span-5077" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5078" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-362">\Delta
w^l_{jk}</script> in the weight by the equation
<a class="displaced_anchor" name="eqtn47"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-363-Frame"><nobr><span class="math" id="MathJax-Span-5079" role="math" style="width: 100%; display: inline-block; min-width: 14.365em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 14.365em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-5080"><span class="mtable" id="MathJax-Span-5081" style="min-width: 14.659em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 14.365em;"><span style="display: inline-block; position: absolute; width: 7.895em; height: 0px; clip: rect(-1.713em 1000.002em 1.228em -999.998em); top: 0.002em; left: 50%; margin-left: -3.968em;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.895em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-5085"><span class="mrow" id="MathJax-Span-5086"><span class="mi" id="MathJax-Span-5087" style="font-family: MathJax_Main;">Δ</span><span class="mi" id="MathJax-Span-5088" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-5089" style="font-family: MathJax_Main; padding-left: 0.297em;">≈</span><span class="mfrac" id="MathJax-Span-5090" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-5091"><span class="mi" id="MathJax-Span-5092" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5093" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-5094"><span class="mi" id="MathJax-Span-5095" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5096"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5097" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5098" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5099"><span class="mrow" id="MathJax-Span-5100"><span class="mi" id="MathJax-Span-5101" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5102" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mi" id="MathJax-Span-5103" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5104"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5105" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5106" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5107"><span class="mrow" id="MathJax-Span-5108"><span class="mi" id="MathJax-Span-5109" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5110" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5111" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-1.076em 1000.002em 0.199em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="mjx-eqn-47"><span class="mrow" id="MathJax-Span-5083"><span class="mtext" id="MathJax-Span-5084" style="font-family: MathJax_Main;">(47)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-363">\begin{eqnarray} 
  \Delta C \approx \frac{\partial C}{\partial w^l_{jk}} \Delta w^l_{jk}.
\tag{47}\end{eqnarray}</script>
This suggests that a possible approach to computing <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-364-Frame"><nobr><span class="math" id="MathJax-Span-5112" role="math" style="width: 1.816em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.767em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.944em 1000.002em 5.002em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5113"><span class="mfrac" id="MathJax-Span-5114"><span style="display: inline-block; position: relative; width: 1.571em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.458em; left: 50%; margin-left: -0.488em;"><span class="mrow" id="MathJax-Span-5115"><span class="mi" id="MathJax-Span-5116" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5117" style="font-size: 70.7%; font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.287em 1000.002em 4.512em -999.998em); top: -3.527em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-5118"><span class="mi" id="MathJax-Span-5119" style="font-size: 70.7%; font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5120"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5121" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.169em -999.998em); top: -4.262em; left: 0.493em;"><span class="mi" id="MathJax-Span-5122" style="font-size: 50%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.532em 1000.002em 4.267em -999.998em); top: -3.772em; left: 0.493em;"><span class="texatom" id="MathJax-Span-5123"><span class="mrow" id="MathJax-Span-5124"><span class="mi" id="MathJax-Span-5125" style="font-size: 50%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5126" style="font-size: 50%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.571em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.902em; vertical-align: -0.897em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-364">\frac{\partial
  C}{\partial w^l_{jk}}</script> is to carefully track how a small change in
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-365-Frame"><nobr><span class="math" id="MathJax-Span-5127" role="math" style="width: 1.522em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5128"><span class="msubsup" id="MathJax-Span-5129"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5130" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5131" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5132"><span class="mrow" id="MathJax-Span-5133"><span class="mi" id="MathJax-Span-5134" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5135" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-365">w^l_{jk}</script> propagates to cause a small change in <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-366-Frame"><nobr><span class="math" id="MathJax-Span-5136" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5137"><span class="mi" id="MathJax-Span-5138" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-366">C</script>.  If we can do
that, being careful to express everything along the way in terms of
easily computable quantities, then we should be able to compute
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-367-Frame"><nobr><span class="math" id="MathJax-Span-5139" role="math" style="width: 3.924em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.826em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5140"><span class="mi" id="MathJax-Span-5141" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5142" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-5143"><span class="mrow" id="MathJax-Span-5144"><span class="mo" id="MathJax-Span-5145" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-5146" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5147"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5148" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5149" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5150"><span class="mrow" id="MathJax-Span-5151"><span class="mi" id="MathJax-Span-5152" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5153" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-367">\partial C / \partial w^l_{jk}</script>.<p></p><p>Let's try to carry this out.  The change <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-368-Frame"><nobr><span class="math" id="MathJax-Span-5154" role="math" style="width: 2.355em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.306em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5155"><span class="mi" id="MathJax-Span-5156" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5157"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5158" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5159" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5160"><span class="mrow" id="MathJax-Span-5161"><span class="mi" id="MathJax-Span-5162" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5163" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-368">\Delta w^l_{jk}</script> causes a
small change <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-369-Frame"><nobr><span class="math" id="MathJax-Span-5164" role="math" style="width: 1.767em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5165"><span class="mi" id="MathJax-Span-5166" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5167"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5168" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5169"><span class="mrow" id="MathJax-Span-5170"><span class="mi" id="MathJax-Span-5171" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5172" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-369">\Delta a^{l}_j</script> in the activation of the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-370-Frame"><nobr><span class="math" id="MathJax-Span-5173" role="math" style="width: 1.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5174"><span class="msubsup" id="MathJax-Span-5175"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(3.238em 1000.002em 4.365em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5176" style="font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-5177"><span class="mrow" id="MathJax-Span-5178"><span class="mi" id="MathJax-Span-5179" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-5180" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-370">j^{\rm th}</script> neuron in
the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-371-Frame"><nobr><span class="math" id="MathJax-Span-5181" role="math" style="width: 1.081em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5182"><span class="msubsup" id="MathJax-Span-5183"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5184" style="font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.297em;"><span class="texatom" id="MathJax-Span-5185"><span class="mrow" id="MathJax-Span-5186"><span class="mi" id="MathJax-Span-5187" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-5188" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-371">l^{\rm th}</script> layer.  This change is given by
<a class="displaced_anchor" name="eqtn48"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-372-Frame"><nobr><span class="math" id="MathJax-Span-5189" role="math" style="width: 100%; display: inline-block; min-width: 14.512em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 14.512em;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-5190"><span class="mtable" id="MathJax-Span-5191" style="min-width: 14.806em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 14.512em;"><span style="display: inline-block; position: absolute; width: 8.042em; height: 0px; clip: rect(-1.909em 1000.002em 1.424em -999.998em); top: 0.002em; left: 50%; margin-left: -4.017em;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 8.042em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-5195"><span class="mrow" id="MathJax-Span-5196"><span class="mi" id="MathJax-Span-5197" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5198"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5199" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5200" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5201" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5202" style="font-family: MathJax_Main; padding-left: 0.297em;">≈</span><span class="mfrac" id="MathJax-Span-5203" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.949em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-5204"><span class="mi" id="MathJax-Span-5205" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5206"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5207" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5208" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5209" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-5210"><span class="mi" id="MathJax-Span-5211" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5212"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5213" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5214" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5215"><span class="mrow" id="MathJax-Span-5216"><span class="mi" id="MathJax-Span-5217" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5218" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mi" id="MathJax-Span-5219" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5220"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5221" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5222" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5223"><span class="mrow" id="MathJax-Span-5224"><span class="mi" id="MathJax-Span-5225" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5226" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5227" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.929em 1000.002em 0.395em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="mjx-eqn-48"><span class="mrow" id="MathJax-Span-5193"><span class="mtext" id="MathJax-Span-5194" style="font-family: MathJax_Main;">(48)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.202em; vertical-align: -1.347em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-372">\begin{eqnarray} 
  \Delta a^l_j \approx \frac{\partial a^l_j}{\partial w^l_{jk}} \Delta w^l_{jk}.
\tag{48}\end{eqnarray}</script>
The change in activation <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-373-Frame"><nobr><span class="math" id="MathJax-Span-5228" role="math" style="width: 1.767em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5229"><span class="mi" id="MathJax-Span-5230" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5231"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5232" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5233" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5234"><span class="mrow" id="MathJax-Span-5235"><span class="mi" id="MathJax-Span-5236" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-373">\Delta a^l_{j}</script> will cause changes in
<em>all</em> the activations in the next layer, i.e., the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-374-Frame"><nobr><span class="math" id="MathJax-Span-5237" role="math" style="width: 3.679em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.581em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5238"><span class="mo" id="MathJax-Span-5239" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-5240" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-5241" style="font-family: MathJax_Main; padding-left: 0.248em;">+</span><span class="mn" id="MathJax-Span-5242" style="font-family: MathJax_Main; padding-left: 0.248em;">1</span><span class="msubsup" id="MathJax-Span-5243"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mo" id="MathJax-Span-5244" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.36em; left: 0.395em;"><span class="texatom" id="MathJax-Span-5245"><span class="mrow" id="MathJax-Span-5246"><span class="mi" id="MathJax-Span-5247" style="font-size: 70.7%; font-family: MathJax_Main;">t</span><span class="mi" id="MathJax-Span-5248" style="font-size: 70.7%; font-family: MathJax_Main;">h</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.252em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-374">(l+1)^{\rm
  th}</script> layer.  We'll concentrate on the way just a single one of those
activations is affected, say <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-375-Frame"><nobr><span class="math" id="MathJax-Span-5249" role="math" style="width: 1.767em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.463em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5250"><span class="msubsup" id="MathJax-Span-5251"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5252" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5253"><span class="mrow" id="MathJax-Span-5254"><span class="mi" id="MathJax-Span-5255" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-5256" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-5257" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5258" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.348em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-375">a^{l+1}_q</script>,
</p><center>
<img src="./Neural networks and deep learning 2_files/tikz26.png">
</center>
In fact, it'll cause the following change:
<a class="displaced_anchor" name="eqtn49"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-376-Frame"><nobr><span class="math" id="MathJax-Span-5259" role="math" style="width: 100%; display: inline-block; min-width: 15.051em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 15.051em;"><span style="position: absolute; clip: rect(2.159em 1000.002em 5.346em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-5260"><span class="mtable" id="MathJax-Span-5261" style="min-width: 15.346em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 15.051em;"><span style="display: inline-block; position: absolute; width: 8.581em; height: 0px; clip: rect(-1.86em 1000.002em 1.326em -999.998em); top: 0.002em; left: 50%; margin-left: -4.262em;"><span style="position: absolute; clip: rect(2.159em 1000.002em 5.346em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 8.581em; height: 0px;"><span style="position: absolute; clip: rect(2.257em 1000.002em 5.444em -999.998em); top: -4.066em; right: 0.002em;"><span class="mtd" id="MathJax-Span-5265"><span class="mrow" id="MathJax-Span-5266"><span class="mi" id="MathJax-Span-5267" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5268"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5269" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5270"><span class="mrow" id="MathJax-Span-5271"><span class="mi" id="MathJax-Span-5272" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-5273" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-5274" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5275" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5276" style="font-family: MathJax_Main; padding-left: 0.297em;">≈</span><span class="mfrac" id="MathJax-Span-5277" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.463em -999.998em); top: -4.752em; left: 50%; margin-left: -1.125em;"><span class="mrow" id="MathJax-Span-5278"><span class="mi" id="MathJax-Span-5279" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5280"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5281" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5282"><span class="mrow" id="MathJax-Span-5283"><span class="mi" id="MathJax-Span-5284" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-5285" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-5286" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5287" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-5288"><span class="mi" id="MathJax-Span-5289" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5290"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5291" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5292" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5293" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.404em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mi" id="MathJax-Span-5294" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5295"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5296" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5297" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5298" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5299" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.929em 1000.002em 0.346em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.066em; right: 0.002em;"><span class="mtd" id="mjx-eqn-49"><span class="mrow" id="MathJax-Span-5263"><span class="mtext" id="MathJax-Span-5264" style="font-family: MathJax_Main;">(49)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.052em; vertical-align: -1.248em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-376">\begin{eqnarray}
  \Delta a^{l+1}_q \approx \frac{\partial a^{l+1}_q}{\partial a^l_j} \Delta a^l_j.
\tag{49}\end{eqnarray}</script>
Substituting in the expression from Equation <span id="margin_675506514882_reveal" class="equation_link">(48)</span><span id="margin_675506514882" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn48" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-377-Frame"><nobr><span class="math" id="MathJax-Span-5300" role="math" style="width: 8.238em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.042em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5301"><span class="mtable" id="MathJax-Span-5302" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.748em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.748em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-5303"><span class="mrow" id="MathJax-Span-5304"><span class="mi" id="MathJax-Span-5305" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5306"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5307" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5308" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5309" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5310" style="font-family: MathJax_Main; padding-left: 0.297em;">≈</span><span class="mfrac" id="MathJax-Span-5311" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.949em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-5312"><span class="mi" id="MathJax-Span-5313" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5314"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5315" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5316" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5317" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-5318"><span class="mi" id="MathJax-Span-5319" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5320"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5321" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5322" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5323"><span class="mrow" id="MathJax-Span-5324"><span class="mi" id="MathJax-Span-5325" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5326" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mi" id="MathJax-Span-5327" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5328"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5329" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5330" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5331"><span class="mrow" id="MathJax-Span-5332"><span class="mi" id="MathJax-Span-5333" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5334" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.202em; vertical-align: -1.347em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-377">\begin{eqnarray} 
  \Delta a^l_j \approx \frac{\partial a^l_j}{\partial w^l_{jk}} \Delta w^l_{jk} \nonumber\end{eqnarray}</script></a></span><script>$('#margin_675506514882_reveal').click(function() {$('#margin_675506514882').toggle('slow', function() {});});</script>,
we get:
<a class="displaced_anchor" name="eqtn50"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-378-Frame"><nobr><span class="math" id="MathJax-Span-5335" role="math" style="width: 100%; display: inline-block; min-width: 17.895em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 17.895em;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-5336"><span class="mtable" id="MathJax-Span-5337" style="min-width: 18.287em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 17.895em;"><span style="display: inline-block; position: absolute; width: 11.522em; height: 0px; clip: rect(-1.909em 1000.002em 1.424em -999.998em); top: 0.002em; left: 50%; margin-left: -5.733em;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 11.522em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-5341"><span class="mrow" id="MathJax-Span-5342"><span class="mi" id="MathJax-Span-5343" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5344"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5345" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5346"><span class="mrow" id="MathJax-Span-5347"><span class="mi" id="MathJax-Span-5348" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-5349" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-5350" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5351" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5352" style="font-family: MathJax_Main; padding-left: 0.297em;">≈</span><span class="mfrac" id="MathJax-Span-5353" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.463em -999.998em); top: -4.752em; left: 50%; margin-left: -1.125em;"><span class="mrow" id="MathJax-Span-5354"><span class="mi" id="MathJax-Span-5355" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5356"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5357" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5358"><span class="mrow" id="MathJax-Span-5359"><span class="mi" id="MathJax-Span-5360" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-5361" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-5362" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5363" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-5364"><span class="mi" id="MathJax-Span-5365" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5366"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5367" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5368" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5369" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.404em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5370"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.949em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-5371"><span class="mi" id="MathJax-Span-5372" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5373"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5374" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5375" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5376" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-5377"><span class="mi" id="MathJax-Span-5378" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5379"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5380" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5381" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5382"><span class="mrow" id="MathJax-Span-5383"><span class="mi" id="MathJax-Span-5384" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5385" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mi" id="MathJax-Span-5386" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5387"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5388" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5389" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5390"><span class="mrow" id="MathJax-Span-5391"><span class="mi" id="MathJax-Span-5392" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5393" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5394" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.929em 1000.002em 0.395em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="mjx-eqn-50"><span class="mrow" id="MathJax-Span-5339"><span class="mtext" id="MathJax-Span-5340" style="font-family: MathJax_Main;">(50)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.202em; vertical-align: -1.347em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-378">\begin{eqnarray}
  \Delta a^{l+1}_q \approx \frac{\partial a^{l+1}_q}{\partial a^l_j} \frac{\partial a^l_j}{\partial w^l_{jk}} \Delta w^l_{jk}.
\tag{50}\end{eqnarray}</script>
Of course, the change <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-379-Frame"><nobr><span class="math" id="MathJax-Span-5395" role="math" style="width: 2.6em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.551em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.463em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5396"><span class="mi" id="MathJax-Span-5397" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5398"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5399" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5400"><span class="mrow" id="MathJax-Span-5401"><span class="mi" id="MathJax-Span-5402" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-5403" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-5404" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5405" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.302em; vertical-align: -0.348em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-379">\Delta a^{l+1}_q</script> will, in turn, cause changes
in the activations in the next layer.  In fact, we can imagine a path
all the way through the network from <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-380-Frame"><nobr><span class="math" id="MathJax-Span-5406" role="math" style="width: 1.522em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5407"><span class="msubsup" id="MathJax-Span-5408"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5409" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5410" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5411"><span class="mrow" id="MathJax-Span-5412"><span class="mi" id="MathJax-Span-5413" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5414" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-380">w^l_{jk}</script> to <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-381-Frame"><nobr><span class="math" id="MathJax-Span-5415" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5416"><span class="mi" id="MathJax-Span-5417" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-381">C</script>, with each
change in activation causing a change in the next activation, and,
finally, a change in the cost at the output.  If the path goes through
activations <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-382-Frame"><nobr><span class="math" id="MathJax-Span-5418" role="math" style="width: 9.071em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.875em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5419"><span class="msubsup" id="MathJax-Span-5420"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5421" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5422" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5423" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5424" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-5425" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5426" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5427"><span class="mrow" id="MathJax-Span-5428"><span class="mi" id="MathJax-Span-5429" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-5430" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-5431" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5432" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5433" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-5434" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span><span class="mo" id="MathJax-Span-5435" style="font-family: MathJax_Main; padding-left: 0.15em;">,</span><span class="msubsup" id="MathJax-Span-5436" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5437" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5438"><span class="mrow" id="MathJax-Span-5439"><span class="mi" id="MathJax-Span-5440" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-5441" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-5442" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5443" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5444" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-5445" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5446" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5447" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5448" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.497em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-382">a^l_j, a^{l+1}_q, \ldots, a^{L-1}_n, a^L_m</script> then the
resulting expression is
<a class="displaced_anchor" name="eqtn51"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-383-Frame"><nobr><span class="math" id="MathJax-Span-5449" role="math" style="width: 100%; display: inline-block; min-width: 26.228em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 26.228em;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-5450"><span class="mtable" id="MathJax-Span-5451" style="min-width: 26.767em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 26.228em;"><span style="display: inline-block; position: absolute; width: 20.002em; height: 0px; clip: rect(-1.909em 1000.002em 1.424em -999.998em); top: 0.002em; left: 50%; margin-left: -9.998em;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 20.002em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-5455"><span class="mrow" id="MathJax-Span-5456"><span class="mi" id="MathJax-Span-5457" style="font-family: MathJax_Main;">Δ</span><span class="mi" id="MathJax-Span-5458" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-5459" style="font-family: MathJax_Main; padding-left: 0.297em;">≈</span><span class="mfrac" id="MathJax-Span-5460" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-5461"><span class="mi" id="MathJax-Span-5462" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5463" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -3.233em; left: 50%; margin-left: -0.88em;"><span class="mrow" id="MathJax-Span-5464"><span class="mi" id="MathJax-Span-5465" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5466"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5467" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5468" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5469" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.914em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5470"><span style="display: inline-block; position: relative; width: 2.699em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -4.703em; left: 50%; margin-left: -0.88em;"><span class="mrow" id="MathJax-Span-5471"><span class="mi" id="MathJax-Span-5472" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5473"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5474" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5475" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5476" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -3.233em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-5477"><span class="mi" id="MathJax-Span-5478" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5479"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5480" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5481"><span class="mrow" id="MathJax-Span-5482"><span class="mi" id="MathJax-Span-5483" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-5484" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-5485" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5486" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.699em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5487"><span style="display: inline-block; position: relative; width: 2.699em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -4.703em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-5488"><span class="mi" id="MathJax-Span-5489" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5490"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5491" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5492"><span class="mrow" id="MathJax-Span-5493"><span class="mi" id="MathJax-Span-5494" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-5495" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-5496" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5497" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.463em -999.998em); top: -3.233em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-5498"><span class="mi" id="MathJax-Span-5499" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5500"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5501" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5502"><span class="mrow" id="MathJax-Span-5503"><span class="mi" id="MathJax-Span-5504" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-5505" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-5506" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5507" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.699em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-5508" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span><span class="mfrac" id="MathJax-Span-5509" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.463em -999.998em); top: -4.752em; left: 50%; margin-left: -1.125em;"><span class="mrow" id="MathJax-Span-5510"><span class="mi" id="MathJax-Span-5511" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5512"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5513" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5514"><span class="mrow" id="MathJax-Span-5515"><span class="mi" id="MathJax-Span-5516" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-5517" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-5518" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5519" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-5520"><span class="mi" id="MathJax-Span-5521" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5522"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5523" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5524" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5525" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.404em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5526"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.949em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-5527"><span class="mi" id="MathJax-Span-5528" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5529"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5530" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5531" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5532" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-5533"><span class="mi" id="MathJax-Span-5534" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5535"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5536" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5537" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5538"><span class="mrow" id="MathJax-Span-5539"><span class="mi" id="MathJax-Span-5540" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5541" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mi" id="MathJax-Span-5542" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5543"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5544" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5545" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5546"><span class="mrow" id="MathJax-Span-5547"><span class="mi" id="MathJax-Span-5548" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5549" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5550" style="font-family: MathJax_Main;">,</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.929em 1000.002em 0.395em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="mjx-eqn-51"><span class="mrow" id="MathJax-Span-5453"><span class="mtext" id="MathJax-Span-5454" style="font-family: MathJax_Main;">(51)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.202em; vertical-align: -1.347em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-383">\begin{eqnarray}
  \Delta C \approx \frac{\partial C}{\partial a^L_m} 
  \frac{\partial a^L_m}{\partial a^{L-1}_n}
  \frac{\partial a^{L-1}_n}{\partial a^{L-2}_p} \ldots
  \frac{\partial a^{l+1}_q}{\partial a^l_j}
  \frac{\partial a^l_j}{\partial w^l_{jk}} \Delta w^l_{jk},
\tag{51}\end{eqnarray}</script>
that is, we've picked up a <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-384-Frame"><nobr><span class="math" id="MathJax-Span-5551" role="math" style="width: 2.748em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.699em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5552"><span class="mi" id="MathJax-Span-5553" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5554" style="font-family: MathJax_Math-italic;">a</span><span class="texatom" id="MathJax-Span-5555"><span class="mrow" id="MathJax-Span-5556"><span class="mo" id="MathJax-Span-5557" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-5558" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5559" style="font-family: MathJax_Math-italic;">a</span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-384">\partial a / \partial a</script> type term for
each additional neuron we've passed through, as well as the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-385-Frame"><nobr><span class="math" id="MathJax-Span-5560" role="math" style="width: 3.728em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.63em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.414em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5561"><span class="mi" id="MathJax-Span-5562" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5563" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-5564"><span class="mrow" id="MathJax-Span-5565"><span class="mo" id="MathJax-Span-5566" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-5567" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5568"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5569" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5570" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5571" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.297em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-385">\partial
C/\partial a^L_m</script> term at the end.  This represents the change in <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-386-Frame"><nobr><span class="math" id="MathJax-Span-5572" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5573"><span class="mi" id="MathJax-Span-5574" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-386">C</script>
due to changes in the activations along this particular path through
the network.  Of course, there's many paths by which a change in
<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-387-Frame"><nobr><span class="math" id="MathJax-Span-5575" role="math" style="width: 1.522em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5576"><span class="msubsup" id="MathJax-Span-5577"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5578" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5579" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5580"><span class="mrow" id="MathJax-Span-5581"><span class="mi" id="MathJax-Span-5582" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5583" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-387">w^l_{jk}</script> can propagate to affect the cost, and we've been
considering just a single path. To compute the total change in <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-388-Frame"><nobr><span class="math" id="MathJax-Span-5584" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5585"><span class="mi" id="MathJax-Span-5586" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-388">C</script> it
is plausible that we should sum over all the possible paths between
the weight and the final cost, i.e.,
<a class="displaced_anchor" name="eqtn52"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-389-Frame"><nobr><span class="math" id="MathJax-Span-5587" role="math" style="width: 100%; display: inline-block; min-width: 28.875em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 28.875em;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-5588"><span class="mtable" id="MathJax-Span-5589" style="min-width: 29.463em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 28.875em;"><span style="display: inline-block; position: absolute; width: 22.699em; height: 0px; clip: rect(-1.909em 1000.002em 1.424em -999.998em); top: 0.002em; left: 50%; margin-left: -11.37em;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 22.699em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-5593"><span class="mrow" id="MathJax-Span-5594"><span class="mi" id="MathJax-Span-5595" style="font-family: MathJax_Main;">Δ</span><span class="mi" id="MathJax-Span-5596" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-5597" style="font-family: MathJax_Main; padding-left: 0.297em;">≈</span><span class="munderover" id="MathJax-Span-5598" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 2.551em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.542em;"><span class="mo" id="MathJax-Span-5599" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.414em -999.998em); top: -2.988em; left: 0.002em;"><span class="texatom" id="MathJax-Span-5600"><span class="mrow" id="MathJax-Span-5601"><span class="mi" id="MathJax-Span-5602" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span class="mi" id="MathJax-Span-5603" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-5604" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span class="mo" id="MathJax-Span-5605" style="font-size: 70.7%; font-family: MathJax_Main;">…</span><span class="mi" id="MathJax-Span-5606" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5607" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-5608"><span class="mi" id="MathJax-Span-5609" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5610" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -3.233em; left: 50%; margin-left: -0.88em;"><span class="mrow" id="MathJax-Span-5611"><span class="mi" id="MathJax-Span-5612" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5613"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5614" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5615" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5616" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.914em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5617"><span style="display: inline-block; position: relative; width: 2.699em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -4.703em; left: 50%; margin-left: -0.88em;"><span class="mrow" id="MathJax-Span-5618"><span class="mi" id="MathJax-Span-5619" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5620"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5621" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5622" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5623" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -3.233em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-5624"><span class="mi" id="MathJax-Span-5625" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5626"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5627" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5628"><span class="mrow" id="MathJax-Span-5629"><span class="mi" id="MathJax-Span-5630" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-5631" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-5632" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5633" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.699em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5634"><span style="display: inline-block; position: relative; width: 2.699em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -4.703em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-5635"><span class="mi" id="MathJax-Span-5636" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5637"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5638" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5639"><span class="mrow" id="MathJax-Span-5640"><span class="mi" id="MathJax-Span-5641" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-5642" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-5643" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5644" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.463em -999.998em); top: -3.233em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-5645"><span class="mi" id="MathJax-Span-5646" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5647"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5648" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5649"><span class="mrow" id="MathJax-Span-5650"><span class="mi" id="MathJax-Span-5651" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-5652" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-5653" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5654" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.699em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-5655" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span><span class="mfrac" id="MathJax-Span-5656" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.463em -999.998em); top: -4.752em; left: 50%; margin-left: -1.125em;"><span class="mrow" id="MathJax-Span-5657"><span class="mi" id="MathJax-Span-5658" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5659"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5660" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5661"><span class="mrow" id="MathJax-Span-5662"><span class="mi" id="MathJax-Span-5663" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-5664" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-5665" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5666" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-5667"><span class="mi" id="MathJax-Span-5668" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5669"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5670" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5671" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5672" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.404em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5673"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.949em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-5674"><span class="mi" id="MathJax-Span-5675" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5676"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5677" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5678" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5679" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-5680"><span class="mi" id="MathJax-Span-5681" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5682"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5683" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5684" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5685"><span class="mrow" id="MathJax-Span-5686"><span class="mi" id="MathJax-Span-5687" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5688" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mi" id="MathJax-Span-5689" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5690"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5691" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5692" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5693"><span class="mrow" id="MathJax-Span-5694"><span class="mi" id="MathJax-Span-5695" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5696" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mo" id="MathJax-Span-5697" style="font-family: MathJax_Main;">,</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.929em 1000.002em 0.395em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="mjx-eqn-52"><span class="mrow" id="MathJax-Span-5591"><span class="mtext" id="MathJax-Span-5592" style="font-family: MathJax_Main;">(52)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.202em; vertical-align: -1.347em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-389">\begin{eqnarray} 
  \Delta C \approx \sum_{mnp\ldots q} \frac{\partial C}{\partial a^L_m} 
  \frac{\partial a^L_m}{\partial a^{L-1}_n}
  \frac{\partial a^{L-1}_n}{\partial a^{L-2}_p} \ldots
  \frac{\partial a^{l+1}_q}{\partial a^l_j} 
  \frac{\partial a^l_j}{\partial w^l_{jk}} \Delta w^l_{jk},
\tag{52}\end{eqnarray}</script>
where we've summed over all possible choices for the intermediate
neurons along the path.  Comparing with <span id="margin_797965654377_reveal" class="equation_link">(47)</span><span id="margin_797965654377" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn47" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-390-Frame"><nobr><span class="math" id="MathJax-Span-5698" role="math" style="width: 8.091em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.944em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5699"><span class="mtable" id="MathJax-Span-5700" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 7.65em; height: 0px;"><span style="position: absolute; clip: rect(2.306em 1000.002em 5.248em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 7.65em; height: 0px;"><span style="position: absolute; clip: rect(2.502em 1000.002em 5.444em -999.998em); top: -4.213em; right: 0.002em;"><span class="mtd" id="MathJax-Span-5701"><span class="mrow" id="MathJax-Span-5702"><span class="mi" id="MathJax-Span-5703" style="font-family: MathJax_Main;">Δ</span><span class="mi" id="MathJax-Span-5704" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-5705" style="font-family: MathJax_Main; padding-left: 0.297em;">≈</span><span class="mfrac" id="MathJax-Span-5706" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-5707"><span class="mi" id="MathJax-Span-5708" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5709" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-5710"><span class="mi" id="MathJax-Span-5711" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5712"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5713" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5714" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5715"><span class="mrow" id="MathJax-Span-5716"><span class="mi" id="MathJax-Span-5717" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5718" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mi" id="MathJax-Span-5719" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-5720"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5721" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5722" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5723"><span class="mrow" id="MathJax-Span-5724"><span class="mi" id="MathJax-Span-5725" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5726" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.802em; vertical-align: -1.147em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-390">\begin{eqnarray} 
  \Delta C \approx \frac{\partial C}{\partial w^l_{jk}} \Delta w^l_{jk} \nonumber\end{eqnarray}</script></a></span><script>$('#margin_797965654377_reveal').click(function() {$('#margin_797965654377').toggle('slow', function() {});});</script> we
see that
<a class="displaced_anchor" name="eqtn53"></a><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-391-Frame"><nobr><span class="math" id="MathJax-Span-5727" role="math" style="width: 100%; display: inline-block; min-width: 27.404em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%; min-width: 27.404em;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em; width: 100%;"><span class="mrow" id="MathJax-Span-5728"><span class="mtable" id="MathJax-Span-5729" style="min-width: 27.944em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 27.404em;"><span style="display: inline-block; position: absolute; width: 21.228em; height: 0px; clip: rect(-1.909em 1000.002em 1.424em -999.998em); top: 0.002em; left: 50%; margin-left: -10.586em;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 21.228em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-5733"><span class="mrow" id="MathJax-Span-5734"><span class="mfrac" id="MathJax-Span-5735"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-5736"><span class="mi" id="MathJax-Span-5737" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5738" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-5739"><span class="mi" id="MathJax-Span-5740" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5741"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5742" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5743" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5744"><span class="mrow" id="MathJax-Span-5745"><span class="mi" id="MathJax-Span-5746" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5747" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-5748" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="munderover" id="MathJax-Span-5749" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 2.551em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.542em;"><span class="mo" id="MathJax-Span-5750" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.414em -999.998em); top: -2.988em; left: 0.002em;"><span class="texatom" id="MathJax-Span-5751"><span class="mrow" id="MathJax-Span-5752"><span class="mi" id="MathJax-Span-5753" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span class="mi" id="MathJax-Span-5754" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-5755" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span class="mo" id="MathJax-Span-5756" style="font-size: 70.7%; font-family: MathJax_Main;">…</span><span class="mi" id="MathJax-Span-5757" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5758" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-5759"><span class="mi" id="MathJax-Span-5760" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5761" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -3.233em; left: 50%; margin-left: -0.88em;"><span class="mrow" id="MathJax-Span-5762"><span class="mi" id="MathJax-Span-5763" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5764"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5765" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5766" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5767" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.914em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5768"><span style="display: inline-block; position: relative; width: 2.699em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -4.703em; left: 50%; margin-left: -0.88em;"><span class="mrow" id="MathJax-Span-5769"><span class="mi" id="MathJax-Span-5770" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5771"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5772" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5773" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5774" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -3.233em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-5775"><span class="mi" id="MathJax-Span-5776" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5777"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5778" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5779"><span class="mrow" id="MathJax-Span-5780"><span class="mi" id="MathJax-Span-5781" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-5782" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-5783" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5784" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.699em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5785"><span style="display: inline-block; position: relative; width: 2.699em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -4.703em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-5786"><span class="mi" id="MathJax-Span-5787" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5788"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5789" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5790"><span class="mrow" id="MathJax-Span-5791"><span class="mi" id="MathJax-Span-5792" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-5793" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-5794" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5795" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.463em -999.998em); top: -3.233em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-5796"><span class="mi" id="MathJax-Span-5797" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5798"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5799" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5800"><span class="mrow" id="MathJax-Span-5801"><span class="mi" id="MathJax-Span-5802" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-5803" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-5804" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5805" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.699em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-5806" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span><span class="mfrac" id="MathJax-Span-5807" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.463em -999.998em); top: -4.752em; left: 50%; margin-left: -1.125em;"><span class="mrow" id="MathJax-Span-5808"><span class="mi" id="MathJax-Span-5809" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5810"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5811" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5812"><span class="mrow" id="MathJax-Span-5813"><span class="mi" id="MathJax-Span-5814" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-5815" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-5816" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5817" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-5818"><span class="mi" id="MathJax-Span-5819" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5820"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5821" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5822" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5823" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.404em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5824"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.949em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-5825"><span class="mi" id="MathJax-Span-5826" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5827"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5828" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5829" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5830" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-5831"><span class="mi" id="MathJax-Span-5832" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5833"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5834" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5835" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5836"><span class="mrow" id="MathJax-Span-5837"><span class="mi" id="MathJax-Span-5838" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5839" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-5840" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.767em; height: 0px; clip: rect(-0.929em 1000.002em 0.395em -999.998em); top: 0.002em; right: 0.002em; margin-left: 0.787em; margin-right: 0.787em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.414em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="mjx-eqn-53"><span class="mrow" id="MathJax-Span-5731"><span class="mtext" id="MathJax-Span-5732" style="font-family: MathJax_Main;">(53)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.202em; vertical-align: -1.347em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-391">\begin{eqnarray} 
  \frac{\partial C}{\partial w^l_{jk}} = \sum_{mnp\ldots q} \frac{\partial C}{\partial a^L_m} 
  \frac{\partial a^L_m}{\partial a^{L-1}_n}
  \frac{\partial a^{L-1}_n}{\partial a^{L-2}_p} \ldots
  \frac{\partial a^{l+1}_q}{\partial a^l_j} 
  \frac{\partial a^l_j}{\partial w^l_{jk}}.
\tag{53}\end{eqnarray}</script>
Now, Equation <span id="margin_585294733664_reveal" class="equation_link">(53)</span><span id="margin_585294733664" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn53" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-392-Frame"><nobr><span class="math" id="MathJax-Span-5841" role="math" style="width: 21.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 21.228em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5842"><span class="mtable" id="MathJax-Span-5843" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 20.934em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 20.934em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-5844"><span class="mrow" id="MathJax-Span-5845"><span class="mfrac" id="MathJax-Span-5846"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-5847"><span class="mi" id="MathJax-Span-5848" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5849" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-5850"><span class="mi" id="MathJax-Span-5851" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5852"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5853" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5854" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5855"><span class="mrow" id="MathJax-Span-5856"><span class="mi" id="MathJax-Span-5857" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5858" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-5859" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="munderover" id="MathJax-Span-5860" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 2.551em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.542em;"><span class="mo" id="MathJax-Span-5861" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.414em -999.998em); top: -2.988em; left: 0.002em;"><span class="texatom" id="MathJax-Span-5862"><span class="mrow" id="MathJax-Span-5863"><span class="mi" id="MathJax-Span-5864" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span class="mi" id="MathJax-Span-5865" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-5866" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span class="mo" id="MathJax-Span-5867" style="font-size: 70.7%; font-family: MathJax_Main;">…</span><span class="mi" id="MathJax-Span-5868" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5869" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-5870"><span class="mi" id="MathJax-Span-5871" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5872" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -3.233em; left: 50%; margin-left: -0.88em;"><span class="mrow" id="MathJax-Span-5873"><span class="mi" id="MathJax-Span-5874" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5875"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5876" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5877" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5878" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.914em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5879"><span style="display: inline-block; position: relative; width: 2.699em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -4.703em; left: 50%; margin-left: -0.88em;"><span class="mrow" id="MathJax-Span-5880"><span class="mi" id="MathJax-Span-5881" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5882"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5883" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5884" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5885" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -3.233em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-5886"><span class="mi" id="MathJax-Span-5887" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5888"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5889" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5890"><span class="mrow" id="MathJax-Span-5891"><span class="mi" id="MathJax-Span-5892" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-5893" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-5894" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5895" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.699em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5896"><span style="display: inline-block; position: relative; width: 2.699em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -4.703em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-5897"><span class="mi" id="MathJax-Span-5898" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5899"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5900" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5901"><span class="mrow" id="MathJax-Span-5902"><span class="mi" id="MathJax-Span-5903" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-5904" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-5905" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5906" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.463em -999.998em); top: -3.233em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-5907"><span class="mi" id="MathJax-Span-5908" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5909"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5910" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5911"><span class="mrow" id="MathJax-Span-5912"><span class="mi" id="MathJax-Span-5913" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-5914" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-5915" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5916" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.699em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-5917" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span><span class="mfrac" id="MathJax-Span-5918" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.463em -999.998em); top: -4.752em; left: 50%; margin-left: -1.125em;"><span class="mrow" id="MathJax-Span-5919"><span class="mi" id="MathJax-Span-5920" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5921"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5922" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5923"><span class="mrow" id="MathJax-Span-5924"><span class="mi" id="MathJax-Span-5925" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-5926" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-5927" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-5928" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-5929"><span class="mi" id="MathJax-Span-5930" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5931"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5932" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5933" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5934" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.404em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-5935"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.949em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-5936"><span class="mi" id="MathJax-Span-5937" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5938"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5939" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-5940" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5941" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-5942"><span class="mi" id="MathJax-Span-5943" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5944"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5945" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5946" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5947"><span class="mrow" id="MathJax-Span-5948"><span class="mi" id="MathJax-Span-5949" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5950" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.202em; vertical-align: -1.347em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-392">\begin{eqnarray} 
  \frac{\partial C}{\partial w^l_{jk}} = \sum_{mnp\ldots q} \frac{\partial C}{\partial a^L_m} 
  \frac{\partial a^L_m}{\partial a^{L-1}_n}
  \frac{\partial a^{L-1}_n}{\partial a^{L-2}_p} \ldots
  \frac{\partial a^{l+1}_q}{\partial a^l_j} 
  \frac{\partial a^l_j}{\partial w^l_{jk}} \nonumber\end{eqnarray}</script></a></span><script>$('#margin_585294733664_reveal').click(function() {$('#margin_585294733664').toggle('slow', function() {});});</script> looks complicated.  However,
it has a nice intuitive interpretation.  We're computing the rate of
change of <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-393-Frame"><nobr><span class="math" id="MathJax-Span-5951" role="math" style="width: 0.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.787em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.189em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5952"><span class="mi" id="MathJax-Span-5953" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.853em; vertical-align: -0.048em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-393">C</script> with respect to a weight in the network.  What the
equation tells us is that every edge between two neurons in the
network is associated with a rate factor which is just the partial
derivative of one neuron's activation with respect to the other
neuron's activation.  The edge from the first weight to the first
neuron has a rate factor <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-394-Frame"><nobr><span class="math" id="MathJax-Span-5954" role="math" style="width: 4.071em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.973em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5955"><span class="mi" id="MathJax-Span-5956" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5957"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5958" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-5959"><span class="mrow" id="MathJax-Span-5960"><span class="mi" id="MathJax-Span-5961" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-5962" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="texatom" id="MathJax-Span-5963"><span class="mrow" id="MathJax-Span-5964"><span class="mo" id="MathJax-Span-5965" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-5966" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5967"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5968" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5969" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5970"><span class="mrow" id="MathJax-Span-5971"><span class="mi" id="MathJax-Span-5972" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5973" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-394">\partial a^{l}_j / \partial w^l_{jk}</script>.  The
rate factor for a path is just the product of the rate factors along
the path.  And the total rate of change <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-395-Frame"><nobr><span class="math" id="MathJax-Span-5974" role="math" style="width: 3.924em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.826em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5975"><span class="mi" id="MathJax-Span-5976" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5977" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-5978"><span class="mrow" id="MathJax-Span-5979"><span class="mo" id="MathJax-Span-5980" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-5981" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-5982"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-5983" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-5984" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-5985"><span class="mrow" id="MathJax-Span-5986"><span class="mi" id="MathJax-Span-5987" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-5988" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.453em; vertical-align: -0.547em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-395">\partial C / \partial
w^l_{jk}</script> is just the sum of the rate factors of all paths from the
initial weight to the final cost.  This procedure is illustrated here,
for a single path:
<center>
<img src="./Neural networks and deep learning 2_files/tikz27.png">
</center><p></p><p>What I've been providing up to now is a heuristic argument, a way of
thinking about what's going on when you perturb a weight in a network.
Let me sketch out a line of thinking you could use to further develop
this argument.  First, you could derive explicit expressions for all
the individual partial derivatives in
Equation <span id="margin_647999059644_reveal" class="equation_link">(53)</span><span id="margin_647999059644" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn53" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-396-Frame"><nobr><span class="math" id="MathJax-Span-5989" role="math" style="width: 21.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 21.228em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5990"><span class="mtable" id="MathJax-Span-5991" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 20.934em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 20.934em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-5992"><span class="mrow" id="MathJax-Span-5993"><span class="mfrac" id="MathJax-Span-5994"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-5995"><span class="mi" id="MathJax-Span-5996" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-5997" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-5998"><span class="mi" id="MathJax-Span-5999" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6000"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6001" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-6002" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-6003"><span class="mrow" id="MathJax-Span-6004"><span class="mi" id="MathJax-Span-6005" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-6006" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-6007" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="munderover" id="MathJax-Span-6008" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 2.551em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.542em;"><span class="mo" id="MathJax-Span-6009" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.414em -999.998em); top: -2.988em; left: 0.002em;"><span class="texatom" id="MathJax-Span-6010"><span class="mrow" id="MathJax-Span-6011"><span class="mi" id="MathJax-Span-6012" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span class="mi" id="MathJax-Span-6013" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-6014" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span class="mo" id="MathJax-Span-6015" style="font-size: 70.7%; font-family: MathJax_Main;">…</span><span class="mi" id="MathJax-Span-6016" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-6017" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-6018"><span class="mi" id="MathJax-Span-6019" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-6020" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -3.233em; left: 50%; margin-left: -0.88em;"><span class="mrow" id="MathJax-Span-6021"><span class="mi" id="MathJax-Span-6022" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6023"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6024" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-6025" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-6026" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.914em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-6027"><span style="display: inline-block; position: relative; width: 2.699em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -4.703em; left: 50%; margin-left: -0.88em;"><span class="mrow" id="MathJax-Span-6028"><span class="mi" id="MathJax-Span-6029" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6030"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6031" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-6032" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-6033" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -3.233em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-6034"><span class="mi" id="MathJax-Span-6035" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6036"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6037" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-6038"><span class="mrow" id="MathJax-Span-6039"><span class="mi" id="MathJax-Span-6040" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-6041" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-6042" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-6043" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.699em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-6044"><span style="display: inline-block; position: relative; width: 2.699em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -4.703em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-6045"><span class="mi" id="MathJax-Span-6046" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6047"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6048" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-6049"><span class="mrow" id="MathJax-Span-6050"><span class="mi" id="MathJax-Span-6051" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-6052" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-6053" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-6054" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.463em -999.998em); top: -3.233em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-6055"><span class="mi" id="MathJax-Span-6056" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6057"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6058" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-6059"><span class="mrow" id="MathJax-Span-6060"><span class="mi" id="MathJax-Span-6061" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-6062" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-6063" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-6064" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.699em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-6065" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span><span class="mfrac" id="MathJax-Span-6066" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.463em -999.998em); top: -4.752em; left: 50%; margin-left: -1.125em;"><span class="mrow" id="MathJax-Span-6067"><span class="mi" id="MathJax-Span-6068" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6069"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6070" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-6071"><span class="mrow" id="MathJax-Span-6072"><span class="mi" id="MathJax-Span-6073" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-6074" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-6075" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-6076" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-6077"><span class="mi" id="MathJax-Span-6078" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6079"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6080" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-6081" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-6082" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.404em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-6083"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.949em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-6084"><span class="mi" id="MathJax-Span-6085" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6086"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6087" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-6088" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-6089" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-6090"><span class="mi" id="MathJax-Span-6091" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6092"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6093" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-6094" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-6095"><span class="mrow" id="MathJax-Span-6096"><span class="mi" id="MathJax-Span-6097" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-6098" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.202em; vertical-align: -1.347em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-396">\begin{eqnarray} 
  \frac{\partial C}{\partial w^l_{jk}} = \sum_{mnp\ldots q} \frac{\partial C}{\partial a^L_m} 
  \frac{\partial a^L_m}{\partial a^{L-1}_n}
  \frac{\partial a^{L-1}_n}{\partial a^{L-2}_p} \ldots
  \frac{\partial a^{l+1}_q}{\partial a^l_j} 
  \frac{\partial a^l_j}{\partial w^l_{jk}} \nonumber\end{eqnarray}</script></a></span><script>$('#margin_647999059644_reveal').click(function() {$('#margin_647999059644').toggle('slow', function() {});});</script>.  That's easy to do with a bit of
calculus.  Having done that, you could then try to figure out how to
write all the sums over indices as matrix multiplications.  This turns
out to be tedious, and requires some persistence, but not
extraordinary insight.  After doing all this, and then simplifying as
much as possible, what you discover is that you end up with exactly
the backpropagation algorithm!  And so you can think of the
backpropagation algorithm as providing a way of computing the sum over
the rate factor for all these paths.  Or, to put it slightly
differently, the backpropagation algorithm is a clever way of keeping
track of small perturbations to the weights (and biases) as they
propagate through the network, reach the output, and then affect the
cost.</p><p>Now, I'm not going work through all this here.  It's messy and
requires considerable care to work through all the details.  If you're
up for a challenge, you may enjoy attempting it.  And even if not, I
hope this line of thinking gives you some insight into what
backpropagation is accomplishing.</p><p>What about the other mystery - how backpropagation could have been
discovered in the first place?  In fact, if you follow the approach I
just sketched you will discover a proof of backpropagation.
Unfortunately, the proof is quite a bit longer and more complicated
than the one I described earlier in this chapter.  So how was that
short (but more mysterious) proof discovered?  What you find when you
write out all the details of the long proof is that, after the fact,
there are several obvious simplifications staring you in the face.
You make those simplifications, get a shorter proof, and write that
out.  And then several more obvious simplifications jump out at
you. So you repeat again.  The result after a few iterations is the
proof we saw earlier*<span class="marginnote">
*There is one clever step required.  In
  Equation <span id="margin_481060683410_reveal" class="equation_link">(53)</span><span id="margin_481060683410" class="marginequation" style="display: none;"><a href="http://neuralnetworksanddeeplearning.com/chap2.html#eqtn53" style="padding-bottom: 5px;" onmouseover="this.style.borderBottom=&#39;1px solid #2A6EA6&#39;;" onmouseout="this.style.borderBottom=&#39;0px&#39;;"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-397-Frame"><nobr><span class="math" id="MathJax-Span-6099" role="math" style="width: 21.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 21.228em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em;"><span class="mrow" id="MathJax-Span-6100"><span class="mtable" id="MathJax-Span-6101" style="padding-right: 0.15em; padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 20.934em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; left: 0.002em;"><span style="display: inline-block; position: relative; width: 20.934em; height: 0px;"><span style="position: absolute; clip: rect(2.11em 1000.002em 5.444em -999.998em); top: -4.017em; right: 0.002em;"><span class="mtd" id="MathJax-Span-6102"><span class="mrow" id="MathJax-Span-6103"><span class="mfrac" id="MathJax-Span-6104"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-6105"><span class="mi" id="MathJax-Span-6106" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-6107" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-6108"><span class="mi" id="MathJax-Span-6109" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6110"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6111" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-6112" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-6113"><span class="mrow" id="MathJax-Span-6114"><span class="mi" id="MathJax-Span-6115" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-6116" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-6117" style="font-family: MathJax_Main; padding-left: 0.297em;">=</span><span class="munderover" id="MathJax-Span-6118" style="padding-left: 0.297em;"><span style="display: inline-block; position: relative; width: 2.551em; height: 0px;"><span style="position: absolute; clip: rect(2.944em 1000.002em 4.61em -999.998em); top: -4.017em; left: 0.542em;"><span class="mo" id="MathJax-Span-6119" style="font-family: MathJax_Size2; vertical-align: 0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.414em -999.998em); top: -2.988em; left: 0.002em;"><span class="texatom" id="MathJax-Span-6120"><span class="mrow" id="MathJax-Span-6121"><span class="mi" id="MathJax-Span-6122" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span class="mi" id="MathJax-Span-6123" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-6124" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span class="mo" id="MathJax-Span-6125" style="font-size: 70.7%; font-family: MathJax_Main;">…</span><span class="mi" id="MathJax-Span-6126" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-6127" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 1.914em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.14em 1000.002em 4.169em -999.998em); top: -4.703em; left: 50%; margin-left: -0.684em;"><span class="mrow" id="MathJax-Span-6128"><span class="mi" id="MathJax-Span-6129" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-6130" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -3.233em; left: 50%; margin-left: -0.88em;"><span class="mrow" id="MathJax-Span-6131"><span class="mi" id="MathJax-Span-6132" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6133"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6134" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-6135" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-6136" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 1.914em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-6137"><span style="display: inline-block; position: relative; width: 2.699em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -4.703em; left: 50%; margin-left: -0.88em;"><span class="mrow" id="MathJax-Span-6138"><span class="mi" id="MathJax-Span-6139" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6140"><span style="display: inline-block; position: relative; width: 1.228em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6141" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-6142" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-6143" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -3.233em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-6144"><span class="mi" id="MathJax-Span-6145" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6146"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6147" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-6148"><span class="mrow" id="MathJax-Span-6149"><span class="mi" id="MathJax-Span-6150" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-6151" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-6152" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-6153" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.699em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-6154"><span style="display: inline-block; position: relative; width: 2.699em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.316em -999.998em); top: -4.703em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-6155"><span class="mi" id="MathJax-Span-6156" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6157"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6158" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-6159"><span class="mrow" id="MathJax-Span-6160"><span class="mi" id="MathJax-Span-6161" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-6162" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-6163" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.169em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-6164" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.463em -999.998em); top: -3.233em; left: 50%; margin-left: -1.272em;"><span class="mrow" id="MathJax-Span-6165"><span class="mi" id="MathJax-Span-6166" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6167"><span style="display: inline-block; position: relative; width: 2.012em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6168" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="texatom" id="MathJax-Span-6169"><span class="mrow" id="MathJax-Span-6170"><span class="mi" id="MathJax-Span-6171" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mo" id="MathJax-Span-6172" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-6173" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-6174" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.699em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mo" id="MathJax-Span-6175" style="font-family: MathJax_Main; padding-left: 0.15em;">…</span><span class="mfrac" id="MathJax-Span-6176" style="padding-left: 0.15em;"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(2.993em 1000.002em 4.463em -999.998em); top: -4.752em; left: 50%; margin-left: -1.125em;"><span class="mrow" id="MathJax-Span-6177"><span class="mi" id="MathJax-Span-6178" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6179"><span style="display: inline-block; position: relative; width: 1.718em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6180" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.218em -999.998em); top: -4.409em; left: 0.542em;"><span class="texatom" id="MathJax-Span-6181"><span class="mrow" id="MathJax-Span-6182"><span class="mi" id="MathJax-Span-6183" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-6184" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-6185" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.581em 1000.002em 4.316em -999.998em); top: -3.87em; left: 0.542em;"><span class="mi" id="MathJax-Span-6186" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -3.233em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-6187"><span class="mi" id="MathJax-Span-6188" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6189"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6190" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-6191" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-6192" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.404em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-6193"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px; margin-right: 0.1em; margin-left: 0.1em;"><span style="position: absolute; clip: rect(3.042em 1000.002em 4.61em -999.998em); top: -4.949em; left: 50%; margin-left: -0.733em;"><span class="mrow" id="MathJax-Span-6194"><span class="mi" id="MathJax-Span-6195" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6196"><span style="display: inline-block; position: relative; width: 0.885em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6197" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.542em;"><span class="mi" id="MathJax-Span-6198" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.723em; left: 0.542em;"><span class="mi" id="MathJax-Span-6199" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.042em 1000.002em 4.659em -999.998em); top: -3.233em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-6200"><span class="mi" id="MathJax-Span-6201" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="msubsup" id="MathJax-Span-6202"><span style="display: inline-block; position: relative; width: 1.473em; height: 0px;"><span style="position: absolute; clip: rect(3.434em 1000.002em 4.169em -999.998em); top: -4.017em; left: 0.002em;"><span class="mi" id="MathJax-Span-6203" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.169em -999.998em); top: -4.36em; left: 0.738em;"><span class="mi" id="MathJax-Span-6204" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.385em 1000.002em 4.316em -999.998em); top: -3.674em; left: 0.738em;"><span class="texatom" id="MathJax-Span-6205"><span class="mrow" id="MathJax-Span-6206"><span class="mi" id="MathJax-Span-6207" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-6208" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(0.885em 1000.002em 1.228em -999.998em); top: -1.272em; left: 0.002em;"><span style="border-left-width: 2.159em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.002em;"></span><span style="display: inline-block; width: 0px; height: 1.081em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.202em; vertical-align: -1.347em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-397">\begin{eqnarray} 
  \frac{\partial C}{\partial w^l_{jk}} = \sum_{mnp\ldots q} \frac{\partial C}{\partial a^L_m} 
  \frac{\partial a^L_m}{\partial a^{L-1}_n}
  \frac{\partial a^{L-1}_n}{\partial a^{L-2}_p} \ldots
  \frac{\partial a^{l+1}_q}{\partial a^l_j} 
  \frac{\partial a^l_j}{\partial w^l_{jk}} \nonumber\end{eqnarray}</script></a></span><script>$('#margin_481060683410_reveal').click(function() {$('#margin_481060683410').toggle('slow', function() {});});</script> the intermediate variables are
  activations like <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-398-Frame"><nobr><span class="math" id="MathJax-Span-6209" role="math" style="width: 1.801em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.72em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.864em 1000.004em 4.498em -999.996em); top: -3.999em; left: 0.004em;"><span class="mrow" id="MathJax-Span-6210"><span class="msubsup" id="MathJax-Span-6211"><span style="display: inline-block; position: relative; width: 1.72em; height: 0px;"><span style="position: absolute; clip: rect(3.354em 1000.004em 4.252em -999.996em); top: -3.999em; left: 0.004em;"><span class="mi" id="MathJax-Span-6212" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.272em 1000.004em 4.334em -999.996em); top: -4.408em; left: 0.494em;"><span class="texatom" id="MathJax-Span-6213"><span class="mrow" id="MathJax-Span-6214"><span class="mi" id="MathJax-Span-6215" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-6216" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-6217" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.435em 1000.004em 4.416em -999.996em); top: -3.836em; left: 0.494em;"><span class="mi" id="MathJax-Span-6218" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.338em; vertical-align: -0.329em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-398">a_q^{l+1}</script>.  The clever idea is to switch to using
  weighted inputs, like <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-399-Frame"><nobr><span class="math" id="MathJax-Span-6219" role="math" style="width: 1.801em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.72em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.864em 1000.004em 4.498em -999.996em); top: -3.999em; left: 0.004em;"><span class="mrow" id="MathJax-Span-6220"><span class="msubsup" id="MathJax-Span-6221"><span style="display: inline-block; position: relative; width: 1.72em; height: 0px;"><span style="position: absolute; clip: rect(3.354em 1000.004em 4.252em -999.996em); top: -3.999em; left: 0.004em;"><span class="mi" id="MathJax-Span-6222" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.272em 1000.004em 4.334em -999.996em); top: -4.408em; left: 0.494em;"><span class="texatom" id="MathJax-Span-6223"><span class="mrow" id="MathJax-Span-6224"><span class="mi" id="MathJax-Span-6225" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-6226" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-6227" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.435em 1000.004em 4.416em -999.996em); top: -3.836em; left: 0.494em;"><span class="mi" id="MathJax-Span-6228" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.338em; vertical-align: -0.329em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-399">z^{l+1}_q</script>, as the intermediate variables. If
  you don't have this idea, and instead continue using the activations
  <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-400-Frame"><nobr><span class="math" id="MathJax-Span-6229" role="math" style="width: 1.801em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.72em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.864em 1000.004em 4.498em -999.996em); top: -3.999em; left: 0.004em;"><span class="mrow" id="MathJax-Span-6230"><span class="msubsup" id="MathJax-Span-6231"><span style="display: inline-block; position: relative; width: 1.72em; height: 0px;"><span style="position: absolute; clip: rect(3.354em 1000.004em 4.252em -999.996em); top: -3.999em; left: 0.004em;"><span class="mi" id="MathJax-Span-6232" style="font-family: MathJax_Math-italic;">a</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.272em 1000.004em 4.334em -999.996em); top: -4.408em; left: 0.494em;"><span class="texatom" id="MathJax-Span-6233"><span class="mrow" id="MathJax-Span-6234"><span class="mi" id="MathJax-Span-6235" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-6236" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-6237" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.435em 1000.004em 4.416em -999.996em); top: -3.836em; left: 0.494em;"><span class="mi" id="MathJax-Span-6238" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.338em; vertical-align: -0.329em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-400">a^{l+1}_q</script>, the proof you obtain turns out to be slightly more
  complex than the proof given earlier in the chapter.</span> - short, but
somewhat obscure, because all the signposts to its construction have
been removed!  I am, of course, asking you to trust me on this, but
there really is no great mystery to the origin of the earlier proof.
It's just a lot of hard work simplifying the proof I've sketched in
this section.</p><p><br><br><br></p><p>
</p></div><div class="footer"> <span class="left_footer"> In academic work,
please cite this book as: Michael A. Nielsen, "Neural Networks and
Deep Learning", Determination Press, 2015

<br>
<br>

This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/deed.en_GB" style="color: #eee;">Creative Commons Attribution-NonCommercial 3.0
Unported License</a>.  This means you're free to copy, share, and
build on this book, but not to sell it.  If you're interested in
commercial use, please <a href="https://mail.google.com/mail/?view=cm&fs=1&tf=1&to=mn@michaelnielsen.org" target="_blank">contact me</a>.
</span>
<span class="right_footer">
Last update: Sun Dec 21 14:49:05 2014
<br>
<br>
<br>
<a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/deed.en_GB"><img alt="Creative Commons Licence" style="border-width:0" src="./Neural networks and deep learning 2_files/88x31.png"></a>
</span>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44208967-1', 'neuralnetworksanddeeplearning.com');
  ga('send', 'pageview');

</script>

<div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-family: MathJax_AMS, monospace;"></div></div></body></html>